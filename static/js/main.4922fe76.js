/*! For license information please see main.4922fe76.js.LICENSE.txt */
!function(){var e={307:function(){!function(e){if(!/MSIE 10/i.test(navigator.userAgent))try{var t=new Blob(["var fakeIdToId = {};onmessage = function (event) {\tvar data = event.data,\t\tname = data.name,\t\tfakeId = data.fakeId,\t\ttime;\tif(data.hasOwnProperty('time')) {\t\ttime = data.time;\t}\tswitch (name) {\t\tcase 'setInterval':\t\t\tfakeIdToId[fakeId] = setInterval(function () {\t\t\t\tpostMessage({fakeId: fakeId});\t\t\t}, time);\t\t\tbreak;\t\tcase 'clearInterval':\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\tclearInterval(fakeIdToId[fakeId]);\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t}\t\t\tbreak;\t\tcase 'setTimeout':\t\t\tfakeIdToId[fakeId] = setTimeout(function () {\t\t\t\tpostMessage({fakeId: fakeId});\t\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t\t}\t\t\t}, time);\t\t\tbreak;\t\tcase 'clearTimeout':\t\t\tif (fakeIdToId.hasOwnProperty (fakeId)) {\t\t\t\tclearTimeout(fakeIdToId[fakeId]);\t\t\t\tdelete fakeIdToId[fakeId];\t\t\t}\t\t\tbreak;\t}}"]);e=window.URL.createObjectURL(t)}catch(s){}var n,r={},i=0,a="HackTimer.js by turuslan: ";if("undefined"!==typeof Worker){var o=function(){do{2147483647==i?i=0:i++}while(r.hasOwnProperty(i));return i};try{n=new Worker(e),window.setInterval=function(e,t){var i=o();return r[i]={callback:e,parameters:Array.prototype.slice.call(arguments,2)},n.postMessage({name:"setInterval",fakeId:i,time:t}),i},window.clearInterval=function(e){r.hasOwnProperty(e)&&(delete r[e],n.postMessage({name:"clearInterval",fakeId:e}))},window.setTimeout=function(e,t){var i=o();return r[i]={callback:e,parameters:Array.prototype.slice.call(arguments,2),isTimeout:!0},n.postMessage({name:"setTimeout",fakeId:i,time:t}),i},window.clearTimeout=function(e){r.hasOwnProperty(e)&&(delete r[e],n.postMessage({name:"clearTimeout",fakeId:e}))},n.onmessage=function(e){var t,n,i,o=e.data.fakeId;if(r.hasOwnProperty(o)&&(i=(t=r[o]).callback,n=t.parameters,t.hasOwnProperty("isTimeout")&&t.isTimeout&&delete r[o]),"string"===typeof i)try{i=new Function(i)}catch(s){console.log(a+"Error parsing callback code string: ",s)}"function"===typeof i&&i.apply(window,n)},n.onerror=function(e){console.log(e)}}catch(s){console.log(a+"Initialisation failed"),console.error(s)}}else console.log(a+"Initialisation failed - HTML5 Web Worker is not supported")}("HackTimerWorker.js")},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var F,M=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case x:return"Portal";case S:return"Profiler";case _:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function $(e,t){J(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ae=null,_e=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Ae?_e?_e.push(e):_e=[e]:Ae=e}function Ee(){if(Ae){var e=Ae,t=_e;if(_e=Ae=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Te(e,t,n)}finally{Ne=!1,(null!==Ae||null!==_e)&&(Ce(),Ee())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Fe=!1,Me=null,je=!1,Ue=null,Ve={onError:function(e){Fe=!0,Me=e}};function Be(e,t,n,r,i,a,o,s,u){Fe=!1,Me=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,At,_t,St,It=!1,Et=[],Tt=null,Ct=null,Nt=null,Pt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){At(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){It=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ft(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Ft(Ct,e,t,n,r,i),!0;case"mouseover":return Nt=Ft(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Ft(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Ft(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),gn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(yn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function Sn(){return _n}var In=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(In),Tn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Fn=l&&"TextEvent"in window&&!Ln,Mn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){jr(e,0)}function Yn(e){if(W(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(l){var $n;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Gn(t,Wn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Hr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Ar={},_r={};function Sr(e){if(Ar[e])return Ar[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Ar[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Sr("animationend"),Er=Sr("animationiteration"),Tr=Sr("animationstart"),Cr=Sr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),u(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Ir,"onAnimationEnd"),Rr(Er,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var l=Me;Fe=!1,Me=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=En;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Ir:case Er:case Tr:u=gn;break;case Cr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Xn;else if(Kn(s))if(Jn)m=or;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?bi(r):window,e){case"focusin":(Kn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(y=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(g=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Bn(n))&&(k.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=$t=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Re(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Gr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Gr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ai=-1;function _i(e){return{current:e}}function Si(e){0>Ai||(e.current=xi[Ai],xi[Ai]=null,Ai--)}function Ii(e,t){Ai++,xi[Ai]=e.current,e.current=t}var Ei={},Ti=_i(Ei),Ci=_i(!1),Ni=Ei;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ci),Si(Ti)}function Di(e,t,n){if(Ti.current!==Ei)throw Error(a(168));Ii(Ti,t),Ii(Ci,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ni=Ti.current,Ii(Ti,e),Ii(Ci,Ci.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ci),Si(Ti),Ii(Ti,e)):Si(Ci),Ii(Ci,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Gi=null,Hi=0,Wi=[],Qi=0,Yi=null,Xi=1,Ji="";function $i(e,t){qi[Ki++]=Hi,qi[Ki++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=Xi,Wi[Qi++]=Ji,Wi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Hi=qi[--Ki],qi[Ki]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Ji=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ga=_i(null),ya=null,ka=null,ba=null;function wa(){ba=ka=ya=null}function xa(e){var t=ga.current;Si(ga),e._currentValue=t}function Aa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ya=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ya)throw Error(a(308));ka=e,ya.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ea(e){null===Ia?Ia=[e]:Ia.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ea(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ea(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ei,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ri(t)?Ni:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ei),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ri(t)?Ni:Ti.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===A?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Fc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),ia&&$i(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&$i(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&$i(i,v),c}function m(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),ia&&$i(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return ia&&$i(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===A&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===A){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===A?((a=Fc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ha(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ya(!0),Ja=Ya(!1),$a={},Za=_i($a),eo=_i($a),to=_i($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ii(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var so=_i(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,go=null,yo=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,go=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,go=mo=vo=null,yo=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?vo.memoizedState=go=e:go=go.next=e,go}function Eo(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===go?vo.memoizedState:go.next;if(null!==t)go=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===go?vo.memoizedState=go=e:go=go.next=e}return go}function To(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Eo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Ro(e,t){var n=vo,r=Eo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){Fo(t)&&Mo(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=Ca(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Eo().memoizedState}function Bo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Eo();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Ao(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Eo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return Eo().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ta(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ea(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Nu.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Jo,useReducer:Co,useRef:Vo,useState:function(){return Co(To)},useDebugValue:Yo,useDeferredValue:function(e){return $o(Eo(),mo.memoizedState,e)},useTransition:function(){return[Co(To)[0],Eo().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=Eo();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Eo().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,Hu=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=So(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function As(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_s(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Es(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Du,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Du,Ou),Ou|=r;return ws(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,i){var a=Ri(n)?Ni:Ti.current;return a=Pi(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=So(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Ts(e,t,n,r,i){if(Ri(n)){var a=!0;Fi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Ks(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Pi(t,c=Ri(n)?Ni:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Ka(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ci.current||Na?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Na||za(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Pi(t,u=Ri(n)?Ni:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ka(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ci.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Gs(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Os,Ds,Ls,Fs={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Fc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Fs,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Fc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Fs,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Nu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),rc(r,e,i,-1))}return mc(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=Xi,Wi[Qi++]=Ji,Wi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dc(r,s):(s=Fc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Fs,i}return e=(s=e.child).sibling,i=Dc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Aa(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ws(t),null;case 3:return r=t.stateNode,io(),Si(Ci),Si(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Os(e,t),Ws(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return io(),Os(e,t),null===e&&zr(t.stateNode.containerInfo),Ws(t),null;case 10:return xa(t.type._context),Ws(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ws(t),null}else 2*Je()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ii(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ci),Si(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Js=!1,$s="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,du(e,t,n),Js=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Sc(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Je())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||f,mu(t,e),Js=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,Zs=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ku(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Xs;var c=Js;if(Xs=o,(Js=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Au(i):null!==u?(u.return=o,Zs=u):Au(i);for(;null!==a;)Zs=a,bu(a,t,n),a=a.sibling;Zs=i,Xs=s,Js=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Js||512&t.flags&&au(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Au(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Sc(t,i,u)}}var a=t.return;try{au(t)}catch(u){Sc(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Sc(t,o,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var _u,Su=Math.ceil,Iu=b.ReactCurrentDispatcher,Eu=b.ReactCurrentOwner,Tu=b.ReactCurrentBatchConfig,Cu=0,Nu=null,Pu=null,Ru=0,Ou=0,Du=_i(0),Lu=0,Fu=null,Mu=0,ju=0,Uu=0,Vu=null,Bu=null,zu=0,qu=1/0,Ku=null,Gu=!1,Hu=null,Wu=null,Qu=!1,Yu=null,Xu=0,Ju=0,$u=null,Zu=-1,ec=0;function tc(){return 0!==(6&Cu)?Je():-1!==Zu?Zu:Zu=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,$u=null,Error(a(185));gt(e,n,r),0!==(2&Cu)&&e===Nu||(e===Nu&&(0===(2&Cu)&&(ju|=n),4===Lu&&uc(e,Ru)),ic(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(qu=Je()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Nu?Ru:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&Cu)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cu;Cu|=2;var o=vc();for(Nu===e&&Ru===t||(Ku=null,qu=Je()+500,dc(e,t));;)try{kc();break}catch(u){pc(e,u)}wa(),Iu.current=o,Cu=i,null!==Pu?t=0:(Nu=null,Ru=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Fu,dc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Fu,dc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bu,Ku);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zu+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bu,Ku),t);break}xc(e,Bu,Ku);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Su(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bu,Ku),r);break}xc(e,Bu,Ku);break;default:throw Error(a(329))}}}return ic(e,Je()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bu,Bu=n,null!==t&&sc(t)),e}function sc(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function uc(e,t){for(t&=~Uu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cu))throw Error(a(327));Ac();var t=ht(e,0);if(0===(1&t))return ic(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Fu,dc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bu,Ku),ic(e,Je()),null}function lc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(qu=Je()+500,Ui&&zi())}}function fc(e){null!==Yu&&0===Yu.tag&&0===(6&Cu)&&Ac();var t=Cu;Cu|=1;var n=Tu.transition,r=kt;try{if(Tu.transition=null,kt=1,e)return e()}finally{kt=r,Tu.transition=n,0===(6&(Cu=t))&&zi()}}function hc(){Ou=Du.current,Si(Du)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pu)for(n=Pu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Si(Ci),Si(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nu=e,Pu=e=Dc(e.current,null),Ru=Ou=t,Lu=0,Fu=null,Uu=ju=Mu=0,Bu=Vu=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Pu;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,go=mo=vo=null,ko=!1,bo=0,Eu.current=null,null===n||null===n.return){Lu=1,Fu=t,Pu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Wu||!Wu.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Pu===n&&null!==n&&(Pu=n=n.return);continue}break}}function vc(){var e=Iu.current;return Iu.current=os,null===e?os:e}function mc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Nu||0===(268435455&Mu)&&0===(268435455&ju)||uc(Nu,Ru)}function gc(e,t){var n=Cu;Cu|=2;var r=vc();for(Nu===e&&Ru===t||(Ku=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Cu=n,Iu.current=r,null!==Pu)throw Error(a(261));return Nu=null,Ru=0,Lu}function yc(){for(;null!==Pu;)bc(Pu)}function kc(){for(;null!==Pu&&!Ye();)bc(Pu)}function bc(e){var t=_u(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?wc(e):Pu=t,Eu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ou)))return void(Pu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Pu=n);if(null===e)return Lu=6,void(Pu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pu=t);Pu=t=e}while(null!==t);0===Lu&&(Lu=5)}function xc(e,t,n){var r=kt,i=Tu.transition;try{Tu.transition=null,kt=1,function(e,t,n,r){do{Ac()}while(null!==Yu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Nu&&(Pu=Nu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Nc(tt,(function(){return Ac(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=kt;kt=1;var u=Cu;Cu|=4,Eu.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,k=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,ku(n,e,i),Xe(),Cu=u,kt=s,Tu.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,Xu=i),o=e.pendingLanes,0===o&&(Wu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gu)throw Gu=!1,e=Hu,Hu=null,e;0!==(1&Xu)&&0!==e.tag&&Ac(),o=e.pendingLanes,0!==(1&o)?e===$u?Ju++:(Ju=0,$u=e):Ju=0,zi()}(e,t,n,r)}finally{Tu.transition=i,kt=r}return null}function Ac(){if(null!==Yu){var e=bt(Xu),t=Tu.transition,n=kt;try{if(Tu.transition=null,kt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Xu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Zs=y;break e}Zs=o.return}}var k=e.current;for(Zs=k;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=k;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Sc(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Cu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Tu.transition=t}}return!1}function _c(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Ru&n)===n&&(4===Lu||3===Lu&&(130023424&Ru)===Ru&&500>Je()-zu?dc(e,0):Uu|=n),ic(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ca(e,t))&&(gt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Nc(e,t){return We(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case A:return Fc(n.children,i,o,t);case _:s=8,i|=8;break;case S:return(e=Rc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case C:return(e=Rc(13,n,t,i)).elementType=C,e.lanes=o,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case E:s=9;break e;case T:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Fc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,s,u){return e=new Vc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function zc(e){if(!e)return Ei;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Bc(n,r,!0,e,0,a,0,s,u)).context=zc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Fi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ga,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ii(so,1&so.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ii(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Gs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ks(e,t),e=t.pendingProps;var i=Pi(t,Ti.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Es(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=As(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Ma(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Is(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ii(ga,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Gs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Aa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Aa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),As(e,t,r,i=ma(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ks(e,t),t.tag=1,Ri(r)?(e=!0,Fi(t)):e=!1,_a(t,n),qa(t,r,i),Ga(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Gc(o);s.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Gc(u);s.call(e)}}var u=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Kc(t,u,n,r)})),u}(n,t,e,i,r);return Gc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Kc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Cu)&&(qu=Je()+500,zi()))}break;case 13:fc((function(){var t=Ca(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},At=function(e){if(13===e.tag){var t=nc(e),n=Ca(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},_t=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));W(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,Ce=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Ee,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=k.prototype=new y;b.constructor=k,v(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,A={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:A.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(s=e[c],c);u+=C(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=a+T(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:A};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=A.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,_=!1,S=null,I=-1,E=5,T=-1;function C(){return!(t.unstable_now()-T<E)}function N(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?A():(_=!1,S=null)}}else _=!1}if("function"===typeof k)A=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,A=function(){R.postMessage(null)}}else A=function(){g(N,0)};function O(e){S=e,_||(_=!0,A())}function D(e,n){I=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(I),I=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".26e9d43d.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="petecode:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/PeteCodepages/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkpetecode=self.webpackChunkpetecode||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ni},SDK_VERSION:function(){return Ya},_DEFAULT_ENTRY_NAME:function(){return Fa},_addComponent:function(){return Va},_addOrOverwriteComponent:function(){return Ba},_apps:function(){return ja},_clearComponents:function(){return Ga},_components:function(){return Ua},_getProvider:function(){return qa},_registerComponent:function(){return za},_removeServiceInstance:function(){return Ka},deleteApp:function(){return Za},getApp:function(){return Ja},getApps:function(){return $a},initializeApp:function(){return Xa},onLog:function(){return to},registerVersion:function(){return eo},setLogLevel:function(){return no}});var t=n(791),r=n.t(t,2),i=n(250);var a;n.p;function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||u(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||f(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){var t=w();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function _(e,t,n){return _=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},_.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,e)},S(e)}function I(e){return o(e)||f(e)||u(e)||c()}function E(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));var C,N="popstate";function P(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?F(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function F(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e,t,n,r){void 0===r&&(r={});var i=r,o=i.window,s=void 0===o?document.defaultView:o,u=i.v5Compat,c=void 0!==u&&u,l=s.history,f=a.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=a.Pop;var e=p(),t=null==e?null:e-d;d=e,h&&h({action:f,location:g.location,delta:t})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:L(e);return P(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(T({},l.state,{idx:d}),""));var g={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(N,v),h=e,function(){s.removeEventListener(N,v),h=null}},createHref:function(e){return t(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=a.Push;var r=D(g.location,e,t);n&&n(r,e);var i=O(r,d=p()+1),o=g.createHref(r);try{l.pushState(i,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}c&&h&&h({action:f,location:g.location,delta:1})},replace:function(e,t){f=a.Replace;var r=D(g.location,e,t);n&&n(r,e);var i=O(r,d=p()),o=g.createHref(r);l.replaceState(i,"",o),c&&h&&h({action:f,location:g.location,delta:0})},go:function(e){return l.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function j(e,t,n){void 0===n&&(n="/");var r=$(("string"===typeof t?F(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Y(i[o],J(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(P(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ne([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(P(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),U(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Q(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=E(V(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function V(e){var t=e.split("/");if(0===t.length)return[];var n=I(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=V(i.join("/")),u=[];return u.push.apply(u,h(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,h(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var B=/^:\w+$/,z=3,q=2,K=1,G=10,H=-2,W=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(W)&&(r+=H),t&&(r+=q),n.filter((function(e){return!W(e)})).reduce((function(e,t){return e+(B.test(t)?z:""===t?K:G)}),r)}function Y(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=X({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ne([i,l.pathname]),pathnameBase:re(ne([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ne([i,l.pathnameBase]))}return a}function X(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function J(e){try{return decodeURI(e)}catch(t){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function $(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Z(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function te(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=F(e):(P(!(i=T({},e)).pathname||!i.pathname.includes("?"),Z("?","pathname","search",i)),P(!i.pathname||!i.pathname.includes("#"),Z("#","pathname","hash",i)),P(!i.search||!i.search.includes("#"),Z("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?F(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ie(a),hash:ae(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},re=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},oe=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(S(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ue=["post","put","patch","delete"],ce=(new Set(ue),["get"].concat(ue));new Set(ce),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}var fe=t.createContext(null);var he=t.createContext(null);var de=t.createContext(null);var pe=t.createContext(null);var ve=t.createContext(null);var me=t.createContext({outlet:null,matches:[],isDataRoute:!1});var ge=t.createContext(null);function ye(){return null!=t.useContext(ve)}function ke(){return ye()||P(!1),t.useContext(ve).location}function be(e){t.useContext(pe).static||t.useLayoutEffect(e)}function we(){return t.useContext(me).isDataRoute?function(){var e=Pe(Ce.UseNavigateStable).router,n=Oe(Ne.UseNavigateStable),r=t.useRef(!1);be((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,le({fromRouteId:n},i)))}),[e,n]);return i}():function(){ye()||P(!1);var e=t.useContext(fe),n=t.useContext(pe),r=n.basename,i=n.navigator,a=t.useContext(me).matches,o=ke().pathname,s=JSON.stringify(ee(a).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);return be((function(){u.current=!0})),t.useCallback((function(t,n){if(void 0===n&&(n={}),u.current)if("number"!==typeof t){var a=te(t,JSON.parse(s),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:ne([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,s,o,e])}()}function xe(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(me).matches,a=ke().pathname,o=JSON.stringify(ee(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return te(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Ae(e,n,r){ye()||P(!1);var i,o=t.useContext(pe).navigator,s=t.useContext(me).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,ke());if(n){var h,d="string"===typeof n?F(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||P(!1),i=d}else i=f;var p=i.pathname||"/",v=j(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Te(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ne([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ne([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,r);return n&&m?t.createElement(ve.Provider,{value:{location:le({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:a.Pop}},m):m}function _e(){var e=function(){var e,n=t.useContext(ge),r=Re(Ne.UseRouteError),i=Oe(Ne.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Se=t.createElement(_e,null),Ie=function(e){k(r,e);var n=A(r);function r(e){var t;return d(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return g(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(me.Provider,{value:this.props.routeContext},t.createElement(ge.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Ee(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(fe);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(me.Provider,{value:n},i)}function Te(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||P(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Se);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Ee,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Ie,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ce||{}),Ne=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ne||{});function Pe(e){var n=t.useContext(fe);return n||P(!1),n}function Re(e){var n=t.useContext(he);return n||P(!1),n}function Oe(e){var n=function(e){var n=t.useContext(me);return n||P(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||P(!1),r.route.id}r.startTransition;function De(e){P(!1)}function Le(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,o=void 0===i?null:i,s=e.location,u=e.navigationType,c=void 0===u?a.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;ye()&&P(!1);var d=r.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=F(s));var v=s,m=v.pathname,g=void 0===m?"/":m,y=v.search,k=void 0===y?"":y,b=v.hash,w=void 0===b?"":b,x=v.state,A=void 0===x?null:x,_=v.key,S=void 0===_?"default":_,I=t.useMemo((function(){var e=$(g,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:A,key:S},navigationType:c}}),[d,g,k,w,A,S,c]);return null==I?null:t.createElement(pe.Provider,{value:p},t.createElement(ve.Provider,{children:o,value:I}))}function Fe(e){var t=e.children,n=e.location;return Ae(Ue(t),n)}var Me=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Me||{}),je=new Promise((function(){}));t.Component;function Ue(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(h(n),[i]);if(e.type!==t.Fragment){e.type!==De&&P(!1),e.props.index&&e.props.children&&P(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ue(e.props.children,a)),r.push(o)}else r.push.apply(r,Ue(e.props.children,a))}})),r}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var ze=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],qe=["aria-current","caseSensitive","className","end","style","to","children"];var Ke=r.startTransition;function Ge(e){var n,r=e.basename,i=e.children,a=e.future,o=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),M((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,n)));var u=s.current,c=l(t.useState({action:u.action,location:u.location}),2),f=c[0],h=c[1],d=(a||{}).v7_startTransition,p=t.useCallback((function(e){d&&Ke?Ke((function(){return h(e)})):h(e)}),[h,d]);return t.useLayoutEffect((function(){return u.listen(p)}),[u,p]),t.createElement(Le,{basename:r,children:i,location:f.location,navigationType:f.action,navigator:u})}var He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,We=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=Be(e,ze),d=t.useContext(pe).basename,p=!1;if("string"===typeof l&&We.test(l)&&(r=l,He))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=$(m.pathname,d);m.origin===v.origin&&null!=g?l=g+m.search+m.hash:p=!0}catch(b){}var y=function(e,n){var r=(void 0===n?{}:n).relative;ye()||P(!1);var i=t.useContext(pe),a=i.basename,o=i.navigator,s=xe(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:ne([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=we(),l=ke(),f=xe(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(l)===L(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return t.createElement("a",Ve({},h,{href:r||y,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var Ye=t.forwardRef((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=Be(e,qe),v=xe(h,{relative:p.relative}),m=ke(),g=t.useContext(he),y=t.useContext(pe).navigator,k=y.encodeLocation?y.encodeLocation(v).pathname:v.pathname,b=m.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(b=b.toLowerCase(),w=w?w.toLowerCase():null,k=k.toLowerCase());var x,A=b===k||!l&&b.startsWith(k)&&"/"===b.charAt(k.length),_=null!=w&&(w===k||!l&&w.startsWith(k)&&"/"===w.charAt(k.length)),S=A?i:void 0;x="function"===typeof u?u({isActive:A,isPending:_}):[u,A?"active":null,_?"pending":null].filter(Boolean).join(" ");var I="function"===typeof f?f({isActive:A,isPending:_}):f;return t.createElement(Qe,Ve({},p,{"aria-current":S,className:x,ref:n,style:I,to:h}),"function"===typeof d?d({isActive:A,isPending:_}):d)}));var Xe,Je;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Xe||(Xe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Je||(Je={}));function $e(){$e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),s=new P(r||[]);return i(o,"_invoke",{value:E(e,n,s)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",d="suspendedYield",v="executing",m="completed",g={};function y(){}function k(){}function b(){}var w={};c(w,o,(function(){return this}));var x=Object.getPrototypeOf,A=x&&x(x(R([])));A&&A!==n&&r.call(A,o)&&(w=A);var _=b.prototype=y.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,s){var u=f(e[i],e,a);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==p(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function E(t,n,r){var i=h;return function(a,o){if(i===v)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?m:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function T(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(p(t)+" is not iterable")}return k.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:k,configurable:!0}),k.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},S(I.prototype),c(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new I(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(_),c(_,u,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function Ze(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function et(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ze(a,r,i,o,s,"next",e)}function s(e){Ze(a,r,i,o,s,"throw",e)}o(void 0)}))}}var tt=n.p+"static/media/Purdue-Pete.1495a760cf1f3f7b0fa2.jpg";function nt(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var rt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},it=t.createContext&&t.createContext(rt),at=function(){return at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},at.apply(this,arguments)},ot=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function st(e){return e&&e.map((function(e,n){return t.createElement(e.tag,at({key:n},e.attr),st(e.child))}))}function ut(e){return function(n){return t.createElement(ct,at({attr:at({},e.attr)},n),st(e.child))}}function ct(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=ot(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",at({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:at(at({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==it?t.createElement(it.Consumer,null,(function(e){return n(e)})):n(rt)}var lt=function(){return lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lt.apply(this,arguments)};function ft(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function ht(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var dt=n(613),pt=n.n(dt),vt="-ms-",mt="-moz-",gt="-webkit-",yt="comm",kt="rule",bt="decl",wt="@import",xt="@keyframes",At="@layer",_t=Math.abs,St=String.fromCharCode,It=Object.assign;function Et(e){return e.trim()}function Tt(e,t){return(e=t.exec(e))?e[0]:e}function Ct(e,t,n){return e.replace(t,n)}function Nt(e,t){return e.indexOf(t)}function Pt(e,t){return 0|e.charCodeAt(t)}function Rt(e,t,n){return e.slice(t,n)}function Ot(e){return e.length}function Dt(e){return e.length}function Lt(e,t){return t.push(e),e}function Ft(e,t){return e.filter((function(e){return!Tt(e,t)}))}var Mt=1,jt=1,Ut=0,Vt=0,Bt=0,zt="";function qt(e,t,n,r,i,a,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Mt,column:jt,length:o,return:"",siblings:s}}function Kt(e,t){return It(qt("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Gt(e){for(;e.root;)e=Kt(e.root,{children:[e]});Lt(e,e.siblings)}function Ht(){return Bt=Vt>0?Pt(zt,--Vt):0,jt--,10===Bt&&(jt=1,Mt--),Bt}function Wt(){return Bt=Vt<Ut?Pt(zt,Vt++):0,jt++,10===Bt&&(jt=1,Mt++),Bt}function Qt(){return Pt(zt,Vt)}function Yt(){return Vt}function Xt(e,t){return Rt(zt,e,t)}function Jt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $t(e){return Mt=jt=1,Ut=Ot(zt=e),Vt=0,[]}function Zt(e){return zt="",e}function en(e){return Et(Xt(Vt-1,rn(91===e?e+2:40===e?e+1:e)))}function tn(e){for(;(Bt=Qt())&&Bt<33;)Wt();return Jt(e)>2||Jt(Bt)>3?"":" "}function nn(e,t){for(;--t&&Wt()&&!(Bt<48||Bt>102||Bt>57&&Bt<65||Bt>70&&Bt<97););return Xt(e,Yt()+(t<6&&32==Qt()&&32==Wt()))}function rn(e){for(;Wt();)switch(Bt){case e:return Vt;case 34:case 39:34!==e&&39!==e&&rn(Bt);break;case 40:41===e&&rn(e);break;case 92:Wt()}return Vt}function an(e,t){for(;Wt()&&e+Bt!==57&&(e+Bt!==84||47!==Qt()););return"/*"+Xt(t,Vt-1)+"*"+St(47===e?e:Wt())}function on(e){for(;!Jt(Qt());)Wt();return Xt(e,Vt)}function sn(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function un(e,t,n,r){switch(e.type){case At:if(e.children.length)break;case wt:case bt:return e.return=e.return||e.value;case yt:return"";case xt:return e.return=e.value+"{"+sn(e.children,r)+"}";case kt:if(!Ot(e.value=e.props.join(",")))return""}return Ot(n=sn(e.children,r))?e.return=e.value+"{"+n+"}":""}function cn(e,t,n){switch(function(e,t){return 45^Pt(e,0)?(((t<<2^Pt(e,0))<<2^Pt(e,1))<<2^Pt(e,2))<<2^Pt(e,3):0}(e,t)){case 5103:return gt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gt+e+e;case 4789:return mt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return gt+e+mt+e+vt+e+e;case 5936:switch(Pt(e,t+11)){case 114:return gt+e+vt+Ct(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return gt+e+vt+Ct(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return gt+e+vt+Ct(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return gt+e+vt+e+e;case 6165:return gt+e+vt+"flex-"+e+e;case 5187:return gt+e+Ct(e,/(\w+).+(:[^]+)/,gt+"box-$1$2"+vt+"flex-$1$2")+e;case 5443:return gt+e+vt+"flex-item-"+Ct(e,/flex-|-self/g,"")+(Tt(e,/flex-|baseline/)?"":vt+"grid-row-"+Ct(e,/flex-|-self/g,""))+e;case 4675:return gt+e+vt+"flex-line-pack"+Ct(e,/align-content|flex-|-self/g,"")+e;case 5548:return gt+e+vt+Ct(e,"shrink","negative")+e;case 5292:return gt+e+vt+Ct(e,"basis","preferred-size")+e;case 6060:return gt+"box-"+Ct(e,"-grow","")+gt+e+vt+Ct(e,"grow","positive")+e;case 4554:return gt+Ct(e,/([^-])(transform)/g,"$1"+gt+"$2")+e;case 6187:return Ct(Ct(Ct(e,/(zoom-|grab)/,gt+"$1"),/(image-set)/,gt+"$1"),e,"")+e;case 5495:case 3959:return Ct(e,/(image-set\([^]*)/,gt+"$1$`$1");case 4968:return Ct(Ct(e,/(.+:)(flex-)?(.*)/,gt+"box-pack:$3"+vt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gt+e+e;case 4200:if(!Tt(e,/flex-|baseline/))return vt+"grid-column-align"+Rt(e,t)+e;break;case 2592:case 3360:return vt+Ct(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,Tt(e.props,/grid-\w+-end/)}))?~Nt(e+(n=n[t].value),"span")?e:vt+Ct(e,"-start","")+e+vt+"grid-row-span:"+(~Nt(n,"span")?Tt(n,/\d+/):+Tt(n,/\d+/)-+Tt(e,/\d+/))+";":vt+Ct(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return Tt(e.props,/grid-\w+-start/)}))?e:vt+Ct(Ct(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Ct(e,/(.+)-inline(.+)/,gt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ot(e)-1-t>6)switch(Pt(e,t+1)){case 109:if(45!==Pt(e,t+4))break;case 102:return Ct(e,/(.+:)(.+)-([^]+)/,"$1"+gt+"$2-$3$1"+mt+(108==Pt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Nt(e,"stretch")?cn(Ct(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Ct(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,i,a,o,s){return vt+n+":"+r+s+(i?vt+n+"-span:"+(a?o:+o-+r)+s:"")+e}));case 4949:if(121===Pt(e,t+6))return Ct(e,":",":"+gt)+e;break;case 6444:switch(Pt(e,45===Pt(e,14)?18:11)){case 120:return Ct(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+gt+(45===Pt(e,14)?"inline-":"")+"box$3$1"+gt+"$2$3$1"+vt+"$2box$3")+e;case 100:return Ct(e,":",":"+vt)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ct(e,"scroll-","scroll-snap-")+e}return e}function ln(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case bt:return void(e.return=cn(e.value,e.length,n));case xt:return sn([Kt(e,{value:Ct(e.value,"@","@"+gt)})],r);case kt:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,(function(t){switch(Tt(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Gt(Kt(e,{props:[Ct(t,/:(read-\w+)/,":"+mt+"$1")]})),Gt(Kt(e,{props:[t]})),It(e,{props:Ft(n,r)});break;case"::placeholder":Gt(Kt(e,{props:[Ct(t,/:(plac\w+)/,":"+gt+"input-$1")]})),Gt(Kt(e,{props:[Ct(t,/:(plac\w+)/,":"+mt+"$1")]})),Gt(Kt(e,{props:[Ct(t,/:(plac\w+)/,vt+"input-$1")]})),Gt(Kt(e,{props:[t]})),It(e,{props:Ft(n,r)})}return""}))}}function fn(e){return Zt(hn("",null,null,null,[""],e=$t(e),0,[0],e))}function hn(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,g=1,y=0,k="",b=i,w=a,x=r,A=k;m;)switch(p=y,y=Wt()){case 40:if(108!=p&&58==Pt(A,f-1)){-1!=Nt(A+=Ct(en(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:A+=en(y);break;case 9:case 10:case 13:case 32:A+=tn(p);break;case 92:A+=nn(Yt()-1,7);continue;case 47:switch(Qt()){case 42:case 47:Lt(pn(an(Wt(),Yt()),t,n,u),u);break;default:A+="/"}break;case 123*v:s[c++]=Ot(A)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+l:-1==g&&(A=Ct(A,/\f/g,"")),d>0&&Ot(A)-f&&Lt(d>32?vn(A+";",r,n,f-1,u):vn(Ct(A," ","")+";",r,n,f-2,u),u);break;case 59:A+=";";default:if(Lt(x=dn(A,t,n,c,l,i,s,k,b=[],w=[],f,a),a),123===y)if(0===l)hn(A,t,x,x,b,a,f,s,w);else switch(99===h&&110===Pt(A,3)?100:h){case 100:case 108:case 109:case 115:hn(e,x,x,r&&Lt(dn(e,x,x,0,0,i,s,k,i,b=[],f,w),w),i,w,f,s,r?b:w);break;default:hn(A,x,x,x,[""],w,0,s,w)}}c=l=d=0,v=g=1,k=A="",f=o;break;case 58:f=1+Ot(A),d=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==Ht())continue;switch(A+=St(y),y*v){case 38:g=l>0?1:(A+="\f",-1);break;case 44:s[c++]=(Ot(A)-1)*g,g=1;break;case 64:45===Qt()&&(A+=en(Wt())),h=Qt(),l=f=Ot(k=A+=on(Yt())),y++;break;case 45:45===p&&2==Ot(A)&&(v=0)}}return a}function dn(e,t,n,r,i,a,o,s,u,c,l,f){for(var h=i-1,d=0===i?a:[""],p=Dt(d),v=0,m=0,g=0;v<r;++v)for(var y=0,k=Rt(e,h+1,h=_t(m=o[v])),b=e;y<p;++y)(b=Et(m>0?d[y]+" "+k:Ct(k,/&\f/g,d[y])))&&(u[g++]=b);return qt(e,t,n,0===i?kt:s,u,c,l,f)}function pn(e,t,n,r){return qt(e,t,n,yt,St(Bt),Rt(e,2,-2),0,r)}function vn(e,t,n,r,i){return qt(e,t,n,bt,Rt(e,0,r),Rt(e,r+1,-1),r,i)}var mn={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},gn="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",yn="undefined"!=typeof window&&"HTMLElement"in window,kn=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),bn=(new Set,Object.freeze([])),wn=Object.freeze({});function xn(e,t,n){return void 0===n&&(n=wn),e.theme!==n.theme&&e.theme||t||n.theme}var An=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),_n=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Sn=/(^-|-$)/g;function In(e){return e.replace(_n,"-").replace(Sn,"")}var En=/(a)(d)/gi,Tn=function(e){return String.fromCharCode(e+(e>25?39:97))};function Cn(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Tn(t%52)+n;return(Tn(t%52)+n).replace(En,"$1-$2")}var Nn,Pn=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Rn=function(e){return Pn(5381,e)};function On(e){return Cn(Rn(e)>>>0)}function Dn(e){return"string"==typeof e&&!0}var Ln="function"==typeof Symbol&&Symbol.for,Fn=Ln?Symbol.for("react.memo"):60115,Mn=Ln?Symbol.for("react.forward_ref"):60112,jn={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Un={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Vn={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Bn=((Nn={})[Mn]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Nn[Fn]=Vn,Nn);function zn(e){return("type"in(t=e)&&t.type.$$typeof)===Fn?Vn:"$$typeof"in e?Bn[e.$$typeof]:jn;var t}var qn=Object.defineProperty,Kn=Object.getOwnPropertyNames,Gn=Object.getOwnPropertySymbols,Hn=Object.getOwnPropertyDescriptor,Wn=Object.getPrototypeOf,Qn=Object.prototype;function Yn(e,t,n){if("string"!=typeof t){if(Qn){var r=Wn(t);r&&r!==Qn&&Yn(e,r,n)}var i=Kn(t);Gn&&(i=i.concat(Gn(t)));for(var a=zn(e),o=zn(t),s=0;s<i.length;++s){var u=i[s];if(!(u in Un||n&&n[u]||o&&u in o||a&&u in a)){var c=Hn(t,u);try{qn(e,u,c)}catch(e){}}}}return e}function Xn(e){return"function"==typeof e}function Jn(e){return"object"==typeof e&&"styledComponentId"in e}function $n(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Zn(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function er(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function tr(e,t,n){if(void 0===n&&(n=!1),!n&&!er(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=tr(e[r],t[r]);else if(er(t))for(var r in t)e[r]=tr(e[r],t[r]);return e}function nr(e,t){Object.defineProperty(e,"toString",{value:t})}function rr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var ir=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw rr(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=(a=0,t.length);a<s;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+="".concat(this.tag.getRule(a)).concat("/*!sc*/\n");return t},e}(),ar=new Map,or=new Map,sr=1,ur=function(e){if(ar.has(e))return ar.get(e);for(;or.has(sr);)sr++;var t=sr++;return ar.set(e,t),or.set(t,e),t},cr=function(e,t){ar.set(e,t),or.set(t,e)},lr="style[".concat(gn,"][").concat("data-styled-version",'="').concat("6.0.8",'"]'),fr=new RegExp("^".concat(gn,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),hr=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},dr=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split("/*!sc*/\n"),i=[],a=0,o=r.length;a<o;a++){var s=r[a].trim();if(s){var u=s.match(fr);if(u){var c=0|parseInt(u[1],10),l=u[2];0!==c&&(cr(l,c),hr(e,l,u[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}};function pr(){return n.nc}var vr=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(gn,"]")));return t[t.length-1]}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(gn,"active"),r.setAttribute("data-styled-version","6.0.8");var o=pr();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},mr=function(){function e(e){this.element=vr(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw rr(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),gr=function(){function e(e){this.element=vr(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),yr=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),kr=yn,br={isServer:!yn,useCSSOMInjection:!kn},wr=function(){function e(e,t,n){void 0===e&&(e=wn),void 0===t&&(t={});var r=this;this.options=lt(lt({},br),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&yn&&kr&&(kr=!1,function(e){for(var t=document.querySelectorAll(lr),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(gn)&&(dr(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this)),nr(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return or.get(e)}(n);if(void 0===i)return"continue";var a=e.names.get(i),o=t.getGroup(n);if(void 0===a||0===o.length)return"continue";var s="".concat(gn,".g").concat(n,'[id="').concat(i,'"]'),u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+="".concat(e,","))})),r+="".concat(o).concat(s,'{content:"').concat(u,'"}').concat("/*!sc*/\n")},a=0;a<n;a++)i(a);return r}(r)}))}return e.registerId=function(e){return ur(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(lt(lt({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new yr(n):t?new mr(n):new gr(n)}(this.options),new ir(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(ur(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(ur(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(ur(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),xr=/&/g,Ar=/^\s*\/\/.*$/gm;function _r(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=_r(e.children,t)),e}))}function Sr(e){var t,n,r,i=void 0===e?wn:e,a=i.options,o=void 0===a?wn:a,s=i.plugins,u=void 0===s?bn:s,c=function(e,r,i){return i===n||i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},l=u.slice();l.push((function(e){e.type===kt&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(xr,n).replace(r,c))})),o.prefix&&l.push(ln),l.push(un);var f=function(e,i,a,s){void 0===i&&(i=""),void 0===a&&(a=""),void 0===s&&(s="&"),t=s,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var u=e.replace(Ar,""),c=fn(a||i?"".concat(a," ").concat(i," { ").concat(u," }"):u);o.namespace&&(c=_r(c,o.namespace));var f,h=[];return sn(c,function(e){var t=Dt(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}(l.concat((f=function(e){return h.push(e)},function(e){e.root||(e=e.return)&&f(e)})))),h};return f.hash=u.length?u.reduce((function(e,t){return t.name||rr(15),Pn(e,t.name)}),5381).toString():"",f}var Ir=new wr,Er=Sr(),Tr=t.createContext({shouldForwardProp:void 0,styleSheet:Ir,stylis:Er}),Cr=(Tr.Consumer,t.createContext(void 0));function Nr(){return(0,t.useContext)(Tr)}function Pr(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=Nr().styleSheet,o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,a]),s=(0,t.useMemo)((function(){return Sr({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})}),[e.enableVendorPrefixes,e.namespace,r]);(0,t.useEffect)((function(){pt()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var u=(0,t.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:o,stylis:s}}),[e.shouldForwardProp,o,s]);return t.createElement(Tr.Provider,{value:u},t.createElement(Cr.Provider,{value:s},e.children))}var Rr=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Er);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,nr(this,(function(){throw rr(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Er),this.name+e.hash},e}(),Or=function(e){return e>="A"&&e<="Z"};function Dr(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Or(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var Lr=function(e){return null==e||!1===e||""===e},Fr=function e(t){var n,r,i=[];for(var a in t){var o=t[a];t.hasOwnProperty(a)&&!Lr(o)&&(Array.isArray(o)&&o.isCss||Xn(o)?i.push("".concat(Dr(a),":"),o,";"):er(o)?i.push.apply(i,ht(ht(["".concat(a," {")],e(o),!1),["}"],!1)):i.push("".concat(Dr(a),": ").concat((n=a,null==(r=o)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in mn||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return i};function Mr(e,t,n,r){return Lr(e)?[]:Jn(e)?[".".concat(e.styledComponentId)]:Xn(e)?!Xn(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:Mr(e(t),t,n,r):e instanceof Rr?n?(e.inject(n,r),[e.getName(r)]):[e]:er(e)?Fr(e):Array.isArray(e)?Array.prototype.concat.apply(bn,e.map((function(e){return Mr(e,t,n,r)}))):[e.toString()];var i}function jr(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Xn(n)&&!Jn(n))return!1}return!0}var Ur=Rn("6.0.8"),Vr=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&jr(e),this.componentId=t,this.baseHash=Pn(Ur,t),this.baseStyle=n,wr.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=$n(r,this.staticRulesId);else{var i=Zn(Mr(this.rules,e,t,n)),a=Cn(Pn(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=n(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}r=$n(r,a),this.staticRulesId=a}else{for(var s=Pn(this.baseHash,n.hash),u="",c=0;c<this.rules.length;c++){var l=this.rules[c];if("string"==typeof l)u+=l;else if(l){var f=Zn(Mr(l,e,t,n));s=Pn(s,f+c),u+=f}}if(u){var h=Cn(s>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,n(u,".".concat(h),void 0,this.componentId)),r=$n(r,h)}}return r},e}(),Br=t.createContext(void 0);Br.Consumer;var zr={};new Set;function qr(e,n,r){var i=Jn(e),a=e,o=!Dn(e),s=n.attrs,u=void 0===s?bn:s,c=n.componentId,l=void 0===c?function(e,t){var n="string"!=typeof e?"sc":In(e);zr[n]=(zr[n]||0)+1;var r="".concat(n,"-").concat(On("6.0.8"+n+zr[n]));return t?"".concat(t,"-").concat(r):r}(n.displayName,n.parentComponentId):c,f=n.displayName,h=(void 0===f&&function(e){Dn(e)?"styled.".concat(e):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(e),")")}(e),n.displayName&&n.componentId?"".concat(In(n.displayName),"-").concat(n.componentId):n.componentId||l),d=i&&a.attrs?a.attrs.concat(u).filter(Boolean):u,p=n.shouldForwardProp;if(i&&a.shouldForwardProp){var v=a.shouldForwardProp;if(n.shouldForwardProp){var m=n.shouldForwardProp;p=function(e,t){return v(e,t)&&m(e,t)}}else p=v}var g=new Vr(r,h,i?a.componentStyle:void 0);var y=t.forwardRef((function(e,n){return function(e,n,r){var i=e.attrs,a=e.componentStyle,o=e.defaultProps,s=e.foldedComponentIds,u=e.styledComponentId,c=e.target,l=t.useContext(Br),f=Nr(),h=e.shouldForwardProp||f.shouldForwardProp,d=function(e,t,n){for(var r,i=lt(lt({},t),{className:void 0,theme:n}),a=0;a<e.length;a+=1){var o=Xn(r=e[a])?r(i):r;for(var s in o)i[s]="className"===s?$n(i[s],o[s]):"style"===s?lt(lt({},i[s]),o[s]):o[s]}return t.className&&(i.className=$n(i.className,t.className)),i}(i,n,xn(n,l,o)||wn),p=d.as||c,v={};for(var m in d)void 0===d[m]||"$"===m[0]||"as"===m||"theme"===m||("forwardedAs"===m?v.as=d.forwardedAs:h&&!h(m,p)||(v[m]=d[m]));var g=function(e,t){var n=Nr();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(a,d),y=$n(s,u);return g&&(y+=" "+g),d.className&&(y+=" "+d.className),v[Dn(p)&&!An.has(p)?"class":"className"]=y,v.ref=r,(0,t.createElement)(p,v)}(y,e,n)}));return y.attrs=d,y.componentStyle=g,y.shouldForwardProp=p,y.foldedComponentIds=i?$n(a.foldedComponentIds,a.styledComponentId):"",y.styledComponentId=h,y.target=i?a.target:e,Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)tr(e,i[r],!0);return e}({},a.defaultProps,e):e}}),nr(y,(function(){return".".concat(y.styledComponentId)})),o&&Yn(y,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),y}function Kr(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var Gr=function(e){return Object.assign(e,{isCss:!0})};function Hr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Xn(e)||er(e))return Gr(Mr(Kr(bn,ht([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Mr(r):Gr(Mr(Kr(r,t)))}function Wr(e,t,n){if(void 0===n&&(n=wn),!t)throw rr(1,t);var r=function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return e(t,n,Hr.apply(void 0,ht([r],i,!1)))};return r.attrs=function(r){return Wr(e,t,lt(lt({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Wr(e,t,lt(lt({},n),r))},r}var Qr=function(e){return Wr(qr,e)},Yr=Qr;An.forEach((function(e){Yr[e]=Qr(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=jr(e),wr.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(Zn(Mr(this.rules,t,n,r)),""),a=this.componentId+e;n.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&wr.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=pr(),r=Zn([n&&'nonce="'.concat(n,'"'),"".concat(gn,'="true"'),"".concat("data-styled-version",'="').concat("6.0.8",'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw rr(2);return e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)throw rr(2);var r=((n={})[gn]="",n["data-styled-version"]="6.0.8",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=pr();return i&&(r.nonce=i),[t.createElement("style",lt({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new wr({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw rr(2);return t.createElement(Pr,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw rr(3)}})(),"__sc-".concat(gn,"__");var Xr,Jr,$r,Zr,ei,ti,ni,ri=Yr.nav(Xr||(Xr=nt(["\nbackground: rgba(194, 142, 14, 0);\nheight: 85px;\ndisplay: flex;\njustify-content: space-between;\npadding: 0.2rem calc((100vw - 1000px) / 2);\nz-index: 12;\n/* Third Nav */\n/* justify-content: flex-start; */\n"]))),ii=Yr.img(Jr||(Jr=nt(["\n  width: 100px;\n  height: auto;\n  mix-blend-mode: multiply;\n\n"]))),ai=Yr(Ye)($r||($r=nt(['\ncolor: #c28e0e;\ndisplay: flex;\nalign-items: center;\ntext-decoration: none;\npadding: 0 1rem;\nheight: 100%;\nfont-size: 18px;\n&.HoverLink {\n  color: #edda8b;\n  font-family: inherit;\n  font-weight: 800;\n  cursor: pointer;\n  position: relative;\n  border: none;\n  background: none;\n \n  transition-timing-function: cubic-bezier(0.25, 0.8, 0.25, 1);\n  transition-duration: 400ms;\n  transition-property: color;\n  &:focus,\n  &:hover {\n  color: #808080;\n  }\n\n  &:focus:after,\n  &:hover:after {\n  width: 100%;\n  left: 0%;\n}\n&:after {\n\tcontent: "";\n\tpointer-events: none;\n\tbottom: -2px;\n\tleft: 50%;\n\tposition: absolute;\n\twidth: 0%;\n\theight: 3px;\n\tbackground-color: #808080;\n\ttransition-timing-function: cubic-bezier(0.25, 0.8, 0.25, 1);\n\ttransition-duration: 400ms;\n\ttransition-property: width, left;\n  }\n}\n']))),oi=Yr((function(e){return ut({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}))(Zr||(Zr=nt(["\ndisplay: none;\ncolor: #808080;\n@media screen and (max-width: 768px) {\n\tdisplay: block;\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\ttransform: translate(-100%, 75%);\n\tfont-size: 1.8rem;\n\tcursor: pointer;\n}\n"]))),si=Yr.div(ei||(ei=nt(["\ndisplay: flex;\nalign-items: center;\nmargin-right: -24px;\n/* Second Nav */\n/* margin-right: 24px; */\n/* Third Nav */\n/* width: 100vw;\nwhite-space: nowrap; */\n@media screen and (max-width: 768px) {\n\tdisplay: none;\n}\n"]))),ui=Yr.nav(ti||(ti=nt(["\ndisplay: flex;\nalign-items: center;\nmargin-right: 24px;\n\n/* Third Nav */\n/* justify-content: flex-end;\nwidth: 100vw; */\n@media screen and (max-width: 768px) {\n\tdisplay: none;\n}\n"]))),ci=Yr(Ye)(ni||(ni=nt(["\nborder-radius: 10px;\nbackground: #fbcf6e;\npadding: 10px 22px;\ncolor: #000000;\noutline: none;\nborder: none;\ncursor: pointer;\ntransition: all 0.2s ease-in-out;\ntext-decoration: none;\n/* Second Nav */\nmargin-left: 24px;\n&:hover {\n\ttransition: all 0.2s ease-in-out;\n\tbackground: #fff;\n\tcolor: #808080;\n}\n"])));function li(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},hi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new di;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},di=function(e){k(n,e);var t=A(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(S(Error)),pi=function(e){return function(e){var t=fi(e);return hi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},vi=function(e){try{return hi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function mi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=mi(e[n],t[n]));return e}var gi=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},yi=function(){try{return gi()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&vi(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ki=function(e){var t,n;return null===(n=null===(t=yi())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},bi=function(){var e;return null===(e=yi())||void 0===e?void 0:e.config},wi=function(e){var t;return null===(t=yi())||void 0===t?void 0:t["_".concat(e)]},xi=function(){function e(){var t=this;d(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ai(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _i(){var e,t=null===(e=yi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Si(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ii(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ei(){var e=Ai();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ti(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Ci(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var Ni=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),Pi.prototype.create),a}return g(n)}(S(Error)),Pi=function(){function e(t,n,r){d(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ri,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ni(n,a,t)}}]),e}();var Ri=/\{\$([^}]+)}/g;function Oi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Di(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Li(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Fi(s)&&Fi(u)){if(!Li(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Fi(e){return null!==e&&"object"===typeof e}function Mi(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ji(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ui(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Vi(e,t){var n=new Bi(e,t);return n.subscribe.bind(n)}var Bi=function(){function e(t,n){var r=this;d(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=E(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=zi),void 0===r.error&&(r.error=zi),void 0===r.complete&&(r.complete=zi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function zi(){}var qi=1e3,Ki=2,Gi=144e5,Hi=.5;function Wi(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ki,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:qi)*Math.pow(t,e),r=Math.round(Hi*n*(Math.random()-.5)*2);return Math.min(Gi,n+r)}function Qi(e){return e&&e._delegate?e._delegate:e}var Yi=function(){function e(t,n,r){d(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Xi="[DEFAULT]",Ji=function(e){function t(e,n){d(this,t),this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(t,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new xi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch(u){}var t,n=E(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){return(e=e||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=E(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$i(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi;return this.component?this.component.multipleInstances?e:Xi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();function $i(e){return e===Xi?void 0:e}var Zi,ea,ta=function(){function e(t){d(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ji(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),na=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ea||(ea={}));var ra={debug:ea.DEBUG,verbose:ea.VERBOSE,info:ea.INFO,warn:ea.WARN,error:ea.ERROR,silent:ea.SILENT},ia=ea.INFO,aa=(li(Zi={},ea.DEBUG,"log"),li(Zi,ea.VERBOSE,"log"),li(Zi,ea.INFO,"info"),li(Zi,ea.WARN,"warn"),li(Zi,ea.ERROR,"error"),Zi),oa=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=aa[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},sa=function(){function e(t){d(this,e),this.name=t,this._logLevel=ia,this._logHandler=oa,this._userLogHandler=null,na.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ea))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ra[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ea.DEBUG].concat(t)),this._logHandler.apply(this,[this,ea.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ea.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ea.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ea.INFO].concat(t)),this._logHandler.apply(this,[this,ea.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ea.WARN].concat(t)),this._logHandler.apply(this,[this,ea.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ea.ERROR].concat(t)),this._logHandler.apply(this,[this,ea.ERROR].concat(t))}}]),e}();function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var la,fa,ha=function(e,t){return t.some((function(t){return e instanceof t}))};var da=new WeakMap,pa=new WeakMap,va=new WeakMap,ma=new WeakMap,ga=new WeakMap;var ya={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pa.get(e);if("objectStoreNames"===t)return e.objectStoreNames||va.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wa(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ka(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(fa||(fa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(xa(this),n),wa(da.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wa(e.apply(xa(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[xa(this),t].concat(r));return va.set(a,t.sort?t.sort():[t]),wa(a)}}function ba(e){return"function"===typeof e?ka(e):(e instanceof IDBTransaction&&function(e){if(!pa.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));pa.set(e,t)}}(e),ha(e,la||(la=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ya):e)}function wa(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(wa(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&da.set(t,e)})).catch((function(){})),ga.set(t,e),t}(e);if(ma.has(e))return ma.get(e);var t=ba(e);return t!==e&&(ma.set(e,t),ga.set(t,e)),t}var xa=function(e){return ga.get(e)};var Aa,_a,Sa,Ia,Ea,Ta=["get","getKey","getAll","getAllKeys","count"],Ca=["put","add","delete","clear"],Na=new Map;function Pa(e,t){var n;if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Na.get(t))return Na.get(t);var r=t.replace(/FromIndex$/,""),i=t!==r,a=Ca.includes(r);if(r in(i?IDBIndex:IDBObjectStore).prototype&&(a||Ta.includes(r))){var o=function(e){return(n=n||et($e().mark((function e(t){var n,o,s,u,c,l,f=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,a?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return i&&(s=s.index(c.shift())),e.next=6,Promise.all([(n=s)[r].apply(n,c),a&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)};return Na.set(t,o),o}}}ya=function(e){return ca(ca({},e),{},{get:function(t,n,r){return Pa(t,n)||e.get(t,n,r)},has:function(t,n){return!!Pa(t,n)||e.has(t,n)}})}(ya);var Ra=function(){function e(t){d(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Oa="@firebase/app",Da="0.9.19",La=new sa("@firebase/app"),Fa="[DEFAULT]",Ma=(li(Aa={},Oa,"fire-core"),li(Aa,"@firebase/app-compat","fire-core-compat"),li(Aa,"@firebase/analytics","fire-analytics"),li(Aa,"@firebase/analytics-compat","fire-analytics-compat"),li(Aa,"@firebase/app-check","fire-app-check"),li(Aa,"@firebase/app-check-compat","fire-app-check-compat"),li(Aa,"@firebase/auth","fire-auth"),li(Aa,"@firebase/auth-compat","fire-auth-compat"),li(Aa,"@firebase/database","fire-rtdb"),li(Aa,"@firebase/database-compat","fire-rtdb-compat"),li(Aa,"@firebase/functions","fire-fn"),li(Aa,"@firebase/functions-compat","fire-fn-compat"),li(Aa,"@firebase/installations","fire-iid"),li(Aa,"@firebase/installations-compat","fire-iid-compat"),li(Aa,"@firebase/messaging","fire-fcm"),li(Aa,"@firebase/messaging-compat","fire-fcm-compat"),li(Aa,"@firebase/performance","fire-perf"),li(Aa,"@firebase/performance-compat","fire-perf-compat"),li(Aa,"@firebase/remote-config","fire-rc"),li(Aa,"@firebase/remote-config-compat","fire-rc-compat"),li(Aa,"@firebase/storage","fire-gcs"),li(Aa,"@firebase/storage-compat","fire-gcs-compat"),li(Aa,"@firebase/firestore","fire-fst"),li(Aa,"@firebase/firestore-compat","fire-fst-compat"),li(Aa,"fire-js","fire-js"),li(Aa,"firebase","fire-js-all"),Aa),ja=new Map,Ua=new Map;function Va(e,t){try{e.container.addComponent(t)}catch(n){La.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ba(e,t){e.container.addOrOverwriteComponent(t)}function za(e){var t=e.name;if(Ua.has(t))return La.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ua.set(t,e);var n,r=E(ja.values());try{for(r.s();!(n=r.n()).done;){Va(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function qa(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ka(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fa;qa(e,t).clearInstance(n)}function Ga(){Ua.clear()}var Ha=(li(_a={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),li(_a,"bad-app-name","Illegal App name: '{$appName}"),li(_a,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),li(_a,"app-deleted","Firebase App named '{$appName}' already deleted"),li(_a,"no-options","Need to provide options, when not being deployed to hosting via source."),li(_a,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),li(_a,"invalid-log-argument","First argument to `onLog` must be null or a function."),li(_a,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),li(_a,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),li(_a,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),li(_a,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),_a),Wa=new Pi("app","Firebase",Ha),Qa=function(){function e(t,n,r){var i=this;d(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}]),e}(),Ya="10.4.0";function Xa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Fa,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wa.create("bad-app-name",{appName:String(i)});if(n||(n=bi()),!n)throw Wa.create("no-options");var a=ja.get(i);if(a){if(Li(n,a.options)&&Li(r,a.config))return a;throw Wa.create("duplicate-app",{appName:i})}var o,s=new ta(i),u=E(Ua.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Qa(n,r,s);return ja.set(i,l),l}function Ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fa,t=ja.get(e);if(!t&&e===Fa&&bi())return Xa();if(!t)throw Wa.create("no-app",{appName:e});return t}function $a(){return Array.from(ja.values())}function Za(e){return(Sa=Sa||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ja.has(n)){e.next=6;break}return ja.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(e,t,n){var r,i=null!==(r=Ma[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void La.warn(s.join(" "))}za(new Yi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function to(e,t){if(null!==e&&"function"!==typeof e)throw Wa.create("invalid-log-argument");!function(e,t){var n,r=E(na);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ra[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ea[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function no(e){var t;t=e,na.forEach((function(e){e.setLogLevel(t)}))}var ro="firebase-heartbeat-database",io=1,ao="firebase-heartbeat-store",oo=null;function so(){return oo||(oo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=wa(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(wa(s.result),e.oldVersion,e.newVersion,wa(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(ro,io,{upgrade:function(e,t){if(0===t)e.createObjectStore(ao)}}).catch((function(e){throw Wa.create("idb-open",{originalErrorMessage:e.message})}))),oo}function uo(e){return(Ia=Ia||et($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,so();case 3:return n=e.sent,e.next=6,n.transaction(ao).objectStore(ao).get(lo(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Ni?La.warn(e.t0.message):(i=Wa.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),La.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function co(e,t){return(Ea=Ea||et($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,so();case 3:return r=e.sent,i=r.transaction(ao,"readwrite"),a=i.objectStore(ao),e.next=8,a.put(n,lo(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof Ni?La.warn(e.t0.message):(o=Wa.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),La.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function lo(e){return"".concat(e.name,"!").concat(e.options.appId)}var fo=function(e,t){function n(e){var t=this;d(this,n),this.container=e,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new mo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return t._heartbeatsCache=e,e}))}return g(n,[{key:"triggerHeartbeat",value:function(){return(e=e||et($e().mark((function e(){var t,n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ho(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getHeartbeatsHeader",value:function(){return(t=t||et($e().mark((function e(){var t,n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ho(),n=po(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=pi(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),n}();function ho(){return(new Date).toISOString().substring(0,10)}function po(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=E(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),go(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),go(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var vo,mo=function(e,t,n,r){function i(e){d(this,i),this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(i,[{key:"runIndexedDBEnvironmentCheck",value:function(){return(e=e||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ti()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Ci().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"read",value:function(){return(t=t||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,uo(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"overwrite",value:function(e){return(n=n||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",co(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"add",value:function(e){return(r=r||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",co(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),i}();function go(e){return pi(JSON.stringify({version:2,heartbeats:e})).length}vo="",za(new Yi("platform-logger",(function(e){return new Ra(e)}),"PRIVATE")),za(new Yi("heartbeat",(function(e){return new fo(e)}),"PRIVATE")),eo(Oa,Da,vo),eo(Oa,Da,"esm2017"),eo("fire-js","");eo("firebase","10.4.0","app");var yo,ko,bo=function(e,t){return t.some((function(t){return e instanceof t}))};var wo=new WeakMap,xo=new WeakMap,Ao=new WeakMap,_o=new WeakMap,So=new WeakMap;var Io={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return xo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ao.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Co(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Eo(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ko||(ko=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(No(this),n),Co(wo.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Co(e.apply(No(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[No(this),t].concat(r));return Ao.set(a,t.sort?t.sort():[t]),Co(a)}}function To(e){return"function"===typeof e?Eo(e):(e instanceof IDBTransaction&&function(e){if(!xo.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));xo.set(e,t)}}(e),bo(e,yo||(yo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Io):e)}function Co(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Co(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&wo.set(t,e)})).catch((function(){})),So.set(t,e),t}(e);if(_o.has(e))return _o.get(e);var t=To(e);return t!==e&&(_o.set(e,t),So.set(t,e)),t}var No=function(e){return So.get(e)};var Po,Ro,Oo,Do,Lo,Fo,Mo,jo,Uo,Vo,Bo,zo,qo,Ko,Go,Ho,Wo,Qo=["get","getKey","getAll","getAllKeys","count"],Yo=["put","add","delete","clear"],Xo=new Map;function Jo(e,t){var n;if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Xo.get(t))return Xo.get(t);var r=t.replace(/FromIndex$/,""),i=t!==r,a=Yo.includes(r);if(r in(i?IDBIndex:IDBObjectStore).prototype&&(a||Qo.includes(r))){var o=function(e){return(n=n||et($e().mark((function e(t){var n,o,s,u,c,l,f=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,a?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return i&&(s=s.index(c.shift())),e.next=6,Promise.all([(n=s)[r].apply(n,c),a&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)};return Xo.set(t,o),o}}}!function(e){Io=e(Io)}((function(e){return ca(ca({},e),{},{get:function(t,n,r){return Jo(t,n)||e.get(t,n,r)},has:function(t,n){return!!Jo(t,n)||e.has(t,n)}})}));var $o="@firebase/installations",Zo="0.6.4",es=1e4,ts="w:".concat(Zo),ns="FIS_v2",rs="https://firebaseinstallations.googleapis.com/v1",is=36e5,as=(li(Po={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),li(Po,"not-registered","Firebase Installation is not registered."),li(Po,"installation-not-found","Firebase Installation not found."),li(Po,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),li(Po,"app-offline","Could not process request. Application offline."),li(Po,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Po),os=new Pi("installations","Installations",as);function ss(e){return e instanceof Ni&&e.code.includes("request-failed")}function us(e){var t=e.projectId;return"".concat(rs,"/projects/").concat(t,"/installations")}function cs(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function ls(e,t){return(Ro=Ro||et($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",os.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function hs(e,t){var n=t.refreshToken,r=fs(e);return r.append("Authorization",function(e){return"".concat(ns," ").concat(e)}(n)),r}function ds(e){return(Oo=Oo||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e,t){return(Do=Do||et($e().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=us(r),s=fs(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:ns,appId:r.appId,sdkVersion:ts},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,ds((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:cs(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,ls("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vs(e){return new Promise((function(t){setTimeout(t,e)}))}var ms=/^[cdef][\w-]{21}$/,gs="";function ys(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,h(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return ms.test(t)?t:gs}catch(n){return gs}}function ks(e){return"".concat(e.appName,"!").concat(e.appId)}var bs=new Map;function ws(e,t){var n=ks(e);xs(n,t),function(e,t){var n=_s();n&&n.postMessage({key:e,fid:t});Ss()}(n,t)}function xs(e,t){var n=bs.get(e);if(n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var As=null;function _s(){return!As&&"BroadcastChannel"in self&&((As=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){xs(e.data.key,e.data.fid)}),As}function Ss(){0===bs.size&&As&&(As.close(),As=null)}var Is="firebase-installations-database",Es=1,Ts="firebase-installations-store",Cs=null;function Ns(){return Cs||(Cs=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Co(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Co(s.result),e.oldVersion,e.newVersion,Co(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(Is,Es,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ts)}})),Cs}function Ps(e,t){return(Lo=Lo||et($e().mark((function e(t,n){var r,i,a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ks(t),e.next=3,Ns();case 3:return i=e.sent,a=i.transaction(Ts,"readwrite"),o=a.objectStore(Ts),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||ws(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rs(e){return(Fo=Fo||et($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ks(t),e.next=3,Ns();case 3:return r=e.sent,i=r.transaction(Ts,"readwrite"),e.next=7,i.objectStore(Ts).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Os(e,t){return(Mo=Mo||et($e().mark((function e(t,n){var r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ks(t),e.next=3,Ns();case 3:return i=e.sent,a=i.transaction(Ts,"readwrite"),o=a.objectStore(Ts),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||ws(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ds(e){return(jo=jo||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(t.appConfig,(function(e){var r=Ls(e),i=Fs(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==gs){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ls(e){return Us(e||{fid:ys(),registrationStatus:0})}function Fs(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(os.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(Uo=Uo||et($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ps(t,n);case 3:return r=e.sent,e.abrupt("return",Ps(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!ss(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Rs(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,Ps(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Ms(e)}:{installationEntry:t}}function Ms(e){return(Vo=Vo||et($e().mark((function e(t){var n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,js(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,vs(100);case 6:return e.next=8,js(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,Ds(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function js(e){return Os(e,(function(e){if(!e)throw os.create("installation-not-found");return Us(e)}))}function Us(e){return 1===(t=e).registrationStatus&&t.registrationTime+es<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Vs(e,t){return(Bo=Bo||et($e().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=Bs(r,n),o=hs(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:ts,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,ds((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=cs(h),e.abrupt("return",d);case 22:return e.next=24,ls("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bs(e,t){var n=t.fid;return"".concat(us(e),"/").concat(n,"/authTokens:generate")}function zs(e){return(zo=zo||et($e().mark((function e(t){var n,r,i,a,o=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,Os(t.appConfig,(function(e){if(!Hs(e))throw os.create("not-registered");var i=e.authToken;if(!n&&Ws(i))return e;if(1===i.requestStatus)return r=qs(t,n),e;if(!navigator.onLine)throw os.create("app-offline");var a=Qs(e);return r=Gs(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qs(e,t){return(qo=qo||et($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ks(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,vs(100);case 6:return e.next=8,Ks(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",zs(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ks(e){return Os(e,(function(e){if(!Hs(e))throw os.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+es<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Gs(e,t){return(Ko=Ko||et($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vs(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,Ps(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!ss(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Rs(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,Ps(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Hs(e){return void 0!==e&&2===e.registrationStatus}function Ws(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+is}(e)}function Qs(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Ys(e){return(Wo=Wo||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ds(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xs(e){return os.create("missing-app-config-values",{valueName:e})}var Js,$s,Zs,eu,tu,nu,ru,iu,au,ou="installations",su=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Xs("App Configuration");if(!e.name)throw Xs("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Xs(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:qa(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},uu=function(e){var t=qa(e.getProvider("app").getImmediate(),ou).getImmediate(),n={getId:function(){return function(e){return(Go=Go||et($e().mark((function e(t){var n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Ds(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):zs(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t)},getToken:function(e){return function(e){return(Ho=Ho||et($e().mark((function e(t){var n,r,i,a=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Ys(r);case 4:return e.next=6,zs(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,e)}};return n};za(new Yi(ou,su,"PUBLIC")),za(new Yi("installations-internal",uu,"PRIVATE")),eo($o,Zo),eo($o,Zo,"esm2017");var cu="analytics",lu="firebase_id",fu="origin",hu=6e4,du="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pu="https://www.googletagmanager.com/gtag/js",vu=new sa("@firebase/analytics"),mu=(li(Js={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),li(Js,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),li(Js,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),li(Js,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),li(Js,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),li(Js,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),li(Js,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),li(Js,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),li(Js,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),li(Js,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),li(Js,"no-client-id",'The "client_id" field is empty.'),li(Js,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),Js),gu=new Pi("analytics","Analytics",mu);function yu(e){if(!e.startsWith(pu)){var t=gu.create("invalid-gtag-resource",{gtagURL:e});return vu.warn(t.message),""}return e}function ku(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function bu(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:yu}),r=document.createElement("script"),i="".concat(pu,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function wu(e,t,n,r,i,a){return($s=$s||et($e().mark((function e(t,n,r,i,a,o){var s,u,c;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,ku(r);case 9:if(u=e.sent,!(c=u.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),vu.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function xu(e,t,n,r,i){return(Zs=Zs||et($e().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,ku(r);case 7:u=e.sent,c=E(s),e.prev=9,f=$e().mark((function e(){var t,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.value,r=u.find((function(e){return e.measurementId===t})),!(i=r&&n[r.appId])){e.next=7;break}o.push(i),e.next=9;break;case 7:return o=[],e.abrupt("return",1);case 9:case"end":return e.stop()}}),e)})),c.s();case 12:if((l=c.n()).done){e.next=18;break}return e.delegateYield(f(),"t0",14);case 14:if(!e.t0){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(9),c.e(e.t1);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t2=e.catch(0),vu.error(e.t2);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])})))).apply(this,arguments)}function Au(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){var i;return function(a){return(i=i||et($e().mark((function i(a){var o,s,u,c,l,f,h,d,p,v,m,g,y=arguments;return $e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(i.prev=0,o=y.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=y[u];if("event"!==a){i.next=8;break}return c=s[0],l=s[1],i.next=6,xu(e,t,n,c,l);case 6:i.next=15;break;case 8:if("config"!==a){i.next=14;break}return f=s[0],h=s[1],i.next=12,wu(e,t,n,r,f,h);case 12:i.next=15;break;case 14:"consent"===a?(d=s[0],e("consent","update",d)):"get"===a?(p=s[0],v=s[1],m=s[2],e("get",p,v,m)):"set"===a?(g=s[0],e("set",g)):e.apply(void 0,[a].concat(s));case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(0),vu.error(i.t0);case 20:case"end":return i.stop()}}),i,null,[[0,17]])})))).apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function _u(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(pu)&&i.src.includes(e))return i}return null}var Su=30,Iu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;d(this,e),this.throttleMetadata=t,this.intervalMillis=n}return g(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Eu=new Iu;function Tu(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Cu(e){return(eu=eu||et($e().mark((function e(t){var n,r,i,a,o,s,u,c;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:Tu(i)},o=du.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw gu.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function Nu(e){return(tu=tu||et($e().mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:Eu,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw gu.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw gu.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Fu,setTimeout(et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:hu),e.abrupt("return",Pu({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(e,t,n){return(nu=nu||et($e().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=p.length>3&&void 0!==p[3]?p[3]:Eu,u=t.appId,c=t.measurementId,e.prev=3,e.next=6,Ru(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return vu.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Cu(t);case 17:return l=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),Ou(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(u),!c){e.next=32;break}return vu.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 32:throw e.t1;case 33:return h=503===Number(null===(s=null===f||void 0===f?void 0:f.customData)||void 0===s?void 0:s.httpStatus)?Wi(a,o.intervalMillis,Su):Wi(a,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},o.setThrottleMetadata(u,d),vu.debug("Calling attemptFetch again in ".concat(h," millis")),e.abrupt("return",Pu(t,d,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])})))).apply(this,arguments)}function Ru(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(gu.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function Ou(e){if(!(e instanceof Ni)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var Du,Lu,Fu=function(){function e(){d(this,e),this.listeners=[]}return g(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function Mu(e){Lu=e}function ju(e){Du=e}function Uu(){return(iu=iu||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ti()){e.next=5;break}return vu.warn(gu.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Ci();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),vu.warn(gu.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}var Vu,Bu,zu=function(){function e(t){d(this,e),this.app=t}return g(e,[{key:"_delete",value:function(){return delete qu[this.app.options.appId],Promise.resolve()}}]),e}(),qu={},Ku=[],Gu={},Hu="dataLayer",Wu="gtag",Qu=!1;function Yu(){var e=[];if(Si()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=gu.create("invalid-analytics-context",{errorInfo:t});vu.warn(n.message)}}function Xu(e,t,n){Yu();var r=e.options.appId;if(!r)throw gu.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw gu.create("no-api-key");vu.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=qu[r])throw gu.create("already-exists",{id:r});if(!Qu){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Hu);var i=Au(qu,Ku,Gu,Hu,Wu),a=i.wrappedGtag,o=i.gtagCore;Bu=a,Vu=o,Qu=!0}return qu[r]=function(e,t,n,r,i,a,o){return(au=au||et($e().mark((function e(t,n,r,i,a,o,s){var u,c,f,h,d,p,v,m;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=Nu(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&vu.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return vu.error(e)})),n.push(c),f=Uu().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([c,f]);case 6:return h=e.sent,d=l(h,2),p=d[0],v=d[1],_u(o)||bu(o,p.measurementId),Lu&&(a("consent","default",Lu),Mu(void 0)),a("js",new Date),(m=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{})[fu]="firebase",m.update=!0,null!=v&&(m[lu]=v),a("config",p.measurementId,m),Du&&(a("set",Du),ju(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,Ku,Gu,t,Vu,Hu,n),new zu(e)}function Ju(e,t,n,r){e=Qi(e),function(e,t,n,r,i){return(ru=ru||et($e().mark((function e(t,n,r,i,a){var o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(Bu,qu[e.app.options.appId],t,n,r).catch((function(e){return vu.error(e)}))}var $u,Zu="@firebase/analytics",ec="0.10.0";za(new Yi(cu,(function(e,t){var n=t.options;return Xu(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),za(new Yi("analytics-internal",(function(e){try{var t=e.getProvider(cu).getImmediate();return{logEvent:function(e,n,r){return Ju(t,e,n,r)}}}catch(n){throw gu.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),eo(Zu,ec),eo(Zu,ec,"esm2017");var tc=function(){function e(t,n){var r=this;d(this,e),this._delegate=t,this.firebase=n,Va(t,new Yi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Za(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fa;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fa;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Va(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ba(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),nc=(li($u={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),li($u,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),$u),rc=new Pi("app-compat","Firebase",nc);var ic=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Xa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Oi(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:eo,setLogLevel:no,onLog:to,apps:null,SDK_VERSION:Ya,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(za(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw rc.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&mi(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Oi(n,e=e||Fa))throw rc.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(tc);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){mi(n,e)},createSubscribe:Vi,ErrorFactory:Pi,deepExtend:mi}),n}(),ac=new sa("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ac.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var oc=self.firebase.SDK_VERSION;oc&&oc.indexOf("LITE")>=0&&ac.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var sc=ic;!function(e){eo("@firebase/app-compat","0.2.19",e)}();var uc,cc,lc,fc,hc,dc,pc,vc,mc,gc,yc,kc,bc,wc,xc,Ac,_c,Sc,Ic,Ec,Tc,Cc,Nc,Pc,Rc,Oc,Dc,Lc,Fc,Mc,jc,Uc,Vc,Bc,zc,qc,Kc,Gc,Hc,Wc,Qc,Yc,Xc,Jc,$c,Zc,el,tl,nl,rl,il,al,ol,sl,ul,cl,ll,fl,hl,dl,pl,vl,ml,gl,yl,kl,bl,wl,xl,Al,_l,Sl,Il,El,Tl,Cl,Nl,Pl,Rl,Ol,Dl,Ll,Fl,Ml;function jl(){return jl="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},jl.apply(this,arguments)}sc.registerVersion("firebase","10.4.0","app-compat");var Ul={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Vl="EMAIL_SIGNIN",Bl="PASSWORD_RESET",zl="RECOVER_EMAIL",ql="REVERT_SECOND_FACTOR_ADDITION",Kl="VERIFY_AND_CHANGE_EMAIL",Gl="VERIFY_EMAIL";function Hl(e){return void 0!==e&&void 0!==e.getResponse}function Wl(e){return void 0!==e&&void 0!==e.enterprise}var Ql=g((function e(t){if(d(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Yl(){return li({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Xl=function(){var e;return li(e={},"admin-restricted-operation","This operation is restricted to administrators only."),li(e,"argument-error",""),li(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),li(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),li(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),li(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),li(e,"cordova-not-ready","Cordova framework is not ready."),li(e,"cors-unsupported","This browser is not supported."),li(e,"credential-already-in-use","This credential is already associated with a different user account."),li(e,"custom-token-mismatch","The custom token corresponds to a different audience."),li(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),li(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),li(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),li(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),li(e,"email-already-in-use","The email address is already in use by another account."),li(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),li(e,"expired-action-code","The action code has expired."),li(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),li(e,"internal-error","An internal AuthError has occurred."),li(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),li(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),li(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),li(e,"invalid-auth-event","An internal AuthError has occurred."),li(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),li(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),li(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),li(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),li(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),li(e,"invalid-email","The email address is badly formatted."),li(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),li(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),li(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),li(e,"invalid-credential","The supplied auth credential is malformed or has expired."),li(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),li(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),li(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),li(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),li(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),li(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),li(e,"wrong-password","The password is invalid or the user does not have a password."),li(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),li(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),li(e,"invalid-provider-id","The specified provider ID is invalid."),li(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),li(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),li(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),li(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),li(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),li(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),li(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),li(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),li(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),li(e,"missing-continue-uri","A continue URL must be provided in the request."),li(e,"missing-iframe-start","An internal AuthError has occurred."),li(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),li(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),li(e,"missing-password","A non-empty password must be provided"),li(e,"missing-multi-factor-info","No second factor identifier is provided."),li(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),li(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),li(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),li(e,"app-deleted","This instance of FirebaseApp has been deleted."),li(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),li(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),li(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),li(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),li(e,"no-auth-event","An internal AuthError has occurred."),li(e,"no-such-provider","User was not linked to an account with the given provider."),li(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),li(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),li(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),li(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),li(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),li(e,"provider-already-linked","User can only be linked to one identity for the given provider."),li(e,"quota-exceeded","The project's quota for this operation has been exceeded."),li(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),li(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),li(e,"rejected-credential","The request contains malformed or mismatching credentials."),li(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),li(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),li(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),li(e,"timeout","The operation has timed out."),li(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),li(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),li(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),li(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),li(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),li(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),li(e,"unverified-email","The operation requires a verified email."),li(e,"user-cancelled","The user did not grant your application the permissions it requested."),li(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),li(e,"user-disabled","The user account has been disabled by an administrator."),li(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),li(e,"user-signed-out",""),li(e,"weak-password","The password must be 6 characters long or more."),li(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),li(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),li(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),li(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),li(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),li(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),li(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),li(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),li(e,"invalid-req-type","Invalid request parameters."),li(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),li(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),li(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},Jl=Yl,$l=new Pi("auth","Firebase",Yl()),Zl=new sa("@firebase/auth");function ef(e){if(Zl.logLevel<=ea.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zl.warn.apply(Zl,["Auth (".concat(Ya,"): ").concat(e)].concat(n))}}function tf(e){if(Zl.logLevel<=ea.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zl.error.apply(Zl,["Auth (".concat(Ya,"): ").concat(e)].concat(n))}}function nf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw sf.apply(void 0,[e].concat(n))}function rf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return sf.apply(void 0,[e].concat(n))}function af(e,t,n){var r=Object.assign(Object.assign({},Jl()),li({},t,n));return new Pi("auth","Firebase",r).create(t,{appName:e.name})}function of(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&nf(e,"argument-error"),af(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function sf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return $l.create.apply($l,[e].concat(n))}function uf(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw sf.apply(void 0,[t].concat(r))}}function cf(e){var t="INTERNAL ASSERTION FAILED: "+e;throw tf(t),new Error(t)}function lf(e,t){e||cf(t)}function ff(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function hf(){return"http:"===df()||"https:"===df()}function df(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var pf=function(){function e(t,n){d(this,e),this.shortDelay=t,this.longDelay=n,lf(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ai())||Ii()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(hf()||Si()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function vf(e,t){lf(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var mf=function(){function e(){d(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void cf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void cf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void cf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),gf=(li(uc={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),li(uc,"MISSING_CUSTOM_TOKEN","internal-error"),li(uc,"INVALID_IDENTIFIER","invalid-email"),li(uc,"MISSING_CONTINUE_URI","internal-error"),li(uc,"INVALID_PASSWORD","wrong-password"),li(uc,"MISSING_PASSWORD","missing-password"),li(uc,"EMAIL_EXISTS","email-already-in-use"),li(uc,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),li(uc,"INVALID_IDP_RESPONSE","invalid-credential"),li(uc,"INVALID_PENDING_TOKEN","invalid-credential"),li(uc,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),li(uc,"MISSING_REQ_TYPE","internal-error"),li(uc,"EMAIL_NOT_FOUND","user-not-found"),li(uc,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),li(uc,"EXPIRED_OOB_CODE","expired-action-code"),li(uc,"INVALID_OOB_CODE","invalid-action-code"),li(uc,"MISSING_OOB_CODE","internal-error"),li(uc,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),li(uc,"INVALID_ID_TOKEN","invalid-user-token"),li(uc,"TOKEN_EXPIRED","user-token-expired"),li(uc,"USER_NOT_FOUND","user-token-expired"),li(uc,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),li(uc,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),li(uc,"INVALID_CODE","invalid-verification-code"),li(uc,"INVALID_SESSION_INFO","invalid-verification-id"),li(uc,"INVALID_TEMPORARY_PROOF","invalid-credential"),li(uc,"MISSING_SESSION_INFO","missing-verification-id"),li(uc,"SESSION_EXPIRED","code-expired"),li(uc,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),li(uc,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),li(uc,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),li(uc,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),li(uc,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),li(uc,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),li(uc,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),li(uc,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),li(uc,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),li(uc,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),li(uc,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),li(uc,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),li(uc,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),li(uc,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),li(uc,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),li(uc,"MISSING_CLIENT_TYPE","missing-client-type"),li(uc,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),li(uc,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),li(uc,"INVALID_REQ_TYPE","invalid-req-type"),uc),yf=new pf(3e4,6e4);function kf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function bf(e,t,n,r){return(cc=cc||et($e().mark((function e(t,n,r,i){var a,o=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",wf(t,a,et($e().mark((function e(){var a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Mi(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",mf.fetch()(Af(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wf(e,t,n){return(lc=lc||et($e().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d,p;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},gf),n),e.prev=2,a=new _f(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Sf(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Sf(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Sf(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Sf(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw af(t,p,d);case 34:nf(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Ni)){e.next=41;break}throw e.t0;case 41:nf(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function xf(e,t,n,r){return(fc=fc||et($e().mark((function e(t,n,r,i){var a,o,s=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,bf(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&nf(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Af(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?vf(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var _f=function(){function e(t){var n=this;d(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(rf(n.auth,"network-request-failed"))}),yf.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Sf(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=rf(e,t,r);return i.customData._tokenResponse=n,i}function If(e){return(hc=hc||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bf(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ef(e,t){return(dc=dc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bf(t,"GET","/v2/recaptchaConfig",kf(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tf(e,t){return(pc=pc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bf(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cf(e,t){return(vc=vc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nf(e,t){return(mc=mc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bf(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pf(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Rf(e){return 1e3*Number(e)}function Of(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return tf("JWT malformed, contained fewer than 3 sections"),null;try{var a=vi(r);return a?JSON.parse(a):(tf("Failed to decode base64 JWT payload"),null)}catch(o){return tf("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Df(e,t){return(yc=yc||et($e().mark((function e(t,n){var r=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ni&&Lf(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Lf(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ff=function(e){function t(e){d(this,t),this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(t,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(et($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){return(e=e||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})))).apply(this,arguments)}}]),t}(),Mf=function(){function e(t,n){d(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Pf(this.lastLoginAt),this.creationTime=Pf(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function jf(e){return(kc=kc||et($e().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Df(t,Nf(r,{idToken:i}));case 6:uf(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=ft(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Uf(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mf(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uf(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function Vf(e,t){return(wc=wc||et($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wf(t,{},et($e().mark((function e(){var r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mi({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Af(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",mf.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bf=function(e,t){function n(){d(this,n),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(n,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){uf(e.idToken,"internal-error"),uf("undefined"!==typeof e.idToken,"internal-error"),uf("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Of(e);return uf(t,"internal-error"),uf("undefined"!==typeof t.exp,"internal-error"),uf("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(t){return(e=e||et($e().mark((function e(t){var n,r=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],uf(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(e,n){return(t=t||et($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vf(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new n,this.toJSON())}},{key:"_performRefresh",value:function(){return cf("not implemented")}}],[{key:"fromJSON",value:function(e,t){var r=t.refreshToken,i=t.accessToken,a=t.expirationTime,o=new n;return r&&(uf("string"===typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(uf("string"===typeof i,"internal-error",{appName:e}),o.accessToken=i),a&&(uf("number"===typeof a,"internal-error",{appName:e}),o.expirationTime=a),o}}]),n}();function zf(e,t){uf("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var qf=function(e,t,n,r){function i(e){d(this,i);var t=e.uid,n=e.auth,r=e.stsTokenManager,a=ft(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ff(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new Mf(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(i,[{key:"getIdToken",value:function(t){return(e=e||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Df(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(uf(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getIdTokenResult",value:function(e){return function(e){return(gc=gc||et($e().mark((function e(t){var n,r,i,a,o,s,u=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Qi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,uf((a=Of(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Pf(Rf(a.auth_time)),issuedAtTime:Pf(Rf(a.iat)),expirationTime:Pf(Rf(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return(bc=bc||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qi(t),e.next=3,jf(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(uf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(e){var t=new i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}},{key:"_onReload",value:function(e){uf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(e){return(t=t||et($e().mark((function e(t){var n,r,i=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,jf(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"delete",value:function(){return(n=n||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Df(this,Tf(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(e,t){var n,r,a,o,s,u,c,l,f=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,v=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,k=t.uid,b=t.emailVerified,w=t.isAnonymous,x=t.providerData,A=t.stsTokenManager;uf(k&&A,e,"internal-error");var _=Bf.fromJSON(this.name,A);uf("string"===typeof k,e,"internal-error"),zf(f,e.name),zf(h,e.name),uf("boolean"===typeof b,e,"internal-error"),uf("boolean"===typeof w,e,"internal-error"),zf(d,e.name),zf(p,e.name),zf(v,e.name),zf(m,e.name),zf(g,e.name),zf(y,e.name);var S=new i({uid:k,auth:e,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(e,t){return(r=r||et($e().mark((function e(t,n){var r,a,o,s=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],(a=new Bf).updateFromServerResponse(n),o=new i({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r}),e.next=6,jf(o);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),i}(),Kf=new Map;function Gf(e){lf(e instanceof Function,"Expected a class definition");var t=Kf.get(e);return t?(lf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Kf.set(e,t),t)}var Hf=function(e,t,n,r){function i(){d(this,i),this.type="NONE",this.storage={}}return g(i,[{key:"_isAvailable",value:function(){return(e=e||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"_set",value:function(e,n){return(t=t||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_get",value:function(e){return(n=n||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_remove",value:function(e){return(r=r||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),i}();Hf.type="NONE";var Wf=Hf;function Qf(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Yf=function(e,t,n){function r(e,t,n){d(this,r),this.persistence=e,this.auth=t,this.userKey=n;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Qf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Qf("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(r,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){return(e=e||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?qf._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(e){return(t=t||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(e,t){return(n=n||et($e().mark((function e(t,n){var i,a,o,s,u,c,l,f,h,d,p,v,m,g=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=g.length>2&&void 0!==g[2]?g[2]:"authUser",n.length){e.next=3;break}return e.abrupt("return",new r(Gf(Wf),t,o));case 3:return e.next=5,Promise.all(n.map((function(e){return(i=i||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 5:s=e.sent.filter((function(e){return e})),u=s[0]||Gf(Wf),c=Qf(o,t.config.apiKey,t.name),l=null,f=E(n),e.prev=10,f.s();case 12:if((h=f.n()).done){e.next=29;break}return d=h.value,e.prev=14,e.next=17,d._get(c);case 17:if(!(p=e.sent)){e.next=23;break}return v=qf._fromJSON(t,p),d!==u&&(l=v),u=d,e.abrupt("break",29);case 23:e.next=27;break;case 25:e.prev=25,e.t0=e.catch(14);case 27:e.next=12;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(10),f.e(e.t1);case 34:return e.prev=34,f.f(),e.finish(34);case 37:if(m=s.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&m.length){e.next=40;break}return e.abrupt("return",new r(u,t,o));case 40:if(u=m[0],!l){e.next=44;break}return e.next=44,u._set(c,l.toJSON());case 44:return e.next=46,Promise.all(n.map((function(e){return(a=a||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===u){e.next=8;break}return e.prev=1,e.next=4,t._remove(c);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)})));case 46:return e.abrupt("return",new r(u,t,o));case 47:case"end":return e.stop()}}),e,null,[[10,31,34,37],[14,25]])})))).apply(this,arguments)}}]),r}();function Xf(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Jf(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nh(t))return"Blackberry";if(rh(t))return"Webos";if($f(t))return"Safari";if((t.includes("chrome/")||Zf(t))&&!t.includes("edge/"))return"Chrome";if(th(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Jf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai();return/firefox\//i.test(e)}function $f(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai();return/crios\//i.test(e)}function eh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai();return/iemobile/i.test(e)}function th(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai();return/android/i.test(e)}function nh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai();return/blackberry/i.test(e)}function rh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai();return/webos/i.test(e)}function ih(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ah(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai();return ih(e)||th(e)||rh(e)||nh(e)||/windows phone/i.test(e)||eh(e)}function oh(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Xf(Ai());break;case"Worker":t="".concat(Xf(Ai()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ya,"/").concat(r)}var sh=function(e){function t(e){d(this,t),this.auth=e,this.queue=[]}return g(t,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(t){return(e=e||et($e().mark((function e(t){var n,r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=E(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=E(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(An){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})))).apply(this,arguments)}}]),t}();function uh(e){return(xc=xc||et($e().mark((function e(t){var n,r=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",bf(t,"GET","/v2/passwordPolicy",kf(t,n)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ch=function(){function e(t){var n,r,i,a;d(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return g(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),lh=function(e,t,n,r,i,a,o,s,u,c,l,f,h,p,v,m,y){function k(e,t,n,r){d(this,k),this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hh(this),this.idTokenSubscription=new hh(this),this.beforeStateQueue=new sh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$l,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}return g(k,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Gf(t)),this._initializationPromise=this.queue(et($e().mark((function r(){var i,a;return $e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Yf.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){return(e=e||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"initializeCurrentUser",value:function(e){return(t=t||et($e().mark((function e(t){var n,r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return uf(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})))).apply(this,arguments)}},{key:"tryRedirectSignIn",value:function(e){return(n=n||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})))).apply(this,arguments)}},{key:"reloadAndSetCurrentUserOrClear",value:function(e){return(r=r||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jf(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})))).apply(this,arguments)}},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){return(i=i||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateCurrentUser",value:function(e){return(a=a||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Qi(t):null)&&uf(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_updateCurrentUser",value:function(e){return(o=o||et($e().mark((function e(t){var n,r=this,i=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&uf(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"signOut",value:function(){return(s=s||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"setPersistence",value:function(e){var t=this;return this.queue(et($e().mark((function n(){return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Gf(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(e){return(u=u||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){return(c=c||et($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uh(this);case 2:t=e.sent,n=new ch(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Pi("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(e,t){return(l=l||et($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getOrInitRedirectPersistenceManager",value:function(e){return(f=f||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return uf(n=t&&Gf(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Yf.create(this,[Gf(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_redirectUserForId",value:function(e){return(h=h||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_persistUserIfCurrent",value:function(e){return(p=p||et($e().mark((function e(t){var n=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(uf(s,this,"internal-error"),s.then((function(){o||a(i.currentUser)})),"function"===typeof t){var u=e.addObserver(t,n,r);return function(){o=!0,u()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(e){return(v=v||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return uf(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oh(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){return(m=m||et($e().mark((function e(){var t,n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=li({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getAppCheckToken",value:function(){return(y=y||et($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&ef("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),k}();function fh(e){return Qi(e)}var hh=function(){function e(t){var n=this;d(this,e),this.auth=t,this.observer=null,this.addObserver=Vi((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return uf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function dh(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=rf("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ph(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var vh=function(e){function t(e){d(this,t),this.type="recaptcha-enterprise",this.auth=fh(e)}return g(t,[{key:"verify",value:function(){return(e=e||et($e().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,t,r){var i=window.grecaptcha;Wl(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:n}).then((function(e){t(e)})).catch((function(){t("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(e){return(t=t||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise((function(e,r){return(n=n||et($e().mark((function e(n,r){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ef(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Ql(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=s.length>0&&void 0!==s[0]?s[0]:"verify",r=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){i(o.auth).then((function(n){if(!r&&Wl(window.grecaptcha))a(n,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));dh("https://www.google.com/recaptcha/enterprise.js?render="+n).then((function(){a(n,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),t}();function mh(e,t,n){return(Ac=Ac||et($e().mark((function e(t,n,r){var i,a,o,s,u=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new vh(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function gh(e,t,n){var r=fh(e);uf(r._canInitEmulator,r,"emulator-config-failed"),uf(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=yh(t),o=function(e){var t=yh(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:kh(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:kh(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function yh(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function kh(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var bh=function(){function e(t,n){d(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return cf("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return cf("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return cf("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return cf("not implemented")}}]),e}();function wh(e,t){return(_c=_c||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bf(t,"POST","/v1/accounts:resetPassword",kf(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xh(e,t){return(Sc=Sc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ah(e,t){return(Ic=Ic||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bf(t,"POST","/v1/accounts:update",kf(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _h(e,t){return(Ec=Ec||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xf(t,"POST","/v1/accounts:signInWithPassword",kf(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sh(e,t){return(Tc=Tc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bf(t,"POST","/v1/accounts:sendOobCode",kf(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ih(e,t){return(Cc=Cc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sh(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eh(e,t){return(Nc=Nc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sh(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Th(e,t){return(Pc=Pc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sh(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ch(e,t){return(Rc=Rc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sh(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nh(e,t){return(Oc=Oc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xf(t,"POST","/v1/accounts:signInWithEmailLink",kf(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ph(e,t){return(Dc=Dc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xf(t,"POST","/v1/accounts:signInWithEmailLink",kf(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rh=function(e,t,n){k(i,e);var r=A(i);function i(e,t,n){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return d(this,i),(a=r.call(this,"password",n))._email=e,a._password=t,a._tenantId=o,a}return g(i,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(e){return(t=t||et($e().mark((function e(t){var n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,mh(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",_h(t,i));case 11:return e.abrupt("return",_h(t,r).catch((function(e){return(a=a||et($e().mark((function e(n){var i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,mh(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",_h(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 12:return e.abrupt("return",Nh(t,{email:this._email,oobCode:this._password}));case 13:nf(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_linkToIdToken",value:function(e,t){return(n=n||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",xh(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ph(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:nf(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new i(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new i(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),i}(bh);function Oh(e,t){return(Lc=Lc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xf(t,"POST","/v1/accounts:signInWithIdp",kf(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dh=function(e){k(n,e);var t=A(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Oh(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Oh(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Oh(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mi(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nf("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ft(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(bh);function Lh(e,t){return(Fc=Fc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bf(t,"POST","/v1/accounts:sendVerificationCode",kf(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fh=li({},"USER_NOT_FOUND","user-not-found");var Mh=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return(Mc=Mc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xf(t,"POST","/v1/accounts:signInWithPhoneNumber",kf(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return(jc=jc||et($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xf(t,"POST","/v1/accounts:signInWithPhoneNumber",kf(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Sf(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return(Uc=Uc||et($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",xf(t,"POST","/v1/accounts:signInWithPhoneNumber",kf(t,r),Fh));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(bh);var jh=function(){function e(t){var n,r,i,a,o,s;d(this,e);var u=ji(Ui(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);uf(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ji(Ui(e)).link,n=t?ji(Ui(t)).deep_link_id:null,r=ji(Ui(e)).deep_link_id;return(r?ji(Ui(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Uh=function(){function e(){d(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return Rh._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=jh.parseLink(t);return uf(n,"argument-error"),Rh._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Uh.PROVIDER_ID="password",Uh.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Uh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Vh=function(){function e(t){d(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Bh=function(e){k(n,e);var t=A(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(Vh),zh=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return uf(e.idToken||e.accessToken,"argument-error"),Dh._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return uf("providerId"in t&&"signInMethod"in t,"argument-error"),Dh._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Bh),qh=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return Dh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Bh);qh.FACEBOOK_SIGN_IN_METHOD="facebook.com",qh.PROVIDER_ID="facebook.com";var Kh=function(e){k(n,e);var t=A(n);function n(){var e;return d(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return Dh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Bh);Kh.GOOGLE_SIGN_IN_METHOD="google.com",Kh.PROVIDER_ID="google.com";var Gh=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return Dh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Bh);Gh.GITHUB_SIGN_IN_METHOD="github.com",Gh.PROVIDER_ID="github.com";var Hh=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Oh(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Oh(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Oh(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(bh),Wh=function(e){k(n,e);var t=A(n);function n(e){return d(this,n),uf(e.startsWith("saml."),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Hh.fromJSON(e);return uf(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Hh._create(r,n)}catch(i){return null}}}]),n}(Vh),Qh=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return Dh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Bh);function Yh(e,t){return(Vc=Vc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xf(t,"POST","/v1/accounts:signUp",kf(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Qh.TWITTER_SIGN_IN_METHOD="twitter.com",Qh.PROVIDER_ID="twitter.com";var Xh=function(e,t){function n(e){d(this,n),this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}return g(n,null,[{key:"_fromIdTokenResponse",value:function(t,r,i){return(e=e||et($e().mark((function e(t,r,i){var a,o,s,u,c=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],e.next=3,qf._fromIdTokenResponse(t,i,a);case 3:return o=e.sent,s=Jh(i),u=new n({user:o,providerId:s,_tokenResponse:i,operationType:r}),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"_forOperation",value:function(e,r,i){return(t=t||et($e().mark((function e(t,r,i){var a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._updateTokensIfNecessary(i,!0);case 2:return a=Jh(i),e.abrupt("return",new n({user:t,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),n}();function Jh(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var $h=function(e){k(n,e);var t=A(n);function n(e,r,i,a){var o,s;return d(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ni);function Zh(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw $h._fromErrorAndOperation(e,n,t,r);throw n}))}function ed(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function td(e,t){return(zc=zc||et($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qi(t),e.next=3,rd(!0,r,n);case 3:return e.t0=Cf,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ed(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nd(e,t){return(qc=qc||et($e().mark((function e(t,n){var r,i,a=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Df,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Xh._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rd(e,t,n){return(Kc=Kc||et($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jf(n);case 2:i=ed(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",uf(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function id(e,t){return(Gc=Gc||et($e().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Df(t,Zh(i,a,n,t),r);case 6:return uf((o=e.sent).idToken,i,"internal-error"),uf(s=Of(o.idToken),i,"internal-error"),u=s.sub,uf(t.uid===u,i,"user-mismatch"),e.abrupt("return",Xh._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&nf(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function ad(e,t){return(Hc=Hc||et($e().mark((function e(t,n){var r,i,a,o,s=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Zh(t,i,n);case 4:return a=e.sent,e.next=7,Xh._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function od(e,t){return(Wc=Wc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ad(fh(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sd(e,t){return(Qc=Qc||et($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qi(t),e.next=3,rd(!1,r,n.providerId);case 3:return e.abrupt("return",nd(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ud(e,t){return(Yc=Yc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",id(Qi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cd(e,t){return(Xc=Xc||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xf(t,"POST","/v1/accounts:signInWithCustomToken",kf(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ld=function(){function e(t,n){d(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?fd._fromServerResponse(e,t):"totpInfo"in t?hd._fromServerResponse(e,t):nf(e,"internal-error")}}]),e}(),fd=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ld),hd=function(e){k(n,e);var t=A(n);function n(e){return d(this,n),t.call(this,"totp",e)}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ld);function dd(e,t,n){var r;uf((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),uf("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(uf(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(uf(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function pd(e){return($c=$c||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=fh(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vd(e,t,n){return(Zc=Zc||et($e().mark((function e(t,n,r){var i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=fh(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,mh(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&dd(a,s,r),e.next=9,Eh(a,s);case 9:e.next=14;break;case 11:return r&&dd(a,o,r),e.next=14,Eh(a,o).catch((function(e){return(u=u||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,mh(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&dd(a,n,r),e.next=8,Eh(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function md(e,t){return(nl=nl||et($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qi(t),e.next=3,wh(r,{oobCode:n});case 3:i=e.sent,uf(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return uf(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:uf(i.mfaInfo,r,"internal-error");case 13:uf(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ld._fromServerResponse(fh(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gd(e,t,n){return(il=il||et($e().mark((function e(t,n,r){var i,a,o,s,u,c,l,f;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=fh(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,mh(a,o,"signUpPassword");case 5:u=e.sent,s=Yh(a,u),e.next=10;break;case 9:s=Yh(a,o).catch((function(e){return(c=c||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,mh(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Yh(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 10:return e.next=12,s.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&pd(t),e}));case 12:return l=e.sent,e.next=15,Xh._fromIdTokenResponse(a,"signIn",l);case 15:return f=e.sent,e.next=18,a._updateCurrentUser(f.user);case 18:return e.abrupt("return",f);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yd(e,t,n){var r;return od(Qi(e),Uh.credential(t,n)).catch((function(t){return(r=r||et($e().mark((function t(n){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&pd(e),n;case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))}function kd(e,t){return(sl=sl||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bf(t,"POST","/v1/accounts:createAuthUri",kf(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bd(e,t){return(fl=fl||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wd(e,t,n){return(dl=dl||et($e().mark((function e(t,n,r){var i,a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Df(t,xh(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xd=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ad=function(e){k(n,e);var t=A(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i)).username=a,o}return g(n)}(xd),_d=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"facebook.com",r)}return g(n)}(xd),Sd=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(Ad),Id=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"google.com",r)}return g(n)}(xd),Ed=function(e){k(n,e);var t=A(n);function n(e,r,i){return d(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(Ad);function Td(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Of(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new xd(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new _d(a,i);case"github.com":return new Sd(a,i);case"google.com":return new Id(a,i);case"twitter.com":return new Ed(a,i,e.screenName||null);case"custom":case"anonymous":return new xd(a,null);default:return new xd(a,r,i)}}(n)}var Cd=function(){function e(t,n,r){d(this,e),this.type=t,this.credential=n,this.user=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:li({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Nd=function(e){function t(e,n,r){d(this,t),this.session=e,this.hints=n,this.signInResolver=r}return g(t,[{key:"resolveSignIn",value:function(t){return(e=e||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}],[{key:"_fromError",value:function(e,n){var r,i=fh(e),a=n.customData._serverResponse,o=(a.mfaInfo||[]).map((function(e){return ld._fromServerResponse(i,e)}));uf(a.mfaPendingCredential,i,"internal-error");var s=Cd._fromMfaPendingCredential(a.mfaPendingCredential);return new t(s,o,(function(e){return(r=r||et($e().mark((function e(t){var r,o,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(i,s);case 2:r=e.sent,delete a.mfaInfo,delete a.mfaPendingCredential,o=Object.assign(Object.assign({},a),{idToken:r.idToken,refreshToken:r.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Xh._fromIdTokenResponse(i,n.operationType,o);case 11:return u=e.sent,e.next=14,i._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return uf(n.user,i,"internal-error"),e.abrupt("return",Xh._forOperation(n.user,n.operationType,o));case 17:nf(i,"internal-error");case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}))}}]),t}();function Pd(e,t){return bf(e,"POST","/v2/accounts/mfaEnrollment:start",kf(e,t))}function Rd(e,t){return bf(e,"POST","/v2/accounts/mfaEnrollment:start",kf(e,t))}function Od(e,t){return bf(e,"POST","/v2/accounts/mfaEnrollment:finalize",kf(e,t))}function Dd(e,t){return bf(e,"POST","/v2/accounts/mfaEnrollment:withdraw",kf(e,t))}var Ld=function(e,t,n){function r(e){var t=this;d(this,r),this.user=e,this.enrolledFactors=[],e._onReload((function(n){n.mfaInfo&&(t.enrolledFactors=n.mfaInfo.map((function(t){return ld._fromServerResponse(e.auth,t)})))}))}return g(r,[{key:"getSession",value:function(){return(e=e||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Cd,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"enroll",value:function(e,n){return(t=t||et($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Df(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"unenroll",value:function(e){return(n=n||et($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Df(this.user,Dd(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})))).apply(this,arguments)}}],[{key:"_fromUser",value:function(e){return new r(e)}}]),r}(),Fd=new WeakMap;var Md="__sak",jd=function(){function e(t,n){d(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ud=function(e,t,n,r){k(a,e);var i=A(a);function a(){var e;return d(this,a),(e=i.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ai();return $f(e)||ih(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ah(),e._shouldAllowMigration=!0,e}return g(a,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ei()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(e,n){return(t=t||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl(b(a.prototype),"_set",this).call(this,t,n);case 2:this.localCache[t]=JSON.stringify(n);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_get",value:function(e){return(n=n||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl(b(a.prototype),"_get",this).call(this,t);case 2:return n=e.sent,this.localCache[t]=JSON.stringify(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_remove",value:function(e){return(r=r||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl(b(a.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),a}(jd);Ud.type="LOCAL";var Vd=Ud,Bd=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(jd);Bd.type="SESSION";var zd=Bd;function qd(e){var t;return Promise.all(e.map((function(e){return(t=t||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)})))}var Kd=function(e){function t(e){d(this,t),this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(t,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(t){return(e=e||et($e().mark((function e(t){var n,r,i,a,o,s,u,c,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(r=t).data,a=i.eventId,o=i.eventType,s=i.data,null===(u=this.handlersMap[o])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return r.ports[0].postMessage({status:"ack",eventId:a,eventType:o}),c=Array.from(u).map((function(e){return(n=n||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(r.origin,s));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),e.next=9,qd(c);case 9:l=e.sent,r.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:l});case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(e){var n=this.receivers.find((function(t){return t.isListeningto(e)}));if(n)return n;var r=new t(e);return this.receivers.push(r),r}}]),t}();function Gd(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Kd.receivers=[];var Hd=function(e){function t(e){d(this,t),this.target=e,this.handlers=new Set}return g(t,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(t,n){return(e=e||et($e().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Gd("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),t}();function Wd(){return window}function Qd(e){Wd().location.href=e}function Yd(){return"undefined"!==typeof Wd().WorkerGlobalScope&&"function"===typeof Wd().importScripts}function Xd(){return(pl=pl||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Jd(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var $d="firebaseLocalStorageDb",Zd="firebaseLocalStorage",ep="fbase_key",tp=function(){function e(t){d(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function np(e,t){return e.transaction([Zd],t?"readwrite":"readonly").objectStore(Zd)}function rp(){var e=indexedDB.deleteDatabase($d);return new tp(e).toPromise()}function ip(){var e=indexedDB.open($d,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Zd,{keyPath:ep})}catch(r){n(r)}})),e.addEventListener("success",et($e().mark((function n(){var r;return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Zd)){n.next=12;break}return r.close(),n.next=5,rp();case 5:return n.t0=t,n.next=8,ip();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ap(e,t,n){return(vl=vl||et($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=np(t,!0).put((li(i={},ep,n),li(i,"value",r),i)),e.abrupt("return",new tp(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function op(e,t){return(ml=ml||et($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=np(t,!1).get(n),e.next=3,new tp(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sp(e,t){var n=np(e,!0).delete(t);return new tp(n).toPromise()}var up=function(e,t,n,r,i,a,o,s,u,c,l,f){function h(){d(this,h),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(h,[{key:"_openDb",value:function(){return(e=e||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ip();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_withRetries",value:function(e){return(t=t||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})))).apply(this,arguments)}},{key:"initializeServiceWorkerMessaging",value:function(){return(n=n||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yd()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"initializeReceiver",value:function(){return(r=r||et($e().mark((function e(){var t,n,r=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Kd._getInstance(Yd()?self:null),this.receiver._subscribe("keyChanged",(function(e,n){return(t=t||et($e().mark((function e(t,n){var i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(n.key)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),this.receiver._subscribe("ping",(function(e,t){return(n=n||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"initializeSender",value:function(){return(i=i||et($e().mark((function e(){var t,n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xd();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Hd(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"notifyServiceWorker",value:function(e){return(a=a||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Jd()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})))).apply(this,arguments)}},{key:"_isAvailable",value:function(){return(o=o||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ip();case 5:return t=e.sent,e.next=8,ap(t,Md,"1");case 8:return e.next=10,sp(t,Md);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}},{key:"_withPendingWrite",value:function(e){return(s=s||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})))).apply(this,arguments)}},{key:"_set",value:function(e,t){return(u=u||et($e().mark((function e(t,n){var r=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ap(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_get",value:function(e){return(c=c||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return op(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_remove",value:function(e){return(l=l||et($e().mark((function e(t){var n=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return sp(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_poll",value:function(){return(f=f||et($e().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=np(e,!1).getAll();return new tp(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=E(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(et($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),h}();up.type="LOCAL";var cp=up;function lp(e,t){return bf(e,"POST","/v2/accounts/mfaSignIn:start",kf(e,t))}function fp(e,t){return bf(e,"POST","/v2/accounts/mfaSignIn:finalize",kf(e,t))}var hp=1e12,dp=function(e){function t(e){d(this,t),this.auth=e,this.counter=hp,this._widgets=new Map}return g(t,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new pp(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||hp;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||hp;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(t){return(e=e||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||hp,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),t}(),pp=function(){function e(t,n,r){var i=this;d(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;uf(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var vp=ph("rcb"),mp=new pf(3e4,6e4),gp=function(){function e(){var t;d(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Wd().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return uf(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Hl(Wd().grecaptcha)?Promise.resolve(Wd().grecaptcha):new Promise((function(r,i){var a=Wd().setTimeout((function(){i(rf(e,"network-request-failed"))}),mp.get());Wd()[vp]=function(){Wd().clearTimeout(a),delete Wd()[vp];var o=Wd().grecaptcha;if(o&&Hl(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(rf(e,"internal-error"))},dh("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Mi({onload:vp,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(rf(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Wd().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var yp=function(e){function t(){d(this,t)}return g(t,[{key:"load",value:function(t){return(e=e||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new dp(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"clearedOneInstance",value:function(){}}]),t}(),kp="recaptcha",bp={theme:"light",type:"image"},wp=function(e,t,n){function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},bp);d(this,r),this.parameters=n,this.type=kp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fh(e),this.isInvisible="invisible"===this.parameters.size,uf("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;uf(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yp:new gp,this.validateStartingState()}return g(r,[{key:"verify",value:function(){return(e=e||et($e().mark((function e(){var t,n,r,i=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){uf(!this.parameters.sitekey,this.auth,"argument-error"),uf(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),uf("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Wd()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){uf(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){return(t=t||et($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"init",value:function(){return(n=n||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uf(hf()&&!Yd(),this.auth,"internal-error"),e.next=3,xp();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,If(this.auth);case 8:uf(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"getAssertedRecaptcha",value:function(){return uf(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),r}();function xp(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ap=function(){function e(t,n){d(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=Mh._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function _p(e,t,n){return(yl=yl||et($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qi(t),e.next=3,rd(!1,i,"phone");case 3:return e.next=5,Sp(i.auth,n,Qi(r));case 5:return a=e.sent,e.abrupt("return",new Ap(a,(function(e){return sd(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sp(e,t,n){return(bl=bl||et($e().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,uf("string"===typeof a,t,"argument-error"),uf(r.type===kp,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return uf("enroll"===s.type,t,"internal-error"),e.next=13,Pd(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return uf("signin"===s.type,t,"internal-error"),uf(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,lp(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Lh(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}var Ip=function(){function e(t){d(this,e),this.providerId=e.PROVIDER_ID,this.auth=fh(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return Sp(this.auth,e,Qi(t))}}],[{key:"credential",value:function(e,t){return Mh._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Mh._fromTokenResponse(n,r):null}}]),e}();function Ep(e,t){return t?Gf(t):(uf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ip.PROVIDER_ID="phone",Ip.PHONE_SIGN_IN_METHOD="phone";var Tp=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return Oh(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Oh(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Oh(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(bh);function Cp(e){return ad(e.auth,new Tp(e),e.bypassAuthState)}function Np(e){var t=e.auth,n=e.user;return uf(n,t,"internal-error"),id(n,new Tp(e),e.bypassAuthState)}function Pp(e){return(xl=xl||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,uf(r=t.user,n,"internal-error"),e.abrupt("return",nd(r,new Tp(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rp=function(e){function t(e,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];d(this,t),this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(t,[{key:"execute",value:function(){var e,t=this;return new Promise((function(n,r){return(e=e||et($e().mark((function e(n,r){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pendingPromise={resolve:n,reject:r},e.prev=1,e.next=4,t.resolver._initialize(t.auth);case 4:return t.eventManager=e.sent,e.next=7,t.onExecution();case 7:t.eventManager.registerConsumer(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.reject(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}))}},{key:"onAuthEvent",value:function(t){return(e=e||et($e().mark((function e(t){var n,r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})))).apply(this,arguments)}},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cp;case"linkViaPopup":case"linkViaRedirect":return Pp;case"reauthViaPopup":case"reauthViaRedirect":return Np;default:nf(this.auth,"internal-error")}}},{key:"resolve",value:function(e){lf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){lf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),t}(),Op=new pf(2e3,1e4);function Dp(e,t,n){return(Al=Al||et($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fh(t),of(t,n,Vh),a=Ep(i,r),o=new Fp(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lp(e,t,n){return(Sl=Sl||et($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return of((i=Qi(t)).auth,n,Vh),a=Ep(i.auth,r),o=new Fp(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fp=function(e,t,n){k(i,e);var r=A(i);function i(e,t,n,a,o){var s;return d(this,i),(s=r.call(this,e,t,a,o)).provider=n,s.authWindow=null,s.pollId=null,i.currentPopupAction&&i.currentPopupAction.cancel(),i.currentPopupAction=x(s),s}return g(i,[{key:"executeNotNull",value:function(){return(t=t||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return uf(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"onExecution",value:function(){return(n=n||et($e().mark((function e(){var t,n=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lf(1===this.filter.length,"Popup operations only handle one event"),t=Gd(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(rf(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(rf(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,i.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(rf(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Op.get())}()}}]),i}(Rp);Fp.currentPopupAction=null;var Mp="pendingRedirect",jp=new Map,Up=function(e,t,n,r){k(a,e);var i=A(a);function a(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(this,a),(n=i.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r)).eventId=null,n}return g(a,[{key:"execute",value:function(){return(t=t||et($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=jp.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Vp(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,jl(b(a.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:n=e.t0,t=function(){return Promise.resolve(n)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:jp.set(this.auth._key(),t);case 21:return this.bypassAuthState||jp.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})))).apply(this,arguments)}},{key:"onAuthEvent",value:function(e){return(n=n||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",jl(b(a.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(n=e.sent)){e.next=16;break}return this.user=n,e.abrupt("return",jl(b(a.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"onExecution",value:function(){return(r=r||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"cleanUp",value:function(){}}]),a}(Rp);function Vp(e,t){return(Il=Il||et($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kp(n),i=qp(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bp(e,t){return(El=El||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qp(t)._set(Kp(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zp(e,t){jp.set(e._key(),t)}function qp(e){return Gf(e._redirectPersistence)}function Kp(e){return Qf(Mp,e.config.apiKey,e.name)}function Gp(e,t,n){return function(e,t,n){return(Tl=Tl||et($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fh(t),of(t,n,Vh),e.next=4,i._initializationPromise;case 4:return a=Ep(i,r),e.next=7,Bp(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,t,n)}function Hp(e,t,n){return function(e,t,n){return(Cl=Cl||et($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return of((i=Qi(t)).auth,n,Vh),e.next=4,i.auth._initializationPromise;case 4:return a=Ep(i.auth,r),e.next=7,Bp(a,i.auth);case 7:return e.next=9,Xp(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,t,n)}function Wp(e,t,n){return function(e,t,n){return(Nl=Nl||et($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return of((i=Qi(t)).auth,n,Vh),e.next=4,i.auth._initializationPromise;case 4:return a=Ep(i.auth,r),e.next=7,rd(!1,i,n.providerId);case 7:return e.next=9,Bp(a,i.auth);case 9:return e.next=11,Xp(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e,t,n)}function Qp(e,t){return(Pl=Pl||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fh(t)._initializationPromise;case 2:return e.abrupt("return",Yp(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yp(e,t){return(Rl=Rl||et($e().mark((function e(t,n){var r,i,a,o,s,u=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=fh(t),a=Ep(i,n),o=new Up(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xp(e){return(Ol=Ol||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gd("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jp=function(){function e(t){d(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Zp(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(rf(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($p(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add($p(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function $p(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Zp(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ev(e){return(Dl=Dl||et($e().mark((function e(t){var n,r=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",bf(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nv=/^https?/;function rv(e){var t=ff(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!nv.test(r))return!1;if(tv.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var iv=new pf(3e4,6e4);function av(){var e=Wd().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ov=null;function sv(e){return ov=ov||function(e){return new Promise((function(t,n){var r,i,a;function o(){av(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){av(),n(rf(e,"network-request-failed"))},timeout:iv.get()})}if(null===(i=null===(r=Wd().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Wd().gapi)||void 0===a?void 0:a.load)){var s=ph("iframefcb");return Wd()[s]=function(){gapi.load?o():n(rf(e,"network-request-failed"))},dh("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ov=null,e}))}(e),ov}var uv=new pf(5e3,15e3),cv="__/auth/iframe",lv="emulator/auth/iframe",fv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dv(e){var t=e.config;uf(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?vf(t,lv):"https://".concat(e.config.authDomain,"/").concat(cv),r={apiKey:t.apiKey,appName:e.name,v:Ya},i=hv.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Mi(r).slice(1))}function pv(e){return(Fl=Fl||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sv(t);case 2:return n=e.sent,uf(r=Wd().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:dv(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fv,dontclear:!0},(function(e){var n;return new Promise((function(r,i){return(n=n||et($e().mark((function n(r,i){var a,o,s;return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Wd().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=rf(t,"network-request-failed"),o=Wd().setTimeout((function(){i(a)}),uv.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mv=function(){function e(t){d(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function gv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},vv),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ai().toLowerCase();n&&(s=Zf(c)?"_blank":n),Jf(c)&&(t=t||"http://localhost",u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return ih(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new mv(null);var h=window.open(t||"",s,f);uf(h,e,"popup-blocked");try{h.focus()}catch(d){}return new mv(h)}var yv="__/auth/handler",kv="emulator/auth/handler",bv=encodeURIComponent("fac");function wv(e,t,n,r,i,a){return(Ml=Ml||et($e().mark((function e(t,n,r,i,a,o){var s,u,c,f,h,d,p,v,m,g,y,k,b;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(uf(t.config.authDomain,t,"auth-domain-config-required"),uf(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Ya,eventId:a},n instanceof Vh)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Di(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)f=l(c[u],2),h=f[0],d=f[1],s[h]=d;for(n instanceof Bh&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,g=Object.keys(v);m<g.length;m++)y=g[m],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(bv,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(xv(t),"?").concat(Mi(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xv(e){var t=e.config;return t.emulator?vf(t,kv):"https://".concat(t.authDomain,"/").concat(yv)}var Av="webStorageSupport",_v=function(e,t,n){function r(){d(this,r),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zd,this._completeRedirectFn=Yp,this._overrideRedirectResult=zp}return g(r,[{key:"_openPopup",value:function(t,n,r,i){return(e=e||et($e().mark((function e(t,n,r,i){var a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lf(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,wv(t,n,r,ff(),i);case 3:return o=e.sent,e.abrupt("return",gv(t,o,Gd()));case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_openRedirect",value:function(e,n,r,i){return(t=t||et($e().mark((function e(t,n,r,i){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,wv(t,n,r,ff(),i);case 4:return Qd(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(lf(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(e){return(n=n||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pv(t);case 2:return n=e.sent,r=new Jp(t),n.register("authEvent",(function(e){return uf(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Av,{type:Av},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Av];void 0!==i&&t(!!i),nf(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return(Ll=Ll||et($e().mark((function e(t){var n,r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ev(t);case 4:n=e.sent,r=n.authorizedDomains,i=E(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!rv(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:nf(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ah()||$f()||ih()}}]),r}(),Sv=_v,Iv=function(){function e(t){d(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return cf("unexpected MultiFactorSessionType")}}}]),e}(),Ev=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return bf(e,"POST","/v2/accounts/mfaEnrollment:finalize",kf(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return bf(e,"POST","/v2/accounts/mfaSignIn:finalize",kf(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Iv),Tv=function(){function e(){d(this,e)}return g(e,null,[{key:"assertion",value:function(e){return Ev._fromCredential(e)}}]),e}();Tv.FACTOR_ID="phone";var Cv=function(e){function t(){d(this,t)}return g(t,null,[{key:"assertionForEnrollment",value:function(e,t){return Nv._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Nv._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(t){return(e=e||et($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uf("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Rd(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Pv._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),t}();Cv.FACTOR_ID="totp";var Nv=function(e,t,n){k(i,e);var r=A(i);function i(e,t,n){var a;return d(this,i),(a=r.call(this,"totp")).otp=e,a.enrollmentId=t,a.secret=n,a}return g(i,[{key:"_finalizeEnroll",value:function(e,n,r){return(t=t||et($e().mark((function e(t,n,r){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uf("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Od(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_finalizeSignIn",value:function(e,t){return(n=n||et($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uf(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",fp(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}],[{key:"_fromSecret",value:function(e,t){return new i(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new i(t,e)}}]),i}(Iv),Pv=function(){function e(t,n,r,i,a,o,s){d(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return g(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Rv(e)||Rv(t))&&(r=!0),r&&(Rv(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Rv(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Rv(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Ov="@firebase/auth",Dv="1.3.0",Lv=function(e){function t(e){d(this,t),this.auth=e,this.internalListeners=new Map}return g(t,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(t){return(e=e||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){uf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),t}();var Fv,Mv,jv,Uv,Vv,Bv,zv=wi("authIdTokenMaxAge")||300,qv=null;function Kv(){return window}Fv="Browser",za(new Yi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;uf(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Fv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oh(Fv)},l=new lh(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gf);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),za(new Yi("auth-internal",(function(e){return function(e){return new Lv(e)}(fh(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),eo(Ov,Dv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Fv)),eo(Ov,Dv,"esm2017");function Gv(e,t,n){return(Mv=Mv||et($e().mark((function e(t,n,r){var i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Kv(),o=a.BuildInfo,lf(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Yv(n.sessionId);case 4:return s=e.sent,u={},ih()?u.ibi=o.packageName:th()?u.apn=o.packageName:nf(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",wv(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hv(e){var t=Kv().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Wv(e,t,n){return(Uv=Uv||et($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kv(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(rf(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),th()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function Qv(e){var t,n,r,i,a,o,s,u,c,l,f=Kv();uf("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),uf("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),uf("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),uf("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),uf("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Yv(e){return(Vv=Vv||et($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xv(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xv(e){if(lf(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Jv=20,$v=function(e,t){k(r,e);var n=A(r);function r(){var e;return d(this,r),(e=n.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(r,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),jl(b(r.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){return(t=t||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),r}(Jp);function Zv(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:rm(),postBody:null,tenantId:e.tenantId,error:rf(e,"no-auth-event")}}function em(e,t){return im()._set(am(e),t)}function tm(e){return(Bv=Bv||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,im()._get(am(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,im()._remove(am(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nm(e,t){var n,r,i=function(e){var t=om(e),n=t.link?decodeURIComponent(t.link):void 0,r=om(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return om(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=om(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?rf(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function rm(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Jv;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function im(){return Gf(Vd)}function am(e){return Qf("authEvent",e.config.apiKey,e.name)}function om(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=I(e.split("?"));t[0];return ji(t.slice(1).join("?"))}var sm,um,cm,lm=function(e,t){function n(){d(this,n),this._redirectPersistence=zd,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Yp,this._overrideRedirectResult=zp}return g(n,[{key:"_initialize",value:function(t){return(e=e||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new $v(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_openPopup",value:function(e){nf(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(e,n,r,i){return(t=t||et($e().mark((function e(t,n,r,i){var a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qv(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),jp.clear(),e.next=10,this._originValidation(t);case 10:return o=Zv(t,r,i),e.next=13,em(t,o);case 13:return e.next=15,Gv(t,o,n);case 15:return s=e.sent,e.next=18,Hv(s);case 18:return u=e.sent,e.abrupt("return",Wv(t,a,u));case 20:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return(jv=jv||et($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kv(),r=n.BuildInfo,i={},ih()?i.iosBundleId=r.packageName:th()?i.androidPackageName=r.packageName:nf(t,"operation-not-supported-in-this-environment"),e.next=5,ev(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n,r,i=Kv(),a=i.universalLinks,o=i.handleOpenURL,s=i.BuildInfo,u=setTimeout(et($e().mark((function n(){return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tm(e);case 2:t.onEvent(hm());case 3:case"end":return n.stop()}}),n)}))),500),c=function(r){return(n=n||et($e().mark((function n(r){var i,a;return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(u),n.next=3,tm(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=nm(i,r.url)),t.onEvent(a||hm());case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)};"undefined"!==typeof a&&"function"===typeof a.subscribe&&a.subscribe(null,c);var l=o,f="".concat(s.packageName.toLowerCase(),"://");Kv().handleOpenURL=function(e){return(r=r||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(f)&&c({url:t}),"function"===typeof l)try{l(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]),n}(),fm=lm;function hm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rf("no-auth-event")}}function dm(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function pm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai();return!("file:"!==dm()&&"ionic:"!==dm()&&"capacitor:"!==dm()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function vm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai();return Ei()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ai();return/Edge\/\d+/.test(e)}(e)}function mm(){try{var e=self.localStorage,t=Gd();if(e)return e.setItem(t,"1"),e.removeItem(t),!vm()||Ti()}catch(n){return gm()&&Ti()}return!1}function gm(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ym(){return("http:"===dm()||"https:"===dm()||Si()||pm())&&!(Ii()||_i())&&mm()&&!gm()}function km(){return pm()&&"undefined"!==typeof document}function bm(){return(sm=sm||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(km()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wm={LOCAL:"local",NONE:"none",SESSION:"session"},xm=uf,Am="persistence";function _m(e,t){xm(Object.values(wm).includes(t),e,"invalid-persistence-type"),Ii()?xm(t!==wm.SESSION,e,"unsupported-persistence-type"):_i()?xm(t===wm.NONE,e,"unsupported-persistence-type"):gm()?xm(t===wm.NONE||t===wm.LOCAL&&Ti(),e,"unsupported-persistence-type"):xm(t===wm.NONE||mm(),e,"unsupported-persistence-type")}function Sm(e){return(um=um||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Im(),r=Qf(Am,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Im(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Em=uf,Tm=function(e,t,n,r){function i(){d(this,i),this.browserResolver=Gf(Sv),this.cordovaResolver=Gf(fm),this.underlyingResolver=null,this._redirectPersistence=zd,this._completeRedirectFn=Yp,this._overrideRedirectResult=zp}return g(i,[{key:"_initialize",value:function(t){return(e=e||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_openPopup",value:function(e,n,r,i){return(t=t||et($e().mark((function e(t,n,r,i){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_openRedirect",value:function(e,t,r,i){return(n=n||et($e().mark((function e(t,n,r,i){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return km()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Em(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){return(r=r||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,bm();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),i}();function Cm(e){return e.unwrap()}function Nm(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Dm(e,function(e,t){var n,r=Qi(e),i=t;return uf(t.customData.operationType,r,"argument-error"),uf(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Nd._fromError(r,i)}(e,t));else if(r){var i=Pm(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Pm(e){var t=(e instanceof Ni?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ni)&&"temporaryProof"in t&&"phoneNumber"in t)return Ip.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ul.PASSWORD)return null;switch(r){case Ul.GOOGLE:n=Kh;break;case Ul.FACEBOOK:n=qh;break;case Ul.GITHUB:n=Gh;break;case Ul.TWITTER:n=Qh;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Hh._create(r,s):Dh._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new zh(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Ni?n.credentialFromError(e):n.credentialFromResult(e)}function Rm(e,t){return t.catch((function(t){throw t instanceof Ni&&Nm(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Pm(t)),additionalUserInfo:Td(e),user:Lm.getOrCreate(r)}}))}function Om(e,t){return(cm=cm||et($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Rm(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dm=function(){function e(t,n){d(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Rm(Cm(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Lm=function(e,t,n,r,i,a,o){function s(e){d(this,s),this._delegate=e,this.multiFactor=function(e){var t=Qi(e);return Fd.has(t)||Fd.set(t,Ld._fromUser(t)),Fd.get(t)}(e)}return g(s,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(t){return(e=e||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rm(this.auth,sd(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"linkWithPhoneNumber",value:function(e,n){return(t=t||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Om(this.auth,_p(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"linkWithPopup",value:function(e){return(n=n||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rm(this.auth,Lp(this._delegate,t,Tm)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"linkWithRedirect",value:function(e){return(r=r||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sm(fh(this.auth));case 2:return e.abrupt("return",Wp(this._delegate,t,Tm));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(e){return(i=i||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rm(this.auth,ud(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Om(this.auth,function(e,t,n){return(kl=kl||et($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qi(t),e.next=3,Sp(i.auth,n,Qi(r));case 3:return a=e.sent,e.abrupt("return",new Ap(a,(function(e){return ud(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Rm(this.auth,function(e,t,n){return(_l=_l||et($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return of((i=Qi(t)).auth,n,Vh),a=Ep(i.auth,r),o=new Fp(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,Tm))}},{key:"reauthenticateWithRedirect",value:function(e){return(a=a||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sm(fh(this.auth));case 2:return e.abrupt("return",Hp(this._delegate,t,Tm));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"sendEmailVerification",value:function(e){return function(e,t){return(cl=cl||et($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qi(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&dd(r.auth,a,n),e.next=8,Ih(r.auth,a);case 8:if(e.sent.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(e){return(o=o||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,td(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateEmail",value:function(e){return function(e,t){return wd(Qi(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return wd(Qi(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return(wl=wl||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nd(Qi(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return(hl=hl||et($e().mark((function e(t,n){var r,i,a,o,s,u,c;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Qi(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Df(a,bd(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return(ll=ll||et($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qi(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&dd(i.auth,o,r),e.next=8,Ch(i.auth,o);case 8:if(e.sent.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(e){return s.USER_MAP.has(e)||s.USER_MAP.set(e,new s(e)),s.USER_MAP.get(e)}}]),s}();Lm.USER_MAP=new WeakMap;var Fm=uf,Mm=function(e,t,n,r,i){function a(e,t){if(d(this,a),this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();var n=e.options.apiKey;Fm(n,"invalid-api-key",{appName:e.name}),Fm(n,"invalid-api-key",{appName:e.name});var r="undefined"!==typeof window?Tm:void 0;this._delegate=t.initialize({options:{persistence:Um(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Xl),this.linkUnderlyingAuth()}return g(a,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Lm.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){gh(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return(tl=tl||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ah(Qi(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return md(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return(el=el||et($e().mark((function e(t,n,r){var i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wh(Qi(t),{oobCode:n,newPassword:r}).catch((function(e){return(i=i||et($e().mark((function e(n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&pd(t),n;case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(t,n){return(e=e||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rm(this._delegate,gd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return(ul=ul||et($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hf()?ff():"http://localhost",i={identifier:n,continueUri:r},e.next=4,kd(Qi(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=jh.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){return(t=t||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fm(ym(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Qp(this._delegate,Tm);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Rm(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"addFrameworkForLogging",value:function(e){!function(e,t){fh(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=jm(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=jm(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return(al=al||et($e().mark((function e(t,n,r){var i,a,o,s,u,c;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){uf(t.handleCodeInApp,a,"argument-error"),t&&dd(a,e,t)},a=fh(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,mh(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,Th(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,Th(a,o).catch((function(e){return(c=c||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,mh(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,Th(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return vd(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(e){return(n=n||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_m(this._delegate,t),e.t0=t,e.next=e.t0===wm.SESSION?4:e.t0===wm.LOCAL?6:e.t0===wm.NONE?11:13;break;case 4:return n=zd,e.abrupt("break",14);case 6:return e.next=8,Gf(cp)._isAvailable();case 8:return r=e.sent,n=r?cp:Vd,e.abrupt("break",14);case 11:return n=Wf,e.abrupt("break",14);case 13:return e.abrupt("return",nf("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Rm(this._delegate,function(e){return(Bc=Bc||et($e().mark((function e(t){var n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fh(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Xh({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Yh(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Xh._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Rm(this._delegate,od(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Rm(this._delegate,function(e,t){return(Jc=Jc||et($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fh(t),e.next=3,cd(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Xh._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Rm(this._delegate,yd(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Rm(this._delegate,function(e,t,n){return(ol=ol||et($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qi(t),uf((a=Uh.credentialWithLink(n,r||ff()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",od(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Om(this._delegate,function(e,t,n){return(gl=gl||et($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fh(t),e.next=3,Sp(i,n,Qi(r));case 3:return a=e.sent,e.abrupt("return",new Ap(a,(function(e){return od(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(e){return(r=r||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fm(ym(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Rm(this._delegate,Dp(this._delegate,t,Tm)));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"signInWithRedirect",value:function(e){return(i=i||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fm(ym(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Sm(this._delegate);case 3:return e.abrupt("return",Gp(this._delegate,t,Tm));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return(rl=rl||et($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,md(Qi(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),a}();function jm(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Lm.getOrCreate(e))},error:t,complete:n}}function Um(e,t){var n=function(e,t){var n=Im();if(!n)return[];var r=Qf(Am,e,t);switch(n.getItem(r)){case wm.NONE:return[Wf];case wm.LOCAL:return[cp,zd];case wm.SESSION:return[zd];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(cp)||n.push(cp),"undefined"!==typeof window)for(var r=0,i=[Vd,zd];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Wf)||n.push(Wf),n}Mm.Persistence=wm;var Vm=function(){function e(){d(this,e),this.providerId="phone",this._delegate=new Ip(Cm(sc.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ip.credential(e,t)}}]),e}();Vm.PHONE_SIGN_IN_METHOD=Ip.PHONE_SIGN_IN_METHOD,Vm.PROVIDER_ID=Ip.PROVIDER_ID;var Bm,zm=uf,qm=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sc.app();d(this,e),zm(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new wp(i.auth(),t,n),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Bm=sc).INTERNAL.registerComponent(new Yi("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Mm(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vl,PASSWORD_RESET:Bl,RECOVER_EMAIL:zl,REVERT_SECOND_FACTOR_ADDITION:ql,VERIFY_AND_CHANGE_EMAIL:Kl,VERIFY_EMAIL:Gl}},EmailAuthProvider:Uh,FacebookAuthProvider:qh,GithubAuthProvider:Gh,GoogleAuthProvider:Kh,OAuthProvider:zh,SAMLAuthProvider:Wh,PhoneAuthProvider:Vm,PhoneMultiFactorGenerator:Tv,RecaptchaVerifier:qm,TwitterAuthProvider:Qh,Auth:Mm,AuthCredential:bh,Error:Ni}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Bm.registerVersion("@firebase/auth-compat","0.4.6");var Km,Gm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Hm={},Wm=Wm||{},Qm=Gm||self;function Ym(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Xm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Jm="closure_uid_"+(1e9*Math.random()>>>0),$m=0;function Zm(e,t,n){return e.call.apply(e.bind,arguments)}function eg(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function tg(e,t,n){return(tg=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zm:eg).apply(null,arguments)}function ng(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function rg(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ig(){this.s=this.s,this.o=this.o}ig.prototype.s=!1,ig.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Jm)&&e[Jm]||(e[Jm]=++$m))},ig.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ag=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function og(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function sg(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Ym(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function ug(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ug.prototype.h=function(){this.defaultPrevented=!0};var cg=function(){if(!Qm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Qm.addEventListener("test",(function(){}),t),Qm.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function lg(e){return/^[\s\xa0]*$/.test(e)}function fg(){var e=Qm.navigator;return e&&(e=e.userAgent)?e:""}function hg(e){return-1!=fg().indexOf(e)}function dg(e){return dg[" "](e),e}dg[" "]=function(){};var pg,vg,mg=hg("Opera"),gg=hg("Trident")||hg("MSIE"),yg=hg("Edge"),kg=yg||gg,bg=hg("Gecko")&&!(-1!=fg().toLowerCase().indexOf("webkit")&&!hg("Edge"))&&!(hg("Trident")||hg("MSIE"))&&!hg("Edge"),wg=-1!=fg().toLowerCase().indexOf("webkit")&&!hg("Edge");function xg(){var e=Qm.document;return e?e.documentMode:void 0}e:{var Ag="",_g=function(){var e=fg();return bg?/rv:([^\);]+)(\)|;)/.exec(e):yg?/Edge\/([\d\.]+)/.exec(e):gg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):wg?/WebKit\/(\S+)/.exec(e):mg?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(_g&&(Ag=_g?_g[1]:""),gg){var Sg=xg();if(null!=Sg&&Sg>parseFloat(Ag)){pg=String(Sg);break e}}pg=Ag}if(Qm.document&&gg){var Ig=xg();vg=Ig||(parseInt(pg,10)||void 0)}else vg=void 0;var Eg=vg;function Tg(e,t){if(ug.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(bg){e:{try{dg(t.nodeName);var i=!0;break e}catch(gn){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Cg[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Tg.$.h.call(this)}}rg(Tg,ug);var Cg={2:"touch",3:"pen",4:"mouse"};Tg.prototype.h=function(){Tg.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ng="closure_listenable_"+(1e6*Math.random()|0),Pg=0;function Rg(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Pg,this.fa=this.ia=!1}function Og(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Dg(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Lg(e){var t={};for(var n in e)t[n]=e[n];return t}var Fg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mg(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Fg.length;a++)n=Fg[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function jg(e){this.src=e,this.g={},this.h=0}function Ug(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ag(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Og(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Vg(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}jg.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Vg(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Rg(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Bg="closure_lm_"+(1e6*Math.random()|0),zg={};function qg(e,t,n,r,i){if(r&&r.once)return Gg(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)qg(e,t[a],n,r,i);return null}return n=$g(n),e&&e[Ng]?e.O(t,n,Xm(r)?!!r.capture:!!r,i):Kg(e,t,n,!1,r,i)}function Kg(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Xm(i)?!!i.capture:!!i,s=Xg(e);if(s||(e[Bg]=s=new jg(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Yg;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)cg||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Qg(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Gg(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Gg(e,t[a],n,r,i);return null}return n=$g(n),e&&e[Ng]?e.P(t,n,Xm(r)?!!r.capture:!!r,i):Kg(e,t,n,!0,r,i)}function Hg(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Hg(e,t[a],n,r,i);else r=Xm(r)?!!r.capture:!!r,n=$g(n),e&&e[Ng]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Vg(a=e.g[t],n,r,i))&&(Og(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Xg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Vg(t,n,r,i)),(n=-1<e?t[e]:null)&&Wg(n))}function Wg(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ng])Ug(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Qg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Xg(t))?(Ug(n,e),0==n.h&&(n.src=null,t[Bg]=null)):Og(e)}}}function Qg(e){return e in zg?zg[e]:zg[e]="on"+e}function Yg(e,t){if(e.fa)e=!0;else{t=new Tg(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Wg(e),e=n.call(r,t)}return e}function Xg(e){return(e=e[Bg])instanceof jg?e:null}var Jg="__closure_events_fn_"+(1e9*Math.random()>>>0);function $g(e){return"function"===typeof e?e:(e[Jg]||(e[Jg]=function(t){return e.handleEvent(t)}),e[Jg])}function Zg(){ig.call(this),this.i=new jg(this),this.S=this,this.J=null}function ey(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ug(t,e);else if(t instanceof ug)t.target=t.target||e;else{var i=t;Mg(t=new ug(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ty(o,r,!0,t)&&i}if(i=ty(o=t.g=e,r,!0,t)&&i,i=ty(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ty(o=t.g=n[a],r,!1,t)&&i}function ty(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Ug(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}rg(Zg,ig),Zg.prototype[Ng]=!0,Zg.prototype.removeEventListener=function(e,t,n,r){Hg(this,e,t,n,r)},Zg.prototype.N=function(){if(Zg.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Og(n[r]);delete t.g[e],t.h--}}this.J=null},Zg.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Zg.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ny=Qm.JSON.stringify,ry=function(){function e(t,n){d(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function iy(){var e=hy,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ay=function(){function e(){d(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=oy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),oy=new ry((function(){return new sy}),(function(e){return e.reset()})),sy=function(){function e(){d(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function uy(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function cy(e){Qm.setTimeout((function(){throw e}),0)}var ly,fy=!1,hy=new ay,dy=function(){var e=Qm.Promise.resolve(void 0);ly=function(){e.then(py)}},py=function(){for(var e;e=iy();){try{e.h.call(e.g)}catch(n){cy(n)}var t=oy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}fy=!1};function vy(e,t){Zg.call(this),this.h=e||1,this.g=t||Qm,this.j=tg(this.qb,this),this.l=Date.now()}function my(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function gy(e,t,n){if("function"===typeof e)n&&(e=tg(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=tg(e.handleEvent,e)}return 2147483647<Number(t)?-1:Qm.setTimeout(e,t||0)}function yy(e){e.g=gy((function(){e.g=null,e.i&&(e.i=!1,yy(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}rg(vy,Zg),(Km=vy.prototype).ga=!1,Km.T=null,Km.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ey(this,"tick"),this.ga&&(my(this),this.start()))}},Km.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Km.N=function(){vy.$.N.call(this),my(this),delete this.g};var ky=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:yy(this)}},{key:"N",value:function(){jl(b(n.prototype),"N",this).call(this),this.g&&(Qm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ig);function by(e){ig.call(this),this.h=e,this.g={}}rg(by,ig);var wy=[];function xy(e,t,n,r){Array.isArray(n)||(n&&(wy[0]=n.toString()),n=wy);for(var i=0;i<n.length;i++){var a=qg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ay(e){Dg(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Wg(e)}),e),e.g={}}function _y(){this.g=!0}function Sy(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ny(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}by.prototype.N=function(){by.$.N.call(this),Ay(this)},by.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_y.prototype.Ea=function(){this.g=!1},_y.prototype.info=function(){};var Iy={},Ey=null;function Ty(){return Ey=Ey||new Zg}function Cy(e){ug.call(this,Iy.Ta,e)}function Ny(e){var t=Ty();ey(t,new Cy(t))}function Py(e,t){ug.call(this,Iy.STAT_EVENT,e),this.stat=t}function Ry(e){var t=Ty();ey(t,new Py(t,e))}function Oy(e,t){ug.call(this,Iy.Ua,e),this.size=t}function Dy(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Qm.setTimeout((function(){e()}),t)}Iy.Ta="serverreachability",rg(Cy,ug),Iy.STAT_EVENT="statevent",rg(Py,ug),Iy.Ua="timingevent",rg(Oy,ug);var Ly={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Fy={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function My(){}function jy(e){return e.h||(e.h=e.i())}function Uy(){}My.prototype.h=null;var Vy,By={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zy(){ug.call(this,"d")}function qy(){ug.call(this,"c")}function Ky(){}function Gy(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new by(this),this.P=Wy,e=kg?125:void 0,this.V=new vy(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Hy}function Hy(){this.i=null,this.g="",this.h=!1}rg(zy,ug),rg(qy,ug),rg(Ky,My),Ky.prototype.g=function(){return new XMLHttpRequest},Ky.prototype.i=function(){return{}},Vy=new Ky;var Wy=45e3,Qy={},Yy={};function Xy(e,t,n){e.L=1,e.v=vk(lk(t)),e.s=n,e.S=!0,Jy(e,null)}function Jy(e,t){e.G=Date.now(),tk(e),e.A=lk(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Tk(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Hy,e.g=Cb(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ky(tg(e.Pa,e,e.g),e.O)),xy(e.U,e.g,"readystatechange",e.nb),t=e.I?Lg(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ny(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function $y(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Zy(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=ek(e,n))==Yy){4==t&&(e.o=4,Ry(14),i=!1),Sy(e.j,e.m,null,"[Incomplete Response]");break}if(r==Qy){e.o=4,Ry(15),Sy(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Sy(e.j,e.m,r,null),ok(e,r)}$y(e)&&r!=Yy&&r!=Qy&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ry(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),wb(t),t.M=!0,Ry(11))):(Sy(e.j,e.m,n,"[Invalid Chunked Response]"),ak(e),ik(e))}function ek(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Yy:(n=Number(t.substring(n,r)),isNaN(n)?Qy:(r+=1)+n>t.length?Yy:(t=t.slice(r,r+n),e.C=r+n,t))}function tk(e){e.Y=Date.now()+e.P,nk(e,e.P)}function nk(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Dy(tg(e.lb,e),t)}function rk(e){e.B&&(Qm.clearTimeout(e.B),e.B=null)}function ik(e){0==e.l.H||e.J||_b(e.l,e)}function ak(e){rk(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,my(e.V),Ay(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ok(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Lk(n.i,e)))if(!e.K&&Lk(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ab(n),db(n)}bb(n),Ry(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Dy(tg(n.ib,n),6e3));if(1>=Dk(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Ib(n,11)}else if((e.K||n.g==e)&&Ab(n),!lg(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Fk(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,pk(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Tb(r,r.J?r.pa:null,r.Y),d.K){Mk(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(rk(p),tk(p)),r.g=d}else kb(r);0<n.j.length&&vb(n)}else"stop"!=a[0]&&"close"!=a[0]||Ib(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ib(n,7):hb(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Ny()}catch(a){}}function sk(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ym(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ym(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ym(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Km=Gy.prototype).setTimeout=function(e){this.P=e},Km.nb=function(e){e=e.target;var t=this.M;t&&3==ob(e)?t.l():this.Pa(e)},Km.Pa=function(e){try{if(e==this.g)e:{var t=ob(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||kg||this.g&&(this.h.h||this.g.ja()||sb(this.g)))){this.J||4!=t||7==n||Ny(),rk(this);var r=this.g.da();this.ca=r;t:if($y(this)){var i=sb(this.g);e="";var a=i.length,o=4==ob(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ak(this),ik(this);var s="";break t}this.h.i=new Qm.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lg(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Ry(12),ak(this),ik(this);break e}Sy(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ok(this,r)}this.S?(Zy(this,t,s),kg&&this.i&&3==t&&(xy(this.U,this.V,"tick",this.mb),this.V.start())):(Sy(this.j,this.m,s,null),ok(this,s)),4==t&&ak(this),this.i&&!this.J&&(4==t?_b(this.l,this):(this.i=!1,tk(this)))}else(function(e){var t={};e=(e.g&&2<=ob(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!lg(e[n])){var r=uy(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Ry(12)):(this.o=0,Ry(13)),ak(this),ik(this)}}}catch(t){}},Km.mb=function(){if(this.g){var e=ob(this.g),t=this.g.ja();this.C<t.length&&(rk(this),Zy(this,e,t),this.i&&4!=e&&tk(this))}},Km.cancel=function(){this.J=!0,ak(this)},Km.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Ny(),Ry(17)),ak(this),this.o=2,ik(this)):nk(this,this.Y-e)};var uk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ck(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ck){this.h=e.h,fk(this,e.j),this.s=e.s,this.g=e.g,hk(this,e.m),this.l=e.l;var t=e.i,n=new _k;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),dk(this,n),this.o=e.o}else e&&(t=String(e).match(uk))?(this.h=!1,fk(this,t[1]||"",!0),this.s=mk(t[2]||""),this.g=mk(t[3]||"",!0),hk(this,t[4]),this.l=mk(t[5]||"",!0),dk(this,t[6]||"",!0),this.o=mk(t[7]||"")):(this.h=!1,this.i=new _k(null,this.h))}function lk(e){return new ck(e)}function fk(e,t,n){e.j=n?mk(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function hk(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function dk(e,t,n){t instanceof _k?(e.i=t,function(e,t){t&&!e.j&&(Sk(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ik(this,t),Tk(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=gk(t,xk)),e.i=new _k(t,e.h))}function pk(e,t,n){e.i.set(t,n)}function vk(e){return pk(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function mk(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function gk(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,yk),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yk(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ck.prototype.toString=function(){var e=[],t=this.j;t&&e.push(gk(t,kk,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(gk(t,kk,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(gk(n,"/"==n.charAt(0)?wk:bk,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",gk(n,Ak)),e.join("")};var kk=/[#\/\?@]/g,bk=/[#\?:]/g,wk=/[#\?]/g,xk=/[#\?@]/g,Ak=/#/g;function _k(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Sk(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ik(e,t){Sk(e),t=Ck(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ek(e,t){return Sk(e),t=Ck(e,t),e.g.has(t)}function Tk(e,t,n){Ik(e,t),0<n.length&&(e.i=null,e.g.set(Ck(e,t),og(n)),e.h+=n.length)}function Ck(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Km=_k.prototype).add=function(e,t){Sk(this),this.i=null,e=Ck(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Km.forEach=function(e,t){Sk(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Km.ta=function(){Sk(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Km.Z=function(e){Sk(this);var t=[];if("string"===typeof e)Ek(this,e)&&(t=t.concat(this.g.get(Ck(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Km.set=function(e,t){return Sk(this),this.i=null,Ek(this,e=Ck(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Km.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Km.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Nk=g((function e(t,n){d(this,e),this.g=t,this.map=n}));function Pk(e){this.l=e||Rk,Qm.PerformanceNavigationTiming?e=0<(e=Qm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Qm.g&&Qm.g.Ka&&Qm.g.Ka()&&Qm.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Rk=10;function Ok(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Dk(e){return e.h?1:e.g?e.g.size:0}function Lk(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Fk(e,t){e.g?e.g.add(t):e.h=t}function Mk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function jk(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=E(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return og(e.i)}Pk.prototype.cancel=function(){if(this.i=jk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=E(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Uk,Vk=function(){function e(){d(this,e)}return g(e,[{key:"stringify",value:function(e){return Qm.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Qm.JSON.parse(e,void 0)}}]),e}();function Bk(){this.g=new Vk}function zk(e,t,n){var r=n||"";try{sk(e,(function(e,n){var i=e;Xm(e)&&(i=ny(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function qk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(gn){}}function Kk(e){this.l=e.ec||null,this.j=e.ob||!1}function Gk(e,t){Zg.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Hk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rg(Kk,My),Kk.prototype.g=function(){return new Gk(this.l,this.j)},Kk.prototype.i=(Uk={},function(){return Uk}),rg(Gk,Zg);var Hk=0;function Wk(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Qk(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Yk(e)}function Yk(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Km=Gk.prototype).open=function(e,t){if(this.readyState!=Hk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Yk(this)},Km.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Qm).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Km.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qk(this)),this.readyState=Hk},Km.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Yk(this)),this.g&&(this.readyState=3,Yk(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Qm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wk(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Km.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Qk(this):Yk(this),3==this.readyState&&Wk(this)}},Km.Za=function(e){this.g&&(this.response=this.responseText=e,Qk(this))},Km.Ya=function(e){this.g&&(this.response=e,Qk(this))},Km.ka=function(){this.g&&Qk(this)},Km.setRequestHeader=function(e,t){this.v.append(e,t)},Km.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Km.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Gk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Xk=Qm.JSON.parse;function Jk(e){Zg.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$k,this.L=this.M=!1}rg(Jk,Zg);var $k="",Zk=/^https?$/i,eb=["POST","PUT"];function tb(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,nb(e),ib(e)}function nb(e){e.F||(e.F=!0,ey(e,"complete"),ey(e,"error"))}function rb(e){if(e.h&&"undefined"!=typeof Wm&&(!e.C[1]||4!=ob(e)||2!=e.da()))if(e.v&&4==ob(e))gy(e.La,0,e);else if(ey(e,"readystatechange"),4==ob(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(uk)[1]||null;!a&&Qm.self&&Qm.self.location&&(a=Qm.self.location.protocol.slice(0,-1)),i=!Zk.test(a?a.toLowerCase():"")}t=i}if(t)ey(e,"complete"),ey(e,"success");else{e.m=6;try{var o=2<ob(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",nb(e)}}finally{ib(e)}}}function ib(e,t){if(e.g){ab(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||ey(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function ab(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Qm.clearTimeout(e.A),e.A=null)}function ob(e){return e.g?e.g.readyState:0}function sb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case $k:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ub(e){var t="";return Dg(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function cb(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ub(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):pk(e,t,n))}function lb(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function fb(e){this.Ga=0,this.j=[],this.l=new _y,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lb("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lb("baseRetryDelayMs",5e3,e),this.hb=lb("retryDelaySeedMs",1e4,e),this.eb=lb("forwardChannelMaxRetries",2,e),this.xa=lb("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Pk(e&&e.concurrentRequestLimit),this.Ja=new Bk,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function hb(e){if(pb(e),3==e.H){var t=e.W++,n=lk(e.I);if(pk(n,"SID",e.K),pk(n,"RID",t),pk(n,"TYPE","terminate"),gb(e,n),(t=new Gy(e,e.l,t)).L=2,t.v=vk(lk(n)),n=!1,Qm.navigator&&Qm.navigator.sendBeacon)try{n=Qm.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Qm.Image&&((new Image).src=t.v,n=!0),n||(t.g=Cb(t.l,null),t.g.ha(t.v)),t.G=Date.now(),tk(t)}Eb(e)}function db(e){e.g&&(wb(e),e.g.cancel(),e.g=null)}function pb(e){db(e),e.u&&(Qm.clearTimeout(e.u),e.u=null),Ab(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Qm.clearTimeout(e.m),e.m=null)}function vb(e){if(!Ok(e.i)&&!e.m){e.m=!0;var t=e.Na;ly||dy(),fy||(ly(),fy=!0),hy.add(t,e),e.C=0}}function mb(e,t){var n;n=t?t.m:e.W++;var r=lk(e.I);pk(r,"SID",e.K),pk(r,"RID",n),pk(r,"AID",e.V),gb(e,r),e.o&&e.s&&cb(r,e.o,e.s),n=new Gy(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=yb(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Fk(e.i,n),Xy(n,r,t)}function gb(e,t){e.na&&Dg(e.na,(function(e,n){pk(t,n,e)})),e.h&&sk({},(function(e,n){pk(t,n,e)}))}function yb(e,t,n){n=Math.min(e.j.length,n);var r=e.h?tg(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{zk(l,o,"req"+c+"_")}catch(Un){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function kb(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ly||dy(),fy||(ly(),fy=!0),hy.add(t,e),e.A=0}}function bb(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Dy(tg(e.Ma,e),Sb(e,e.A)),e.A++,!0)}function wb(e){null!=e.B&&(Qm.clearTimeout(e.B),e.B=null)}function xb(e){e.g=new Gy(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=lk(e.wa);pk(t,"RID","rpc"),pk(t,"SID",e.K),pk(t,"AID",e.V),pk(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&pk(t,"TO",e.qa),pk(t,"TYPE","xmlhttp"),gb(e,t),e.o&&e.s&&cb(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=vk(lk(t)),n.s=null,n.S=!0,Jy(n,e)}function Ab(e){null!=e.v&&(Qm.clearTimeout(e.v),e.v=null)}function _b(e,t){var n=null;if(e.g==t){Ab(e),wb(e),e.g=null;var r=2}else{if(!Lk(e.i,t))return;n=t.F,Mk(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ey(r=Ty(),new Oy(r,n)),vb(e)}else kb(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Dk(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Dy(tg(e.Na,e,t),Sb(e,e.C)),e.C++,!0))}(e,t)||2==r&&bb(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ib(e,5);break;case 4:Ib(e,10);break;case 3:Ib(e,6);break;default:Ib(e,2)}}function Sb(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ib(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=tg(e.pb,e);n||(n=new ck("//www.google.com/images/cleardot.gif"),Qm.location&&"http"==Qm.location.protocol||fk(n,"https"),vk(n)),function(e,t){var n=new _y;if(Qm.Image){var r=new Image;r.onload=ng(qk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ng(qk,n,r,"TestLoadImage: error",!1,t),r.onabort=ng(qk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ng(qk,n,r,"TestLoadImage: timeout",!1,t),Qm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ry(2);e.H=0,e.h&&e.h.za(t),Eb(e),pb(e)}function Eb(e){if(e.H=0,e.ma=[],e.h){var t=jk(e.i);0==t.length&&0==e.j.length||(sg(e.ma,t),sg(e.ma,e.j),e.i.i.length=0,og(e.j),e.j.length=0),e.h.ya()}}function Tb(e,t,n){var r=n instanceof ck?lk(n):new ck(n);if(""!=r.g)t&&(r.g=t+"."+r.g),hk(r,r.m);else{var i=Qm.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ck(null);r&&fk(a,r),t&&(a.g=t),i&&hk(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&pk(r,n,t),pk(r,"VER",e.ra),gb(e,r),r}function Cb(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Jk(new Kk({ob:!0})):new Jk(e.va)).Oa(e.J),t}function Nb(){}function Pb(){if(gg&&!(10<=Number(Eg)))throw Error("Environmental error: no available transport.")}function Rb(e,t){Zg.call(this),this.g=new fb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!lg(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!lg(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Lb(this)}function Ob(e){zy.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Db(){qy.call(this),this.status=1}function Lb(e){this.g=e}function Fb(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Mb(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function jb(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Km=Jk.prototype).Oa=function(e){this.M=e},Km.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vy.g(),this.C=this.u?jy(this.u):jy(Vy),this.g.onreadystatechange=tg(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void tb(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=E(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Qm.FormData&&e instanceof Qm.FormData,!(0<=ag(eb,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=E(n);try{for(c.s();!(u=c.n()).done;){var f=l(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ab(this),0<this.B&&((this.L=function(e){return gg&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tg(this.ua,this)):this.A=gy(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){tb(this,s)}},Km.ua=function(){"undefined"!=typeof Wm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ey(this,"timeout"),this.abort(8))},Km.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ey(this,"complete"),ey(this,"abort"),ib(this))},Km.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ib(this,!0)),Jk.$.N.call(this)},Km.La=function(){this.s||(this.G||this.v||this.l?rb(this):this.kb())},Km.kb=function(){rb(this)},Km.isActive=function(){return!!this.g},Km.da=function(){try{return 2<ob(this)?this.g.status:-1}catch(Uk){return-1}},Km.ja=function(){try{return this.g?this.g.responseText:""}catch(Uk){return""}},Km.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Xk(t)}},Km.Ia=function(){return this.m},Km.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Km=fb.prototype).ra=8,Km.H=1,Km.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Gy(this,this.l,e),n=this.s;if(this.U&&(n?Mg(n=Lg(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=yb(this,t,r),pk(i=lk(this.I),"RID",e),pk(i,"CVER",22),this.F&&pk(i,"X-HTTP-Session-Id",this.F),gb(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(ub(n)))+"&"+r:this.o&&cb(i,this.o,n)),Fk(this.i,t),this.bb&&pk(i,"TYPE","init"),this.P?(pk(i,"$req",r),pk(i,"SID","null"),t.aa=!0,Xy(t,i,null)):Xy(t,i,r),this.H=2}}else 3==this.H&&(e?mb(this,e):0==this.j.length||Ok(this.i)||mb(this))},Km.Ma=function(){if(this.u=null,xb(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Dy(tg(this.jb,this),e)}},Km.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ry(10),db(this),xb(this))},Km.ib=function(){null!=this.v&&(this.v=null,db(this),bb(this),Ry(19))},Km.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ry(2)):(this.l.info("Failed to ping google.com"),Ry(1))},Km.isActive=function(){return!!this.h&&this.h.isActive(this)},(Km=Nb.prototype).Ba=function(){},Km.Aa=function(){},Km.za=function(){},Km.ya=function(){},Km.isActive=function(){return!0},Km.Va=function(){},Pb.prototype.g=function(e,t){return new Rb(e,t)},rg(Rb,Zg),Rb.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ry(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Tb(e,null,e.Y),vb(e)},Rb.prototype.close=function(){hb(this.g)},Rb.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ny(e),e=n);t.j.push(new Nk(t.fb++,e)),3==t.H&&vb(t)},Rb.prototype.N=function(){this.g.h=null,delete this.j,hb(this.g),delete this.g,Rb.$.N.call(this)},rg(Ob,zy),rg(Db,qy),rg(Lb,Nb),Lb.prototype.Ba=function(){ey(this.g,"a")},Lb.prototype.Aa=function(e){ey(this.g,new Ob(e))},Lb.prototype.za=function(e){ey(this.g,new Db)},Lb.prototype.ya=function(){ey(this.g,"b")},rg(Fb,(function(){this.blockSize=-1})),Fb.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Fb.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Mb(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Mb(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Mb(this,r),i=0;break}}this.h=i,this.i+=t},Fb.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ub={};function Vb(e){return-128<=e&&128>e?function(e,t){var n=Ub;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new jb([0|e],0>e?-1:0)})):new jb([0|e],0>e?-1:0)}function Bb(e){if(isNaN(e)||!isFinite(e))return qb;if(0>e)return Qb(Bb(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=zb;return new jb(t,0)}var zb=4294967296,qb=Vb(0),Kb=Vb(1),Gb=Vb(16777216);function Hb(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Wb(e){return-1==e.h}function Qb(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new jb(n,~e.h).add(Kb)}function Yb(e,t){return e.add(Qb(t))}function Xb(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Jb(e,t){this.g=e,this.h=t}function $b(e,t){if(Hb(t))throw Error("division by zero");if(Hb(e))return new Jb(qb,qb);if(Wb(e))return t=$b(Qb(e),t),new Jb(Qb(t.g),Qb(t.h));if(Wb(t))return t=$b(e,Qb(t)),new Jb(Qb(t.g),t.h);if(30<e.g.length){if(Wb(e)||Wb(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Kb,r=t;0>=r.X(e);)n=Zb(n),r=Zb(r);var i=ew(n,1),a=ew(r,1);for(r=ew(r,2),n=ew(n,2);!Hb(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=ew(r,1),n=ew(n,1)}return t=Yb(e,i.R(t)),new Jb(i,t)}for(i=qb;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Bb(n)).R(t);Wb(o)||0<o.X(e);)o=(a=Bb(n-=r)).R(t);Hb(a)&&(a=Kb),i=i.add(a),e=Yb(e,o)}return new Jb(i,e)}function Zb(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new jb(n,e.h)}function ew(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new jb(i,e.h)}(Km=jb.prototype).ea=function(){if(Wb(this))return-Qb(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:zb+r)*t,t*=zb}return e},Km.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Hb(this))return"0";if(Wb(this))return"-"+Qb(this).toString(e);for(var t=Bb(Math.pow(e,6)),n=this,r="";;){var i=$b(n,t).g,a=((0<(n=Yb(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Hb(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Km.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Km.X=function(e){return Wb(e=Yb(this,e))?-1:Hb(e)?0:1},Km.abs=function(){return Wb(this)?Qb(this):this},Km.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new jb(n,-2147483648&n[n.length-1]?-1:0)},Km.R=function(e){if(Hb(this)||Hb(e))return qb;if(Wb(this))return Wb(e)?Qb(this).R(Qb(e)):Qb(Qb(this).R(e));if(Wb(e))return Qb(this.R(Qb(e)));if(0>this.X(Gb)&&0>e.X(Gb))return Bb(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Xb(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Xb(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Xb(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Xb(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new jb(n,0)},Km.gb=function(e){return $b(this,e).h},Km.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new jb(n,this.h&e.h)},Km.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new jb(n,this.h|e.h)},Km.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new jb(n,this.h^e.h)},Pb.prototype.createWebChannel=Pb.prototype.g,Rb.prototype.send=Rb.prototype.u,Rb.prototype.open=Rb.prototype.m,Rb.prototype.close=Rb.prototype.close,Ly.NO_ERROR=0,Ly.TIMEOUT=8,Ly.HTTP_ERROR=6,Fy.COMPLETE="complete",Uy.EventType=By,By.OPEN="a",By.CLOSE="b",By.ERROR="c",By.MESSAGE="d",Zg.prototype.listen=Zg.prototype.O,Jk.prototype.listenOnce=Jk.prototype.P,Jk.prototype.getLastError=Jk.prototype.Sa,Jk.prototype.getLastErrorCode=Jk.prototype.Ia,Jk.prototype.getStatus=Jk.prototype.da,Jk.prototype.getResponseJson=Jk.prototype.Wa,Jk.prototype.getResponseText=Jk.prototype.ja,Jk.prototype.send=Jk.prototype.ha,Jk.prototype.setWithCredentials=Jk.prototype.Oa,Fb.prototype.digest=Fb.prototype.l,Fb.prototype.reset=Fb.prototype.reset,Fb.prototype.update=Fb.prototype.j,jb.prototype.add=jb.prototype.add,jb.prototype.multiply=jb.prototype.R,jb.prototype.modulo=jb.prototype.gb,jb.prototype.compare=jb.prototype.X,jb.prototype.toNumber=jb.prototype.ea,jb.prototype.toString=jb.prototype.toString,jb.prototype.getBits=jb.prototype.D,jb.fromNumber=Bb,jb.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Qb(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Bb(Math.pow(n,8)),i=qb,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Bb(Math.pow(n,o)),i=i.R(o).add(Bb(s))):i=(i=i.R(r)).add(Bb(s))}return i};var tw,nw,rw,iw,aw,ow,sw,uw,cw,lw,fw,hw,dw,pw,vw,mw,gw,yw,kw,bw,ww,xw,Aw,_w,Sw,Iw,Ew,Tw,Cw,Nw,Pw,Rw,Ow,Dw,Lw,Fw,Mw,jw,Uw,Vw,Bw,zw,qw,Kw=Hm.createWebChannelTransport=function(){return new Pb},Gw=Hm.getStatEventTarget=function(){return Ty()},Hw=Hm.ErrorCode=Ly,Ww=Hm.EventType=Fy,Qw=Hm.Event=Iy,Yw=Hm.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xw=(Hm.FetchXmlHttpFactory=Kk,Hm.WebChannel=Uy),Jw=Hm.XhrIo=Jk,$w=Hm.Md5=Fb,Zw=Hm.Integer=jb,ex="@firebase/firestore",tx=function(){function e(t){d(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();tx.UNAUTHENTICATED=new tx(null),tx.GOOGLE_CREDENTIALS=new tx("google-credentials-uid"),tx.FIRST_PARTY=new tx("first-party-uid"),tx.MOCK_USER=new tx("mock-user");var nx="10.4.0",rx=new sa("@firebase/firestore");function ix(){return rx.logLevel}function ax(e){if(rx.logLevel<=ea.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ux);rx.debug.apply(rx,["Firestore (".concat(nx,"): ").concat(e)].concat(h(i)))}}function ox(e){if(rx.logLevel<=ea.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ux);rx.error.apply(rx,["Firestore (".concat(nx,"): ").concat(e)].concat(h(i)))}}function sx(e){if(rx.logLevel<=ea.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ux);rx.warn.apply(rx,["Firestore (".concat(nx,"): ").concat(e)].concat(h(i)))}}function ux(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function cx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(nx,") INTERNAL ASSERTION FAILED: ")+e;throw ox(t),new Error(t)}function lx(e,t){e||cx()}function fx(e,t){return e}var hx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},dx=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(Ni),px=g((function e(){var t=this;d(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),vx=g((function e(t,n){d(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),mx=function(){function e(){d(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tx.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),gx=function(){function e(t){d(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),yx=function(){function e(t){d(this,e),this.t=t,this.currentUser=tx.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new px;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new px,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){ax("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(ax("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new px)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ax("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(lx("string"==typeof n.accessToken),new vx(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return lx(null===e||"string"==typeof e),new tx(e)}}]),e}(),kx=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=tx.FIRST_PARTY,this.I=new Map}return g(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),bx=function(){function e(t,n,r){d(this,e),this.l=t,this.h=n,this.P=r}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new kx(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tx.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),wx=g((function e(t){d(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),xx=function(){function e(t){d(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ax("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,ax("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ax("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):ax("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(lx("string"==typeof t.token),e.R=t.token,new wx(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ax(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var _x=function(){function e(){d(this,e)}return g(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Ax(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Sx(e,t){return e<t?-1:e>t?1:0}function Ix(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ex(e){return e+"\0"}var Tx=function(){function e(t,n){if(d(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new dx(hx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dx(hx.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new dx(hx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dx(hx.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Sx(this.nanoseconds,e.nanoseconds):Sx(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Cx=function(){function e(t){d(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Tx(0,0))}},{key:"max",value:function(){return new e(new Tx(253402300799,999999999))}}]),e}(),Nx=function(){function e(t,n,r){d(this,e),void 0===n?n=0:n>t.length&&cx(),void 0===r?r=t.length-n:r>t.length-n&&cx(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Px=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new dx(hx.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,h(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Nx),Rx=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ox=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Rx.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new dx(hx.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new dx(hx.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new dx(hx.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new dx(hx.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Nx),Dx=function(){function e(t){d(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Px.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Px.fromString(t))}},{key:"fromName",value:function(t){return new e(Px.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Px.emptyPath())}},{key:"comparator",value:function(e,t){return Px.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Px(t.slice()))}}]),e}(),Lx=g((function e(t,n,r,i){d(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Fx(e){return e.fields.find((function(e){return 2===e.kind}))}function Mx(e){return e.fields.filter((function(e){return 2!==e.kind}))}Lx.UNKNOWN_ID=-1;var jx=g((function e(t,n){d(this,e),this.fieldPath=t,this.kind=n}));var Ux=function(){function e(t,n){d(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,zx.min())}}]),e}();function Vx(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Cx.fromTimestamp(1e9===r?new Tx(n+1,0):new Tx(n,r));return new zx(i,Dx.empty(),t)}function Bx(e){return new zx(e.readTime,e.key,-1)}var zx=function(){function e(t,n,r){d(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(Cx.min(),Dx.empty(),-1)}},{key:"max",value:function(){return new e(Cx.max(),Dx.empty(),-1)}}]),e}();function qx(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Dx.comparator(e.documentKey,t.documentKey))?n:Sx(e.largestBatchId,t.largestBatchId)}var Kx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gx=function(){function e(){d(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Hx(e){return(tw=tw||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===hx.FAILED_PRECONDITION&&t.message===Kx){e.next=2;break}throw t;case 2:ax("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wx=function(){function e(t){var n=this;d(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&cx(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=E(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Qx=function(){function e(t,n){var r=this;d(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new px,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new Jx(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=nA(e.target.error);r.m.reject(new Jx(t,n))}}return g(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(ax("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Zx(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Jx(n,t)}}}]),e}(),Yx=function(e,t){function n(e,t,r){d(this,n),this.name=e,this.version=t,this.S=r,12.2===n.D(Ai())&&ox("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(n,[{key:"N",value:function(t){return(e=e||et($e().mark((function e(t){var n=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ax("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Jx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new dx(hx.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new dx(hx.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Jx(t,n))},i.onupgradeneeded=function(e){ax("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){ax("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(e,n,r,i){return(t=t||et($e().mark((function e(t,n,r,i){var a,o,s,u,c=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=$e().mark((function e(){var n,s,u,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=Qx.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),Wx.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.g;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,ax("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if(!(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ax("SimpleDb","Removing database:",e),eA(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Ti())return!1;if(n.v())return!0;var e=Ai(),t=n.D(e),r=0<t&&t<10,i=n.F(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}},{key:"v",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/PeteCodepages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),n}(),Xx=function(){function e(t){d(this,e),this.q=t,this.K=!1,this.$=null}return g(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return eA(this.q.delete())}}]),e}(),Jx=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,hx.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(dx);function $x(e){return"IndexedDbTransactionError"===e.name}var Zx=function(){function e(t){d(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ax("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ax("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),eA(n)}},{key:"add",value:function(e){return ax("SimpleDb","ADD",this.store.name,e,e),eA(this.store.add(e))}},{key:"get",value:function(e){var t=this;return eA(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ax("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ax("SimpleDb","DELETE",this.store.name,e),eA(this.store.delete(e))}},{key:"count",value:function(){return ax("SimpleDb","COUNT",this.store.name),eA(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Wx((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Wx((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){ax("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new Wx((function(n,r){t.onerror=function(e){var t=nA(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new Wx((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Xx(i),o=t(i.primaryKey,i.value,a);if(o instanceof Wx){var s=o.catch((function(e){return a.done(),Wx.reject(e)}));n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Wx.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function eA(e){return new Wx((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=nA(e.target.error);n(t)}}))}var tA=!1;function nA(e){var t=Yx.D(Ai());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new dx("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return tA||(tA=!0,setTimeout((function(){throw r}),0)),r}}return e}var rA=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return g(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;ax("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=ax,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!$x(e.t4)){e.next=17;break}ax("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Hx(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),iA=function(e){function t(e,n){d(this,t),this.localStore=e,this.persistence=n}return g(t,[{key:"ne",value:function(){return(e=e||et($e().mark((function e(){var t,n=this,r=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Wx.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return ax("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return ax("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Bx(t);qx(r,n)>0&&(n=r)})),new zx(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),t}(),aA=function(){function e(t,n){var r=this;d(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function oA(e){return null==e}function sA(e){return 0===e&&1/e==-1/0}function uA(e){return"number"==typeof e&&Number.isInteger(e)&&!sA(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function cA(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=fA(t)),t=lA(e.get(n),t);return fA(t)}function lA(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function fA(e){return e+"\x01\x01"}function hA(e){var t=e.length;if(lx(t>=2),2===t)return lx("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Px.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&cx(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:cx()}a=o+2}return new Px(r)}aA.ae=-1;var dA=["userId","batchId"];function pA(e,t){return[e,cA(t)]}function vA(e,t,n){return[e,cA(t),n]}var mA={},gA=["prefixPath","collectionGroup","readTime","documentId"],yA=["prefixPath","collectionGroup","documentId"],kA=["collectionGroup","readTime","prefixPath","documentId"],bA=["canonicalId","targetId"],wA=["targetId","path"],xA=["path","targetId"],AA=["collectionId","parent"],_A=["indexId","uid"],SA=["uid","sequenceNumber"],IA=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],EA=["indexId","uid","orderedDocumentKey"],TA=["userId","collectionPath","documentId"],CA=["userId","collectionPath","largestBatchId"],NA=["userId","collectionGroup","largestBatchId"],PA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),RA=[].concat(h(PA),["documentOverlays"]),OA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DA=OA,LA=[].concat(DA,["indexConfiguration","indexState","indexEntries"]),FA=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return g(n)}(Gx);function MA(e,t){var n=fx(e);return Yx.O(n.ue,t)}function jA(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function UA(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function VA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var BA=function(){function e(t,n){d(this,e),this.comparator=t,this.root=n||qA.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qA.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qA.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new zA(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new zA(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new zA(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new zA(this.root,e,this.comparator,!0)}}]),e}(),zA=function(){function e(t,n,r,i){d(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),qA=function(){function e(t,n,r,i,a){d(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw cx();if(this.right.isRed())throw cx();var e=this.left.check();if(e!==this.right.check())throw cx();return e+(this.isRed()?0:1)}}]),e}();qA.EMPTY=null,qA.RED=!0,qA.BLACK=!1,qA.EMPTY=new(function(){function e(){d(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw cx()}},{key:"value",get:function(){throw cx()}},{key:"color",get:function(){throw cx()}},{key:"left",get:function(){throw cx()}},{key:"right",get:function(){throw cx()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new qA(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var KA=function(){function e(t){d(this,e),this.comparator=t,this.data=new BA(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new GA(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new GA(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),GA=function(){function e(t){d(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function HA(e){return e.hasNext()?e.getNext():void 0}var WA=function(){function e(t){d(this,e),this.fields=t,t.sort(Ox.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new KA(Ox.comparator),i=E(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=E(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=E(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ix(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),QA=function(e){k(n,e);var t=A(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return g(n)}(S(Error));var YA=function(e){function t(e){d(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return function(e){return btoa(e)}(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Sx(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new QA("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();YA.EMPTY_BYTE_STRING=new YA("");var XA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function JA(e){if(lx(!!e),"string"==typeof e){var t=0,n=XA.exec(e);if(lx(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:$A(e.seconds),nanos:$A(e.nanos)}}function $A(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ZA(e){return"string"==typeof e?YA.fromBase64String(e):YA.fromUint8Array(e)}function e_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function t_(e){var t=e.mapValue.fields.__previous_value__;return e_(t)?t_(t):t}function n_(e){var t=JA(e.mapValue.fields.__local_write_time__.timestampValue);return new Tx(t.seconds,t.nanos)}var r_=g((function e(t,n,r,i,a,o,s,u,c){d(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),i_=function(){function e(t,n){d(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),a_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},o_={nullValue:"NULL_VALUE"};function s_(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?e_(e)?4:w_(e)?9007199254740991:10:cx()}function u_(e,t){if(e===t)return!0;var n=s_(e);if(n!==s_(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return n_(e).isEqual(n_(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=JA(e.timestampValue),r=JA(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ZA(e.bytesValue).isEqual(ZA(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return $A(e.geoPointValue.latitude)===$A(t.geoPointValue.latitude)&&$A(e.geoPointValue.longitude)===$A(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return $A(e.integerValue)===$A(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=$A(e.doubleValue),r=$A(t.doubleValue);return n===r?sA(n)===sA(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ix(e.arrayValue.values||[],t.arrayValue.values||[],u_);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(jA(n)!==jA(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!u_(n[i],r[i])))return!1;return!0}(e,t);default:return cx()}}function c_(e,t){return void 0!==(e.values||[]).find((function(e){return u_(e,t)}))}function l_(e,t){if(e===t)return 0;var n=s_(e),r=s_(t);if(n!==r)return Sx(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Sx(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=$A(e.integerValue||e.doubleValue),r=$A(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return f_(e.timestampValue,t.timestampValue);case 4:return f_(n_(e),n_(t));case 5:return Sx(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ZA(e),r=ZA(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Sx(n[i],r[i]);if(0!==a)return a}return Sx(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Sx($A(e.latitude),$A(t.latitude));return 0!==n?n:Sx($A(e.longitude),$A(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=l_(n[i],r[i]);if(a)return a}return Sx(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===a_.mapValue&&t===a_.mapValue)return 0;if(e===a_.mapValue)return 1;if(t===a_.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Sx(r[o],a[o]);if(0!==s)return s;var u=l_(n[r[o]],i[a[o]]);if(0!==u)return u}return Sx(r.length,a.length)}(e.mapValue,t.mapValue);default:throw cx()}}function f_(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Sx(e,t);var n=JA(e),r=JA(t),i=Sx(n.seconds,r.seconds);return 0!==i?i:Sx(n.nanos,r.nanos)}function h_(e){return d_(e)}function d_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=JA(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ZA(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Dx.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=E(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=d_(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=E(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(d_(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):cx()}function p_(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function v_(e){return!!e&&"integerValue"in e}function m_(e){return!!e&&"arrayValue"in e}function g_(e){return!!e&&"nullValue"in e}function y_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function k_(e){return!!e&&"mapValue"in e}function b_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return UA(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=b_(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=b_(e.arrayValue.values[r]);return n}return Object.assign({},e)}function w_(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function x_(e){return"nullValue"in e?o_:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?p_(i_.empty(),Dx.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:cx()}function A_(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?p_(i_.empty(),Dx.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?a_:cx()}function __(e,t){var n=l_(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function S_(e,t){var n=l_(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var I_=function(){function e(t){d(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!k_(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=b_(t)}},{key:"setAll",value:function(e){var t=this,n=Ox.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=b_(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());k_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return u_(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];k_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){UA(t,(function(t,n){return e[t]=n}));var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(b_(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function E_(e){var t=[];return UA(e.fields,(function(e,n){var r=new Ox([e]);if(k_(n)){var i=E_(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=E(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new WA(t)}var T_=function(){function e(t,n,r,i,a,o,s){d(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Cx.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=I_.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=I_.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Cx.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Cx.min(),Cx.min(),Cx.min(),I_.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Cx.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Cx.min(),Cx.min(),I_.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Cx.min(),Cx.min(),I_.empty(),2)}}]),e}(),C_=g((function e(t,n){d(this,e),this.position=t,this.inclusive=n}));function N_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Dx.comparator(Dx.fromName(o.referenceValue),n.key):l_(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function P_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!u_(e.position[n],t.position[n]))return!1;return!0}var R_=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";d(this,e),this.field=t,this.dir=n}));function O_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var D_=g((function e(){d(this,e)})),L_=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(l_(t,this.value)):null!==t&&s_(this.value)===s_(t)&&this.matchesComparison(l_(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cx()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new G_(e,t,r):"array-contains"===t?new Y_(e,r):"in"===t?new X_(e,r):"not-in"===t?new J_(e,r):"array-contains-any"===t?new $_(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new H_(e,n):new W_(e,n)}}]),n}(D_),F_=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return g(n,[{key:"matches",value:function(e){return M_(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=E(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(D_);function M_(e){return"and"===e.op}function j_(e){return"or"===e.op}function U_(e){return V_(e)&&M_(e)}function V_(e){var t,n=E(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof F_)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function B_(e){if(e instanceof L_)return e.field.canonicalString()+e.op.toString()+h_(e.value);if(U_(e))return e.filters.map((function(e){return B_(e)})).join(",");var t=e.filters.map((function(e){return B_(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function z_(e,t){return e instanceof L_?function(e,t){return t instanceof L_&&e.op===t.op&&e.field.isEqual(t.field)&&u_(e.value,t.value)}(e,t):e instanceof F_?function(e,t){return t instanceof F_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&z_(n,t.filters[r])}),!0)}(e,t):void cx()}function q_(e,t){var n=e.filters.concat(t);return F_.create(n,e.op)}function K_(e){return e instanceof L_?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(h_(e.value))}(e):e instanceof F_?function(e){return e.op.toString()+" {"+e.getFilters().map(K_).join(" ,")+"}"}(e):"Filter"}var G_=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,i)).key=Dx.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=Dx.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(L_),H_=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"in",r)).keys=Q_("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(L_),W_=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,"not-in",r)).keys=Q_("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(L_);function Q_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Dx.fromName(e.referenceValue)}))}var Y_=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return m_(t)&&c_(t.arrayValue,this.value)}}]),n}(L_),X_=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&c_(this.value.arrayValue,t)}}]),n}(L_),J_=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(c_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!c_(this.value.arrayValue,t)}}]),n}(L_),$_=function(e){k(n,e);var t=A(n);function n(e,r){return d(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!m_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return c_(t.value.arrayValue,e)}))}}]),n}(L_),Z_=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;d(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.he=null}));function eS(e){return new Z_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function tS(e){var t=fx(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return B_(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),oA(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return h_(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return h_(e)})).join(",")),t.he=n}return t.he}function nS(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!O_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!z_(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!P_(e.startAt,t.startAt)&&P_(e.endAt,t.endAt)}function rS(e){return Dx.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function iS(e,t){return e.filters.filter((function(e){return e instanceof L_&&e.field.isEqual(t)}))}function aS(e,t,n){var r,i=o_,a=!0,o=E(iS(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=o_,c=!0;switch(s.op){case"<":case"<=":u=x_(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=o_}__({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];__({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function oS(e,t,n){var r,i=a_,a=!0,o=E(iS(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=a_,c=!0;switch(s.op){case">=":case">":u=A_(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=a_}S_({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];S_({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var sS=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}));function uS(e,t,n,r,i,a,o,s){return new sS(e,t,n,r,i,a,o,s)}function cS(e){return new sS(e)}function lS(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function fS(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function hS(e){var t,n=E(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function dS(e){return null!==e.collectionGroup}function pS(e){var t=fx(e);if(null===t.Pe){t.Pe=[];var n=hS(t),r=fS(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new R_(n)),t.Pe.push(new R_(Ox.keyField(),"asc"));else{var i,a=!1,o=E(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.Pe.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new R_(Ox.keyField(),u))}}}return t.Pe}function vS(e){var t=fx(e);return t.Ie||(t.Ie=mS(t,pS(e))),t.Ie}function mS(e,t){if("F"===e.limitType)return eS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new R_(e.field,t)}));var n=e.endAt?new C_(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new C_(e.startAt.position,e.startAt.inclusive):null;return eS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function gS(e,t){t.getFirstInequalityField(),hS(e);var n=e.filters.concat([t]);return new sS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function yS(e,t,n){return new sS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function kS(e,t){return nS(vS(e),vS(t))&&e.limitType===t.limitType}function bS(e){return"".concat(tS(vS(e)),"|lt:").concat(e.limitType)}function wS(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return K_(e)})).join(", "),"]")),oA(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return h_(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return h_(e)})).join(",")),"Target(".concat(t,")")}(vS(e)),"; limitType=").concat(e.limitType,")")}function xS(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Dx.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=E(pS(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=E(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=N_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,pS(e),t))&&!(e.endAt&&!function(e,t,n){var r=N_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,pS(e),t))}(e,t)}function AS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _S(e){return function(t,n){var r,i=!1,a=E(pS(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=SS(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function SS(e,t,n){var r=e.field.isKeyField()?Dx.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?l_(r,i):cx()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return cx()}}var IS=function(){function e(t,n){d(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){UA(this.inner,(function(t,n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return VA(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ES=new BA(Dx.comparator);function TS(){return ES}var CS=new BA(Dx.comparator);function NS(){for(var e=CS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function PS(e){var t=CS;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function RS(){return DS()}function OS(){return DS()}function DS(){return new IS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var LS=new BA(Dx.comparator),FS=new KA(Dx.comparator);function MS(){for(var e=FS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var jS=new KA(Sx);function US(){return jS}function VS(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sA(t)?"-0":t}}function BS(e){return{integerValue:""+e}}function zS(e,t){return uA(t)?BS(t):VS(e,t)}var qS=g((function e(){d(this,e),this._=void 0}));function KS(e,t,n){return e instanceof WS?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&e_(t)&&(t=t_(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof QS?YS(e,t):e instanceof XS?JS(e,t):function(e,t){var n=HS(e,t),r=ZS(n)+ZS(e.Te);return v_(n)&&v_(e.Te)?BS(r):VS(e.serializer,r)}(e,t)}function GS(e,t,n){return e instanceof QS?YS(e,t):e instanceof XS?JS(e,t):n}function HS(e,t){return e instanceof $S?function(e){return v_(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var WS=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(qS),QS=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(qS);function YS(e,t){var n,r=eI(t),i=E(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return u_(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var XS=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).elements=e,r}return g(n)}(qS);function JS(e,t){var n,r=eI(t),i=E(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!u_(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $S=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return g(n)}(qS);function ZS(e){return $A(e.integerValue||e.doubleValue)}function eI(e){return m_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var tI=g((function e(t,n){d(this,e),this.field=t,this.transform=n}));var nI=g((function e(t,n){d(this,e),this.version=t,this.transformResults=n})),rI=function(){function e(t,n){d(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function iI(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var aI=g((function e(){d(this,e)}));function oI(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new yI(e.key,rI.none()):new fI(e.key,e.data,rI.none());var n,r=e.data,i=I_.empty(),a=new KA(Ox.comparator),o=E(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new hI(e.key,i,new WA(a.toArray()),rI.none())}function sI(e,t,n){e instanceof fI?function(e,t,n){var r=e.value.clone(),i=pI(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof hI?function(e,t,n){if(iI(e.precondition,t)){var r=pI(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(dI(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function uI(e,t,n,r){return e instanceof fI?function(e,t,n,r){if(!iI(e.precondition,t))return n;var i=e.value.clone(),a=vI(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof hI?function(e,t,n,r){if(!iI(e.precondition,t))return n;var i=vI(e.fieldTransforms,r,t),a=t.data;return a.setAll(dI(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return iI(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function cI(e,t){var n,r=null,i=E(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=HS(a.transform,o||null);null!=s&&(null===r&&(r=I_.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function lI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ix(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof QS&&t instanceof QS||e instanceof XS&&t instanceof XS?Ix(e.elements,t.elements,u_):e instanceof $S&&t instanceof $S?u_(e.Te,t.Te):e instanceof WS&&t instanceof WS}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var fI=function(e){k(n,e);var t=A(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return d(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(aI),hI=function(e){k(n,e);var t=A(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return d(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(aI);function dI(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function pI(e,t,n){var r=new Map;lx(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,GS(o,s,n[i]))}return r}function vI(e,t,n){var r,i=new Map,a=E(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,KS(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var mI,gI,yI=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(aI),kI=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(aI),bI=function(){function e(t,n,r,i){d(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&sI(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=E(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=uI(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=E(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=uI(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=OS();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=oI(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Cx.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),MS())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ix(this.mutations,e.mutations,(function(e,t){return lI(e,t)}))&&Ix(this.baseMutations,e.baseMutations,(function(e,t){return lI(e,t)}))}}]),e}(),wI=function(){function e(t,n,r,i){d(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){lx(t.mutations.length===r.length);for(var i=LS,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),xI=function(){function e(t,n){d(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),AI=g((function e(t,n){d(this,e),this.count=t,this.unchangedNames=n}));function _I(e){switch(e){default:return cx();case hx.CANCELLED:case hx.UNKNOWN:case hx.DEADLINE_EXCEEDED:case hx.RESOURCE_EXHAUSTED:case hx.INTERNAL:case hx.UNAVAILABLE:case hx.UNAUTHENTICATED:return!1;case hx.INVALID_ARGUMENT:case hx.NOT_FOUND:case hx.ALREADY_EXISTS:case hx.PERMISSION_DENIED:case hx.FAILED_PRECONDITION:case hx.ABORTED:case hx.OUT_OF_RANGE:case hx.UNIMPLEMENTED:case hx.DATA_LOSS:return!0}}function SI(e){if(void 0===e)return ox("GRPC error has no .code"),hx.UNKNOWN;switch(e){case mI.OK:return hx.OK;case mI.CANCELLED:return hx.CANCELLED;case mI.UNKNOWN:return hx.UNKNOWN;case mI.DEADLINE_EXCEEDED:return hx.DEADLINE_EXCEEDED;case mI.RESOURCE_EXHAUSTED:return hx.RESOURCE_EXHAUSTED;case mI.INTERNAL:return hx.INTERNAL;case mI.UNAVAILABLE:return hx.UNAVAILABLE;case mI.UNAUTHENTICATED:return hx.UNAUTHENTICATED;case mI.INVALID_ARGUMENT:return hx.INVALID_ARGUMENT;case mI.NOT_FOUND:return hx.NOT_FOUND;case mI.ALREADY_EXISTS:return hx.ALREADY_EXISTS;case mI.PERMISSION_DENIED:return hx.PERMISSION_DENIED;case mI.FAILED_PRECONDITION:return hx.FAILED_PRECONDITION;case mI.ABORTED:return hx.ABORTED;case mI.OUT_OF_RANGE:return hx.OUT_OF_RANGE;case mI.UNIMPLEMENTED:return hx.UNIMPLEMENTED;case mI.DATA_LOSS:return hx.DATA_LOSS;default:return cx()}}(gI=mI||(mI={}))[gI.OK=0]="OK",gI[gI.CANCELLED=1]="CANCELLED",gI[gI.UNKNOWN=2]="UNKNOWN",gI[gI.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gI[gI.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gI[gI.NOT_FOUND=5]="NOT_FOUND",gI[gI.ALREADY_EXISTS=6]="ALREADY_EXISTS",gI[gI.PERMISSION_DENIED=7]="PERMISSION_DENIED",gI[gI.UNAUTHENTICATED=16]="UNAUTHENTICATED",gI[gI.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gI[gI.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gI[gI.ABORTED=10]="ABORTED",gI[gI.OUT_OF_RANGE=11]="OUT_OF_RANGE",gI[gI.UNIMPLEMENTED=12]="UNIMPLEMENTED",gI[gI.INTERNAL=13]="INTERNAL",gI[gI.UNAVAILABLE=14]="UNAVAILABLE",gI[gI.DATA_LOSS=15]="DATA_LOSS";var II=null;function EI(){return new TextEncoder}var TI=new Zw([4294967295,4294967295],0);function CI(e){var t=EI().encode(e),n=new $w;return n.update(t),new Uint8Array(n.digest())}function NI(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Zw([n,r],0),new Zw([i,a],0)]}var PI=function(){function e(t,n,r){if(d(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new RI("Invalid padding: ".concat(n));if(r<0)throw new RI("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new RI("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new RI("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=Zw.fromNumber(this.Ae)}return g(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(Zw.fromNumber(n)));return 1===r.compare(TI)&&(r=new Zw([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=l(NI(CI(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);if(!this.me(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=l(NI(CI(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);this.fe(a)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),RI=function(e){k(n,e);var t=A(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return g(n)}(S(Error)),OI=function(){function e(t,n,r,i,a){d(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,DI.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Cx.min(),i,new BA(Sx),TS(),MS())}}]),e}(),DI=function(){function e(t,n,r,i,a){d(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,MS(),MS(),MS())}}]),e}(),LI=g((function e(t,n,r,i){d(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i})),FI=g((function e(t,n){d(this,e),this.targetId=t,this.ye=n})),MI=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:YA.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),jI=function(){function e(){d(this,e),this.we=0,this.Se=BI(),this.be=YA.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}return g(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"ve",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.Ce}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}},{key:"xe",value:function(){var e=MS(),t=MS(),n=MS();return this.Se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:cx()}})),new DI(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.Ce=!1,this.Se=BI()}},{key:"Ne",value:function(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.Ce=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.Ce=!0,this.De=!0}}]),e}(),UI=function(){function e(t){d(this,e),this.Qe=t,this.Ke=new Map,this.$e=TS(),this.Ue=VI(),this.We=new BA(Sx)}return g(e,[{key:"Ge",value:function(e){var t,n=E(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(s){n.e(s)}finally{n.f()}var i,a=E(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.je(o,e.key,e.pe)}}catch(s){a.e(s)}finally{a.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:cx()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t=e.targetId,n=e.ye.count,r=this.et(t);if(r){var i=r.target;if(rS(i))if(0===n){var a=new Dx(i.path);this.je(t,a,T_.newNoDocument(a,Cx.min()))}else lx(1===n);else{var o=this.tt(t);if(o!==n){var s=this.nt(e),u=s?this.rt(s,e,o):1;if(0!==u){this.Ze(t);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(t,c)}null==II||II.it(function(e,t,n,r,i){var a,o,s,u,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(u=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ye,this.Qe.st(),s,u))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,c=t.hashCount,l=void 0===c?0:c;try{n=ZA(o).toUint8Array()}catch(e){if(e instanceof QA)return sx("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new PI(n,u,l)}catch(e){return sx(e instanceof RI?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.ot(e,t.targetId)?0:2}},{key:"ot",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Qe.st(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.je(t,r,null),i++)})),i}},{key:"_t",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,i){var a=t.et(i);if(a){if(r.current&&rS(a.target)){var o=new Dx(a.target.path);null!==t.$e.get(o)||t.ut(i,o)||t.je(i,o,T_.newNoDocument(o,e))}r.Fe&&(n.set(i,r.xe()),r.Oe())}}));var r=MS();this.Ue.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var i=new OI(e,n,this.We,this.$e,r);return this.$e=TS(),this.Ue=VI(),this.We=new BA(Sx),i}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this.ut(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new jI,this.Ke.set(e,t)),t}},{key:"ct",value:function(e){var t=this.Ue.get(e);return t||(t=new KA(Sx),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||ax("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new jI),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"ut",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function VI(){return new BA(Dx.comparator)}function BI(){return new BA(Dx.comparator)}var zI={asc:"ASCENDING",desc:"DESCENDING"},qI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KI={and:"AND",or:"OR"},GI=g((function e(t,n){d(this,e),this.databaseId=t,this.useProto3Json=n}));function HI(e,t){return e.useProto3Json||oA(t)?t:{value:t}}function WI(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function QI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function YI(e,t){return WI(e,t.toTimestamp())}function XI(e){return lx(!!e),Cx.fromTimestamp(function(e){var t=JA(e);return new Tx(t.seconds,t.nanos)}(e))}function JI(e,t){return function(e){return new Px(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function $I(e){var t=Px.fromString(e);return lx(wE(t)),t}function ZI(e,t){return JI(e.databaseId,t.path)}function eE(e,t){var n=$I(t);if(n.get(1)!==e.databaseId.projectId)throw new dx(hx.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dx(hx.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Dx(iE(n))}function tE(e,t){return JI(e.databaseId,t)}function nE(e){var t=$I(e);return 4===t.length?Px.emptyPath():iE(t)}function rE(e){return new Px(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iE(e){return lx(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function aE(e,t,n){return{name:ZI(e,t),fields:n.value.mapValue.fields}}function oE(e,t,n){var r=eE(e,t.name),i=XI(t.updateTime),a=t.createTime?XI(t.createTime):Cx.min(),o=new I_({mapValue:{fields:t.fields}}),s=T_.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function sE(e,t){return"found"in t?function(e,t){lx(!!t.found),t.found.name,t.found.updateTime;var n=eE(e,t.found.name),r=XI(t.found.updateTime),i=t.found.createTime?XI(t.found.createTime):Cx.min(),a=new I_({mapValue:{fields:t.found.fields}});return T_.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){lx(!!t.missing),lx(!!t.readTime);var n=eE(e,t.missing),r=XI(t.readTime);return T_.newNoDocument(n,r)}(e,t):cx()}function uE(e,t){var n;if(t instanceof fI)n={update:aE(e,t.key,t.value)};else if(t instanceof yI)n={delete:ZI(e,t.key)};else if(t instanceof hI)n={update:aE(e,t.key,t.data),updateMask:bE(t.fieldMask)};else{if(!(t instanceof kI))return cx();n={verify:ZI(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof WS)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof QS)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof XS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $S)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw cx()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:YI(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:cx()}(e,t.precondition)),n}function cE(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?rI.updateTime(XI(e.updateTime)):void 0!==e.exists?rI.exists(e.exists):rI.none()}(t.currentDocument):rI.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)lx("REQUEST_TIME"===t.setToServerValue),n=new WS;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new QS(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new XS(i)}else"increment"in t?n=new $S(e,t.increment):cx();var a=Ox.fromServerFormat(t.fieldPath);return new tI(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=eE(e,t.update.name),a=new I_({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new WA(t.map((function(e){return Ox.fromServerFormat(e)})))}(t.updateMask);return new hI(i,a,o,n,r)}return new fI(i,a,n,r)}if(t.delete){var s=eE(e,t.delete);return new yI(s,n)}if(t.verify){var u=eE(e,t.verify);return new kI(u,n)}return cx()}function lE(e,t){return{documents:[tE(e,t.path)]}}function fE(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=tE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=tE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return kE(F_.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:gE(e.field),direction:pE(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=HI(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function hE(e){var t=nE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){lx(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=dE(e);return t instanceof F_&&U_(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new R_(yE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return oA(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new C_(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new C_(n,t)}(n.endAt)),uS(t,i,s,o,u,"F",c,l)}function dE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yE(e.unaryFilter.field);return L_.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yE(e.unaryFilter.field);return L_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yE(e.unaryFilter.field);return L_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yE(e.unaryFilter.field);return L_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return cx()}}(e):void 0!==e.fieldFilter?function(e){return L_.create(yE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cx()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return F_.create(e.compositeFilter.filters.map((function(e){return dE(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return cx()}}(e.compositeFilter.op))}(e):cx()}function pE(e){return zI[e]}function vE(e){return qI[e]}function mE(e){return KI[e]}function gE(e){return{fieldPath:e.canonicalString()}}function yE(e){return Ox.fromServerFormat(e.fieldPath)}function kE(e){return e instanceof L_?function(e){if("=="===e.op){if(y_(e.value))return{unaryFilter:{field:gE(e.field),op:"IS_NAN"}};if(g_(e.value))return{unaryFilter:{field:gE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(y_(e.value))return{unaryFilter:{field:gE(e.field),op:"IS_NOT_NAN"}};if(g_(e.value))return{unaryFilter:{field:gE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gE(e.field),op:vE(e.op),value:e.value}}}(e):e instanceof F_?function(e){var t=e.getFilters().map((function(e){return kE(e)}));return 1===t.length?t[0]:{compositeFilter:{op:mE(e.op),filters:t}}}(e):cx()}function bE(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function wE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var xE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Cx.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Cx.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:YA.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;d(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),AE=g((function e(t){d(this,e),this.ht=t}));function _E(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:SE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ZI(e,t.key),fields:t.data.value.mapValue.fields,updateTime:WI(e,t.version.toTimestamp()),createTime:WI(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:IE(t.version)};else{if(!t.isUnknownDocument())return cx();r.unknownDocument={path:n.path.toArray(),version:IE(t.version)}}return r}function SE(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function IE(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function EE(e){var t=new Tx(e.seconds,e.nanoseconds);return Cx.fromTimestamp(t)}function TE(e,t){for(var n=(t.baseMutations||[]).map((function(t){return cE(e.ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return cE(e.ht,t)})),s=Tx.fromMillis(t.localWriteTimeMs);return new bI(t.batchId,s,n,o)}function CE(e){var t,n=EE(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?EE(e.lastLimboFreeSnapshotVersion):Cx.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return lx(1===e.documents.length),vS(cS(nE(e.documents[0])))}(e.query):function(e){return vS(hE(e))}(e.query),new xE(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,YA.fromBase64String(e.resumeToken))}function NE(e,t){var n,r=IE(t.snapshotVersion),i=IE(t.lastLimboFreeSnapshotVersion);n=rS(t.target)?lE(e.ht,t.target):fE(e.ht,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:tS(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function PE(e){var t=hE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yS(t,t.limit,"L"):t}function RE(e,t){return new xI(t.largestBatchId,cE(e.ht,t.overlayMutation))}function OE(e,t){var n=t.path.lastSegment();return[e,cA(t.path.popLast()),n]}function DE(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:IE(r.readTime),documentKey:cA(r.documentKey.path),largestBatchId:r.largestBatchId}}var LE=function(){function e(){d(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return FE(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:EE(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return FE(e).put(function(e){return{bundleId:e.id,createTime:IE(XI(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return ME(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:PE(e.bundledQuery),readTime:EE(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return ME(e).put(function(e){return{name:e.name,readTime:IE(XI(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function FE(e){return MA(e,"bundles")}function ME(e){return MA(e,"namedQueries")}var jE=function(){function e(t,n){d(this,e),this.serializer=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return UE(e).get(OE(this.userId,t)).next((function(e){return e?RE(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=RS();return Wx.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new xI(t,a);i.push(r.It(e,o))})),Wx.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(cA(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(UE(e).J("collectionPathOverlayIndex",i))})),Wx.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=RS(),a=cA(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return UE(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=RE(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=RS(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return UE(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=RE(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"It",value:function(e,t){return UE(e).put(function(e,t,n){var r=l(OE(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:uE(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"Pt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function UE(e){return MA(e,"documentOverlays")}var VE=function(){function e(){d(this,e)}return g(e,[{key:"dt",value:function(e,t){this.Tt(e,t),t.Et()}},{key:"Tt",value:function(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt($A(e.integerValue));else if("doubleValue"in e){var n=$A(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),sA(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt("".concat(r.seconds||"")),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(ZA(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.At(t,45),t.Rt(i.latitude||0),t.Rt(i.longitude||0)}else"mapValue"in e?w_(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):cx()}},{key:"ft",value:function(e,t){this.At(t,25),this.Dt(e,t)}},{key:"Dt",value:function(e,t){t.Vt(e)}},{key:"St",value:function(e,t){var n=e.fields||{};this.At(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ft(a,t),this.Tt(n[a],t)}}},{key:"bt",value:function(e,t){var n=e.values||[];this.At(t,50);var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Tt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"wt",value:function(e,t){var n=this;this.At(t,37),Dx.fromName(e).path.forEach((function(e){n.At(t,60),n.Dt(e,t)}))}},{key:"At",value:function(e,t){e.Rt(t)}},{key:"gt",value:function(e){e.Rt(2)}}]),e}();function BE(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function zE(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=BE(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}VE.Ct=new VE;var qE=function(){function e(){d(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ot(n.value),n=t.next();this.Nt()}},{key:"Bt",value:function(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Lt",value:function(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{var a=r.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Nt()}},{key:"kt",value:function(e){var t=this.qt(e),n=zE(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Kt",value:function(e){var t=this.qt(e),n=zE(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"Wt",value:function(){this.Gt(255),this.Gt(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"zt",value:function(){return this.buffer.slice(0,this.position)}},{key:"qt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}},{key:"Ot",value:function(e){var t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}},{key:"Mt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Nt",value:function(){this.Gt(0),this.Gt(1)}},{key:"Ut",value:function(e){this.Qt(1),this.buffer[this.position++]=e}},{key:"Gt",value:function(e){this.Qt(1),this.buffer[this.position++]=~e}},{key:"Qt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),KE=function(){function e(t){d(this,e),this.jt=t}return g(e,[{key:"yt",value:function(e){this.jt.vt(e)}},{key:"Vt",value:function(e){this.jt.Bt(e)}},{key:"Rt",value:function(e){this.jt.kt(e)}},{key:"Et",value:function(){this.jt.$t()}}]),e}(),GE=function(){function e(t){d(this,e),this.jt=t}return g(e,[{key:"yt",value:function(e){this.jt.xt(e)}},{key:"Vt",value:function(e){this.jt.Lt(e)}},{key:"Rt",value:function(e){this.jt.Kt(e)}},{key:"Et",value:function(){this.jt.Wt()}}]),e}(),HE=function(){function e(){d(this,e),this.jt=new qE,this.Ht=new KE(this.jt),this.Jt=new GE(this.jt)}return g(e,[{key:"seed",value:function(e){this.jt.seed(e)}},{key:"Yt",value:function(e){return 0===e?this.Ht:this.Jt}},{key:"zt",value:function(){return this.jt.zt()}},{key:"reset",value:function(){this.jt.reset()}}]),e}(),WE=function(){function e(t,n,r,i){d(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Zt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function QE(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=YE(e.arrayValue,t.arrayValue))?n:0!==(n=YE(e.directionalValue,t.directionalValue))?n:Dx.comparator(e.documentKey,t.documentKey)}function YE(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var XE=function(){function e(t){d(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Xt=t.orderBy,this.en=[];var n,r=E(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.tn=i:this.en.push(i)}}catch(a){r.e(a)}finally{r.f()}}return g(e,[{key:"nn",value:function(e){lx(e.collectionGroup===this.collectionId);var t=Fx(e);if(void 0!==t&&!this.rn(t))return!1;for(var n=Mx(e),r=new Set,i=0,a=0;i<n.length&&this.rn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.tn){if(!r.has(this.tn.field.canonicalString())){var o=n[i];if(!this.sn(this.tn,o)||!this.on(this.Xt[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Xt.length||!this.on(this.Xt[a++],s))return!1}return!0}},{key:"_n",value:function(){var e,t=new KA(Ox.comparator),n=[],r=E(this.en);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new jx(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new jx(i.field,0))}}}catch(u){r.e(u)}finally{r.f()}var a,o=E(this.Xt);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),n.push(new jx(s.field,"asc"===s.dir?0:1)))}}catch(u){o.e(u)}finally{o.f()}return new Lx(Lx.UNKNOWN_ID,this.collectionId,n,Ux.empty())}},{key:"rn",value:function(e){var t,n=E(this.en);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.sn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"sn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"on",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function JE(e){var t,n;if(lx(e instanceof L_||e instanceof F_),e instanceof L_){if(e instanceof X_){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return L_.create(e.field,"==",t)})))||[];return F_.create(r,"or")}return e}var i=e.filters.map((function(e){return JE(e)}));return F_.create(i,e.op)}function $E(e){if(0===e.getFilters().length)return[];var t=nT(JE(e));return lx(tT(t)),ZE(t)||eT(t)?[t]:t.getFilters()}function ZE(e){return e instanceof L_}function eT(e){return e instanceof F_&&U_(e)}function tT(e){return ZE(e)||eT(e)||function(e){if(e instanceof F_&&j_(e)){var t,n=E(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!ZE(r)&&!eT(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function nT(e){if(lx(e instanceof L_||e instanceof F_),e instanceof L_)return e;if(1===e.filters.length)return nT(e.filters[0]);var t=e.filters.map((function(e){return nT(e)})),n=F_.create(t,e.op);return tT(n=aT(n))?n:(lx(n instanceof F_),lx(M_(n)),lx(n.filters.length>1),n.filters.reduce((function(e,t){return rT(e,t)})))}function rT(e,t){var n;return lx(e instanceof L_||e instanceof F_),lx(t instanceof L_||t instanceof F_),n=e instanceof L_?t instanceof L_?function(e,t){return F_.create([e,t],"and")}(e,t):iT(e,t):t instanceof L_?iT(t,e):function(e,t){if(lx(e.filters.length>0&&t.filters.length>0),M_(e)&&M_(t))return q_(e,t.getFilters());var n=j_(e)?e:t,r=j_(e)?t:e,i=n.filters.map((function(e){return rT(e,r)}));return F_.create(i,"or")}(e,t),aT(n)}function iT(e,t){if(M_(t))return q_(t,e.getFilters());var n=t.filters.map((function(t){return rT(e,t)}));return F_.create(n,"or")}function aT(e){if(lx(e instanceof L_||e instanceof F_),e instanceof L_)return e;var t=e.getFilters();if(1===t.length)return aT(t[0]);if(V_(e))return e;var n=t.map((function(e){return aT(e)})),r=[];return n.forEach((function(t){t instanceof L_?r.push(t):t instanceof F_&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:F_.create(r,e.op)}var oT=function(){function e(){d(this,e),this.an=new sT}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.an.add(t),Wx.resolve()}},{key:"getCollectionParents",value:function(e,t){return Wx.resolve(this.an.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Wx.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Wx.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Wx.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Wx.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Wx.resolve(null)}},{key:"getIndexType",value:function(e,t){return Wx.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Wx.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Wx.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Wx.resolve(zx.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Wx.resolve(zx.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Wx.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Wx.resolve()}}]),e}(),sT=function(){function e(){d(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new KA(Px.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new KA(Px.comparator)).toArray()}}]),e}(),uT=new Uint8Array(0),cT=function(){function e(t,n){d(this,e),this.user=t,this.databaseId=n,this.un=new sT,this.cn=new IS((function(e){return tS(e)}),(function(e,t){return nS(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.un.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.un.add(t)}));var a={collectionId:r,parent:cA(i)};return lT(e).put(a)}return Wx.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ex(t),""],!1,!0);return lT(e).G(r).next((function(e){var r,i=E(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(hA(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=hT(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=dT(e);return a.next((function(e){o.put(DE(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=hT(e),r=dT(e),i=fT(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=hT(e),n=fT(e),r=dT(e);return t.J().next((function(){return n.J()})).next((function(){return r.J()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return Wx.forEach(this.ln(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new XE(t);return n.addFieldIndex(e,i._n())}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=fT(e),i=!0,a=new Map;return Wx.forEach(this.ln(t),(function(t){return n.hn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=MS(),o=[];return Wx.forEach(a,(function(i,a){ax("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(tS(t)));var s=function(e,t){var n=Fx(t);if(void 0===n)return null;var r,i=E(iS(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=E(Mx(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=E(iS(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=E(Mx(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?aS(e,o.fieldPath,e.startAt):oS(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new C_(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=E(Mx(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?oS(e,o.fieldPath,e.endAt):aS(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new C_(r,i)}(a,i),f=n.Pn(i,a,c),h=n.Pn(i,a,l),d=n.In(i,a,u),p=n.dn(i.indexId,s,f,c.inclusive,h,l.inclusive,d);return Wx.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Dx.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Wx.resolve(null)}))}},{key:"ln",value:function(e){var t=this.cn.get(e);return t||(t=0===e.filters.length?[e]:$E(F_.create(e.filters,"and")).map((function(t){return eS(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.cn.set(e,t),t)}},{key:"dn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.Tn(t[d/c]):uT,f=s.En(e,u,n[d%c],r),p=s.An(e,u,i[d%c],a),v=o.map((function(t){return s.En(e,u,t,!0)}));l.push.apply(l,h(s.createRange(f,p,v)))},d=0;d<u;++d)f();return l}},{key:"En",value:function(e,t,n,r){var i=new WE(e,Dx.empty(),t,n);return r?i:i.Zt()}},{key:"An",value:function(e,t,n,r){var i=new WE(e,Dx.empty(),t,n);return r?i.Zt():i}},{key:"hn",value:function(e,t){var n=new XE(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=E(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.nn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.ln(t);return Wx.forEach(i,(function(t){return n.hn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new KA(Ox.comparator),r=!1,i=E(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=E(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=E(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"Rn",value:function(e,t){var n,r=new HE,i=E(Mx(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Yt(a.kind);VE.Ct.dt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.zt()}},{key:"Tn",value:function(e){var t=new HE;return VE.Ct.dt(e,t.Yt(0)),t.zt()}},{key:"Vn",value:function(e,t){var n=new HE;return VE.Ct.dt(p_(this.databaseId,t),n.Yt(function(e){var t=Mx(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.zt()}},{key:"In",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new HE);var i,a=0,o=E(Mx(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=E(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.mn(t,u.fieldPath)&&m_(c))r=this.fn(r,u,c);else{var h=f.Yt(u.kind);VE.Ct.dt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.gn(r)}},{key:"Pn",value:function(e,t,n){return this.In(e,t,n.position)}},{key:"gn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].zt();return t}},{key:"fn",value:function(e,t,n){var r,i=h(e),a=[],o=E(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=E(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new HE;f.seed(l.zt()),VE.Ct.dt(u,f.Yt(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"mn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof L_&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=hT(e),i=dT(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return Wx.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ux(t.sequenceNumber,new zx(EE(t.readTime),new Dx(hA(t.documentKey)),t.largestBatchId)):Ux.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new jx(Ox.fromServerFormat(n),r)}));return new Lx(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Sx(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=hT(e),a=dT(e);return this.pn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Wx.forEach(t,(function(t){return a.put(DE(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Wx.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Wx.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Wx.forEach(a,(function(r){return n.yn(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?Wx.resolve():n.Sn(e,i,r,t,a)}))}))}))}))}},{key:"bn",value:function(e,t,n,r){return fT(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Vn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Dn",value:function(e,t,n,r){return fT(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Vn(n,t.key),t.key.path.toArray()])}},{key:"yn",value:function(e,t,n){var r=fT(e),i=new KA(QE);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Vn(n,t)])},(function(e,r){i=i.add(new WE(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new KA(QE),r=this.Rn(t,e);if(null==r)return n;var i=Fx(t);if(null!=i){var a=e.data.field(i.fieldPath);if(m_(a)){var o,s=E(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new WE(t.indexId,e.key,this.Tn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new WE(t.indexId,e.key,uT,r));return n}},{key:"Sn",value:function(e,t,n,r,i){var a=this;ax("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=HA(a),u=HA(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=HA(o)):l?(i(s),s=HA(a)):(s=HA(a),u=HA(o))}}(r,i,QE,(function(r){o.push(a.bn(e,t,n,r))}),(function(r){o.push(a.Dn(e,t,n,r))})),Wx.waitFor(o)}},{key:"pn",value:function(e){var t=1;return dT(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return QE(e,t)})).filter((function(e,t,n){return!t||0!==QE(e,n[t-1])}));var r=[];r.push(e);var i,a=E(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=QE(o,e),u=QE(o,t);if(0===s)r[0]=e.Zt();else if(s>0&&u<0)r.push(o),r.push(o.Zt());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Cn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,uT,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,uT,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Cn",value:function(e,t){return QE(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(pT)}},{key:"getMinOffset",value:function(e,t){var n=this;return Wx.mapArray(this.ln(t),(function(t){return n.hn(e,t).next((function(e){return e||cx()}))})).next(pT)}}]),e}();function lT(e){return MA(e,"collectionParents")}function fT(e){return MA(e,"indexEntries")}function hT(e){return MA(e,"indexConfiguration")}function dT(e){return MA(e,"indexState")}function pT(e){lx(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;qx(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new zx(t.readTime,t.documentKey,n)}var vT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mT=function(){function e(t,n,r){d(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function gT(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){lx(1===s)})));var c,l=[],f=E(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=vA(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Wx.waitFor(a).next((function(){return l}))}function yT(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw cx();t=e.noDocument}return JSON.stringify(t).length}mT.DEFAULT_COLLECTION_PERCENTILE=10,mT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mT.DEFAULT=new mT(41943040,mT.DEFAULT_COLLECTION_PERCENTILE,mT.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mT.DISABLED=new mT(-1,0,0);var kT=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wT(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=xT(e),o=wT(e);return o.add({}).next((function(s){lx("number"==typeof s);var u,c=new bI(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return uE(e.ht,t)})),i=n.mutations.map((function(t){return uE(e.ht,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new KA((function(e,t){return Sx(e.canonicalString(),t.canonicalString())})),d=E(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=vA(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,mA))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.vn[s]=c.keys()})),Wx.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return wT(e).get(t).next((function(e){return e?(lx(e.userId===n.userId),TE(n.serializer,e)):null}))}},{key:"Fn",value:function(e,t){var n=this;return this.vn[t]?Wx.resolve(this.vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return wT(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(lx(t.batchId>=r),a=TE(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return wT(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wT(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return TE(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=pA(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return xT(e).Z({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],h=hA(c);if(u===n.userId&&t.path.isEqual(h))return wT(e).get(f).next((function(e){if(!e)throw cx();lx(e.userId===n.userId),a.push(TE(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new KA(Sx),i=[];return t.forEach((function(t){var a=pA(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=xT(e).Z({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=hA(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),Wx.waitFor(i).next((function(){return n.Mn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=pA(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new KA(Sx);return xT(e).Z({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],h=hA(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Mn(e,s)}))}},{key:"Mn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(wT(e).get(t).next((function(e){if(null===e)throw cx();lx(e.userId===n.userId),r.push(TE(n.serializer,e))})))})),Wx.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return gT(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.xn(t.batchId)})),Wx.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"xn",value:function(e){delete this.vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Wx.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return xT(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=hA(e[1]);i.push(a)}else r.done()})).next((function(){lx(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return bT(e,this.userId,t)}},{key:"On",value:function(e){var t=this;return AT(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Pt",value:function(t,n,r,i){return lx(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function bT(e,t,n){var r=pA(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return xT(e).Z({range:a,Y:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function wT(e){return MA(e,"mutations")}function xT(e){return MA(e,"documentMutations")}function AT(e){return MA(e,"mutationQueues")}var _T=function(){function e(t){d(this,e),this.Nn=t}return g(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"Bn",value:function(){return new e(0)}},{key:"Ln",value:function(){return new e(-1)}}]),e}(),ST=function(){function e(t,n){d(this,e),this.referenceDelegate=t,this.serializer=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.kn(e).next((function(n){var r=new _T(n.highestTargetId);return n.highestTargetId=r.next(),t.qn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.kn(e).next((function(e){return Cx.fromTimestamp(new Tx(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.kn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.kn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.qn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Qn(e,t).next((function(){return n.kn(e).next((function(r){return r.targetCount+=1,n.Kn(t,r),n.qn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return IT(e).delete(t.targetId)})).next((function(){return n.kn(e)})).next((function(t){return lx(t.targetCount>0),t.targetCount-=1,n.qn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return IT(e).Z((function(o,s){var u=CE(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Wx.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return IT(e).Z((function(e,n){var r=CE(n);t(r)}))}},{key:"kn",value:function(e){return ET(e).get("targetGlobalKey").next((function(e){return lx(null!==e),e}))}},{key:"qn",value:function(e,t){return ET(e).put("targetGlobalKey",t)}},{key:"Qn",value:function(e,t){return IT(e).put(NE(this.serializer,t))}},{key:"Kn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.kn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=tS(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return IT(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=CE(n);nS(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=TT(e);return t.forEach((function(t){var o=cA(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Wx.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=TT(e);return Wx.forEach(t,(function(t){var a=cA(t.path);return Wx.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=TT(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=TT(e),i=MS();return r.Z({range:n,Y:!0},(function(e,t,n){var r=hA(e[1]),a=new Dx(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=cA(t.path),r=IDBKeyRange.bound([n],[Ex(n)],!1,!0),i=0;return TT(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"lt",value:function(e,t){return IT(e).get(t).next((function(e){return e?CE(e):null}))}}]),e}();function IT(e){return MA(e,"targets")}function ET(e){return MA(e,"targetGlobal")}function TT(e){return MA(e,"targetDocuments")}function CT(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=Sx(r,o);return 0===u?Sx(i,s):u}var NT=function(){function e(t){d(this,e),this.$n=t,this.buffer=new KA(CT),this.Un=0}return g(e,[{key:"Wn",value:function(){return++this.Un}},{key:"Gn",value:function(e){var t=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();CT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),PT=function(){function e(t,n,r){d(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.zn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.jn(6e4)}},{key:"stop",value:function(){this.zn&&(this.zn.cancel(),this.zn=null)}},{key:"started",get:function(){return null!==this.zn}},{key:"jn",value:function(e){var t=this;ax("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.zn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!$x(e.t0)){e.next=12;break}ax("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Hx(e.t0);case 14:return e.next=16,t.jn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),RT=function(){function e(t,n){d(this,e),this.Hn=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.Hn.Jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Wx.resolve(aA.ae);var r=new NT(t);return this.Hn.forEachTarget(e,(function(e){return r.Gn(e.sequenceNumber)})).next((function(){return n.Hn.Yn(e,(function(e){return r.Gn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Hn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Hn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ax("LruGarbageCollector","Garbage collection skipped; disabled"),Wx.resolve(vT)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ax("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),vT):n.Zn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Hn.getCacheSize(e)}},{key:"Zn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ax("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),ix()<=ea.DEBUG&&ax("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Wx.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function OT(e,t){return new RT(e,t)}var DT=function(){function e(t,n){d(this,e),this.db=t,this.garbageCollector=OT(this,n)}return g(e,[{key:"Jn",value:function(e){var t=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Xn",value:function(e){var t=0;return this.Yn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Yn",value:function(e,t){return this.er(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return LT(e,n)}},{key:"removeReference",value:function(e,t,n){return LT(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return LT(e,t)}},{key:"tr",value:function(e,t){return function(e,t){var n=!1;return AT(e).X((function(r){return bT(e,r,t).next((function(e){return e&&(n=!0),Wx.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.er(e,(function(o,s){if(s<=t){var u=n.tr(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Cx.min()),TT(e).delete(function(e){return[0,cA(e.path)]}(o))}))}));i.push(u)}})).next((function(){return Wx.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return LT(e,t)}},{key:"er",value:function(e,t){var n,r=TT(e),i=aA.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==aA.ae&&t(new Dx(hA(n)),i),i=u,n=s):i=aA.ae})).next((function(){i!==aA.ae&&t(new Dx(hA(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function LT(e,t){return TT(e).put(function(e,t){return{targetId:0,path:cA(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var FT=function(){function e(){d(this,e),this.changes=new IS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,T_.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Wx.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),MT=function(){function e(t){d(this,e),this.serializer=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return BT(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return BT(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],SE(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.nr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=T_.newInvalidDocument(t);return BT(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(zT(t))},(function(e,i){r=n.rr(t,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r={size:0,document:T_.newInvalidDocument(t)};return BT(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(zT(t))},(function(e,i){r={document:n.rr(t,i),size:yT(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=TS();return this.sr(e,t,(function(e,t){var i=n.rr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"_r",value:function(e,t){var n=this,r=TS(),i=new BA(Dx.comparator);return this.sr(e,t,(function(e,t){var a=n.rr(e,t);r=r.insert(e,a),i=i.insert(e,yT(t))})).next((function(){return{documents:r,ar:i}}))}},{key:"sr",value:function(e,t,n){if(t.isEmpty())return Wx.resolve();var r=new KA(KT);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(zT(r.first()),zT(r.last())),a=r.getIterator(),o=a.getNext();return BT(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Dx.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&KT(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(zT(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,s=[o.popLast().toArray(),o.lastSegment(),SE(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return BT(e).G(IDBKeyRange.bound(s,u,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=TS(),s=E(e);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=a.rr(Dx.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);c.isFoundDocument()&&(xS(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){s.e(l)}finally{s.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=TS(),o=qT(t,n),s=qT(t,zx.max());return BT(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.rr(Dx.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new UT(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return VT(e).get("remoteDocumentGlobalKey").next((function(e){return lx(!!e),e}))}},{key:"nr",value:function(e,t){return VT(e).put("remoteDocumentGlobalKey",t)}},{key:"rr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=oE(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Dx.fromSegments(t.noDocument.path),i=EE(t.noDocument.readTime);n=T_.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return cx();var a=Dx.fromSegments(t.unknownDocument.path),o=EE(t.unknownDocument.version);n=T_.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Tx(e[0],e[1]);return Cx.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Cx.min()))return n}return T_.newInvalidDocument(e)}}]),e}();function jT(e){return new MT(e)}var UT=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).ur=e,i.trackRemovals=r,i.cr=new IS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new KA((function(e,t){return Sx(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.cr.get(a);if(n.push(t.ur.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=_E(t.ur.serializer,o);i=i.add(a.path.popLast());var c=yT(u);r+=c-s.size,n.push(t.ur.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=_E(t.ur.serializer,o.convertToNoDocument(Cx.min()));n.push(t.ur.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.ur.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ur.updateMetadata(e,r)),Wx.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ur.ir(e,t).next((function(e){return n.cr.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ur._r(e,t).next((function(e){var t=e.documents;return e.ar.forEach((function(e,r){n.cr.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(FT);function VT(e){return MA(e,"remoteDocumentGlobal")}function BT(e){return MA(e,"remoteDocumentsV14")}function zT(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function qT(e,t){var n=t.documentKey.path.toArray();return[e,SE(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function KT(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Sx(n[a],r[a]))return i;return(i=Sx(n.length,r.length))||((i=Sx(n[n.length-2],r[r.length-2]))||Sx(n[n.length-1],r[r.length-1]))}var GT=g((function e(t,n){d(this,e),this.overlayedDocument=t,this.mutatedFields=n})),HT=function(){function e(t,n,r,i){d(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&uI(r.mutation,e,WA.empty(),Tx.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,MS()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MS(),i=RS();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=NS();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=RS();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,MS())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=TS(),a=DS(),o=DS();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof hI)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),uI(o.mutation,t,o.mutation.getFieldMask(),Tx.now())):a.set(t.key,WA.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new GT(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=DS(),i=new BA((function(e,t){return e-t})),a=MS();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=E(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||WA.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||MS()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=OS();c.forEach((function(e){if(!a.has(e)){var n=oI(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Wx.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return Dx.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Wx.resolve(RS()),s=-1,u=a;return o.next((function(t){return Wx.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Wx.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,MS())})).next((function(e){return{batchId:s,changes:PS(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Dx(t)).next((function(e){var t=NS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=NS();return this.indexManager.getCollectionParents(e,a).next((function(s){return Wx.forEach(s,(function(s){var u=function(e,t){return new sS(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,T_.newInvalidDocument(r)))}));var n=NS();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&uI(a.mutation,r,WA.empty(),Tx.now()),xS(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),WT=function(){function e(t){d(this,e),this.serializer=t,this.lr=new Map,this.hr=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return Wx.resolve(this.lr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:XI(e.createTime)}}(t)),Wx.resolve()}},{key:"getNamedQuery",value:function(e,t){return Wx.resolve(this.hr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hr.set(t.name,function(e){return{name:e.name,query:PE(e.bundledQuery),readTime:XI(e.readTime)}}(t)),Wx.resolve()}}]),e}(),QT=function(){function e(){d(this,e),this.overlays=new BA(Dx.comparator),this.Pr=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return Wx.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=RS();return Wx.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.It(e,t,i)})),Wx.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Pr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Pr.delete(n)),Wx.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=RS(),i=t.length+1,a=new Dx(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Wx.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new BA((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=RS(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=RS(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Wx.resolve(u)}},{key:"It",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Pr.get(r.largestBatchId).delete(n.key);this.Pr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new xI(t,n));var a=this.Pr.get(t);void 0===a&&(a=MS(),this.Pr.set(t,a)),this.Pr.set(t,a.add(n.key))}}]),e}(),YT=function(){function e(){d(this,e),this.Ir=new KA(XT.dr),this.Tr=new KA(XT.Er)}return g(e,[{key:"isEmpty",value:function(){return this.Ir.isEmpty()}},{key:"addReference",value:function(e,t){var n=new XT(e,t);this.Ir=this.Ir.add(n),this.Tr=this.Tr.add(n)}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Rr(new XT(e,t))}},{key:"Vr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"mr",value:function(e){var t=this,n=new Dx(new Px([])),r=new XT(n,e),i=new XT(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Rr(e),a.push(e.key)})),a}},{key:"gr",value:function(){var e=this;this.Ir.forEach((function(t){return e.Rr(t)}))}},{key:"Rr",value:function(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}},{key:"pr",value:function(e){var t=new Dx(new Px([])),n=new XT(t,e),r=new XT(t,e+1),i=MS();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new XT(e,0),n=this.Ir.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),XT=function(){function e(t,n){d(this,e),this.key=t,this.yr=n}return g(e,null,[{key:"dr",value:function(e,t){return Dx.comparator(e.key,t.key)||Sx(e.yr,t.yr)}},{key:"Er",value:function(e,t){return Sx(e.yr,t.yr)||Dx.comparator(e.key,t.key)}}]),e}(),JT=function(){function e(t,n){d(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new KA(XT.dr)}return g(e,[{key:"checkEmpty",value:function(e){return Wx.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new bI(i,t,n,r);this.mutationQueue.push(a);var o,s=E(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Sr=this.Sr.add(new XT(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Wx.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Wx.resolve(this.br(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Dr(n),i=r<0?0:r;return Wx.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Wx.resolve(0===this.mutationQueue.length?-1:this.wr-1)}},{key:"getAllMutationBatches",value:function(e){return Wx.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new XT(t,0),i=new XT(t,Number.POSITIVE_INFINITY),a=[];return this.Sr.forEachInRange([r,i],(function(e){var t=n.br(e.yr);a.push(t)})),Wx.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new KA(Sx);return t.forEach((function(e){var t=new XT(e,0),i=new XT(e,Number.POSITIVE_INFINITY);n.Sr.forEachInRange([t,i],(function(e){r=r.add(e.yr)}))})),Wx.resolve(this.Cr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Dx.isDocumentKey(i)||(i=i.child(""));var a=new XT(new Dx(i),0),o=new KA(Sx);return this.Sr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.yr)),!0)}),a),Wx.resolve(this.Cr(o))}},{key:"Cr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.br(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;lx(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Sr;return Wx.forEach(t.mutations,(function(i){var a=new XT(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Sr=r}))}},{key:"xn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new XT(t,0),r=this.Sr.firstAfterOrEqual(n);return Wx.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Wx.resolve()}},{key:"vr",value:function(e,t){return this.Dr(e)}},{key:"Dr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"br",value:function(e){var t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),$T=function(){function e(t){d(this,e),this.Fr=t,this.docs=new BA(Dx.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Fr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Wx.resolve(n?n.document.mutableCopy():T_.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=TS();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():T_.newInvalidDocument(e))})),Wx.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=TS(),a=t.path,o=new Dx(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||qx(Bx(l),n)<=0||(r.has(l.key)||xS(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Wx.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){cx()}},{key:"Mr",value:function(e,t){return Wx.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ZT(this)}},{key:"getSize",value:function(e){return Wx.resolve(this.size)}}]),e}(),ZT=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).ur=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ur.addEntry(e,i)):t.ur.removeEntry(r)})),Wx.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ur.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ur.getEntries(e,t)}}]),n}(FT),eC=function(){function e(t){d(this,e),this.persistence=t,this.Or=new IS((function(e){return tS(e)}),nS),this.lastRemoteSnapshotVersion=Cx.min(),this.highestTargetId=0,this.Nr=0,this.Br=new YT,this.targetCount=0,this.Lr=_T.Bn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.Or.forEach((function(e,n){return t(n)})),Wx.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Wx.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Wx.resolve(this.Nr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Lr.next(),Wx.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Nr&&(this.Nr=t),Wx.resolve()}},{key:"Qn",value:function(e){this.Or.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Lr=new _T(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Qn(t),this.targetCount+=1,Wx.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Qn(t),Wx.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,Wx.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Or.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Or.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Wx.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Wx.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Or.get(t)||null;return Wx.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Br.Ar(t,n),Wx.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Br.Vr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Wx.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Br.mr(t),Wx.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Br.pr(t);return Wx.resolve(n)}},{key:"containsKey",value:function(e,t){return Wx.resolve(this.Br.containsKey(t))}}]),e}(),tC=function(){function e(t,n){var r=this;d(this,e),this.kr={},this.overlays={},this.qr=new aA(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=t(this),this.Kr=new eC(this),this.indexManager=new oT,this.remoteDocumentCache=function(e){return new $T(e)}((function(e){return r.referenceDelegate.$r(e)})),this.serializer=new AE(n),this.Ur=new WT(this.serializer)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new QT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.kr[e.toKey()];return n||(n=new JT(t,this.referenceDelegate),this.kr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ur}},{key:"runTransaction",value:function(e,t,n){var r=this;ax("MemoryPersistence","Starting transaction:",e);var i=new nC(this.qr.next());return this.referenceDelegate.Wr(),n(i).next((function(e){return r.referenceDelegate.Gr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zr",value:function(e,t){return Wx.or(Object.values(this.kr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),nC=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(Gx),rC=function(){function e(t){d(this,e),this.persistence=t,this.jr=new YT,this.Hr=null}return g(e,[{key:"Yr",get:function(){if(this.Hr)return this.Hr;throw cx()}},{key:"addReference",value:function(e,t,n){return this.jr.addReference(n,t),this.Yr.delete(n.toString()),Wx.resolve()}},{key:"removeReference",value:function(e,t,n){return this.jr.removeReference(n,t),this.Yr.add(n.toString()),Wx.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Yr.add(t.toString()),Wx.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.jr.mr(t.targetId).forEach((function(e){return n.Yr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Yr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Wr",value:function(){this.Hr=new Set}},{key:"Gr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wx.forEach(this.Yr,(function(r){var i=Dx.fromPath(r);return t.Zr(e,i).next((function(e){e||n.removeEntry(i,Cx.min())}))})).next((function(){return t.Hr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zr(e,t).next((function(e){e?n.Yr.delete(t.toString()):n.Yr.add(t.toString())}))}},{key:"$r",value:function(e){return 0}},{key:"Zr",value:function(e,t){var n=this;return Wx.or([function(){return Wx.resolve(n.jr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zr(e,t)}])}}],[{key:"Jr",value:function(t){return new e(t)}}]),e}(),iC=function(){function e(t){d(this,e),this.serializer=t}return g(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new Qx("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dA,{unique:!0}),e.createObjectStore("documentMutations")}(e),aC(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Wx.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),aC(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Cx.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dA,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Wx.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.ei(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ti(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ni(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ri(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ii(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:TA});t.createIndex("collectionPathOverlayIndex",CA,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",NA,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:gA});t.createIndex("documentKeyIndex",yA),t.createIndex("collectionGroupIndex",kA)}(e)})).next((function(){return i.si(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.oi(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:_A}).createIndex("sequenceNumberIndex",SA,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:IA}).createIndex("documentKeyIndex",EA,{unique:!1})}(e)}))),o}},{key:"ti",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=yT(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"ei",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return Wx.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return Wx.forEach(r,(function(r){lx(r.userId===n.userId);var i=TE(t.serializer,r);return gT(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ni",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Px(n),o=function(e){return[0,cA(e)]}(a);r.push(t.get(o).next((function(n){return n?Wx.resolve():function(n){return t.put({targetId:0,path:cA(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Wx.waitFor(r)}))}))}},{key:"ri",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:AA});var n=t.store("collectionParents"),r=new sT,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:cA(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new Px(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],hA(r));return i(a.popLast())}))}))}},{key:"ii",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=CE(r),a=NE(t.serializer,i);return n.put(a)}))}},{key:"si",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Dx(Px.fromString(e.document.name).popFirst(5)):e.noDocument?Dx.fromSegments(e.noDocument.path):e.unknownDocument?Dx.fromSegments(e.unknownDocument.path):cx()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Wx.waitFor(r)}))}},{key:"oi",value:function(e,t){var n=this,r=t.store("mutations"),i=jT(this.serializer),a=new tC(rC.Jr,this.serializer.ht);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:MS();TE(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Wx.forEach(r,(function(e,r){var o=new tx(r),s=jE.Pt(n.serializer,o),u=a.getIndexManager(o),c=kT.Pt(o,n.serializer,u,a.referenceDelegate);return new HT(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new FA(t,aA.ae),e).next()}))}))}}]),e}();function aC(e){e.createObjectStore("targetDocuments",{keyPath:wA}).createIndex("documentTargetsIndex",xA,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bA,{unique:!0}),e.createObjectStore("targetGlobal")}var oC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sC=function(e,t){function n(e,t,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(d(this,n),this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this._i=a,this.window=o,this.document=s,this.ai=c,this.ui=l,this.ci=f,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=function(e){return Promise.resolve()},!n.C())throw new dx(hx.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new DT(this,i),this.Ti=t+"main",this.serializer=new AE(u),this.Ei=new Yx(this.Ti,this.ci,new iC(this.serializer)),this.Kr=new ST(this.referenceDelegate,this.serializer),this.remoteDocumentCache=jT(this.serializer),this.Ur=new LE,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,!1===l&&ox("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(n,[{key:"start",value:function(){var e=this;return this.Ri().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new dx(hx.FAILED_PRECONDITION,oC);return e.Vi(),e.mi(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Kr.getHighestSequenceNumber(t)}))})).then((function(t){e.qr=new aA(t,e.ai)})).then((function(){e.Qr=!0})).catch((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"gi",value:function(e){var t,n=this;return this.di=function(r){return(t=t||et($e().mark((function t(r){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.started){t.next=2;break}return t.abrupt("return",e(r));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)},e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){var t;this.Ei.k((function(n){return(t=t||et($e().mark((function t(n){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ri();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return cC(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.pi(t).next((function(t){t||(e.isPrimary=!1,e._i.enqueueRetryable((function(){return e.di(!1)})))}))})).next((function(){return e.yi(t)})).next((function(n){return e.isPrimary&&!n?e.wi(t).next((function(){return!1})):!!n&&e.Si(t).next((function(){return!0}))}))})).catch((function(t){if($x(t))return ax("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ax("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e._i.enqueueRetryable((function(){return e.di(t)})),e.isPrimary=t}))}},{key:"pi",value:function(e){var t=this;return uC(e).get("owner").next((function(e){return Wx.resolve(t.bi(e))}))}},{key:"Di",value:function(e){return cC(e).delete(this.clientId)}},{key:"Ci",value:function(){return(e=e||et($e().mark((function e(){var t,n,r,i,a=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vi(this.Ii,18e5)){e.next=6;break}return this.Ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=MA(e,"clientMetadata");return t.G().next((function(e){var n=a.Fi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Wx.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ai){n=E(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ai.removeItem(this.Mi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"fi",value:function(){var e=this;this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ri().then((function(){return e.Ci()})).then((function(){return e.fi()}))}))}},{key:"bi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"yi",value:function(e){var t=this;return this.ui?Wx.resolve(!0):uC(e).get("owner").next((function(n){if(null!==n&&t.vi(n.leaseTimestampMs,5e3)&&!t.xi(n.ownerId)){if(t.bi(n)&&t.networkEnabled)return!0;if(!t.bi(n)){if(!n.allowTabSynchronization)throw new dx(hx.FAILED_PRECONDITION,oC);return!1}}return!(!t.networkEnabled||!t.inForeground)||cC(e).G().next((function(e){return void 0===t.Fi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ax("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){return(t=t||et($e().mark((function e(){var t=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new FA(e,aA.ae);return t.wi(n).next((function(){return t.Di(n)}))}));case 7:this.Ei.close(),this.Li();case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Fi",value:function(e,t){var n=this;return e.filter((function(e){return n.vi(e.updateTimeMs,t)&&!n.xi(e.clientId)}))}},{key:"ki",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return cC(t).G().next((function(t){return e.Fi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Qr}},{key:"getMutationQueue",value:function(e,t){return kT.Pt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new cT(e,this.serializer.ht.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return jE.Pt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Ur}},{key:"runTransaction",value:function(e,t,n){var r=this;ax("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?LA:14===e?DA:13===e?OA:12===e?RA:11===e?PA:void cx()}(this.ci);return this.Ei.runTransaction(e,a,o,(function(a){return i=new FA(a,r.qr?r.qr.next():aA.ae),"readwrite-primary"===t?r.pi(i).next((function(e){return!!e||r.yi(i)})).next((function(t){if(!t)throw ox("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r._i.enqueueRetryable((function(){return r.di(!1)})),new dx(hx.FAILED_PRECONDITION,Kx);return n(i)})).next((function(e){return r.Si(i).next((function(){return e}))})):r.qi(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"qi",value:function(e){var t=this;return uC(e).get("owner").next((function(e){if(null!==e&&t.vi(e.leaseTimestampMs,5e3)&&!t.xi(e.ownerId)&&!t.bi(e)&&!(t.ui||t.allowTabSynchronization&&e.allowTabSynchronization))throw new dx(hx.FAILED_PRECONDITION,oC)}))}},{key:"Si",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uC(e).put("owner",t)}},{key:"wi",value:function(e){var t=this,n=uC(e);return n.get("owner").next((function(e){return t.bi(e)?(ax("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Wx.resolve()}))}},{key:"vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ox("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Vi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.hi=function(){e._i.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ri()}))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}},{key:"mi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.li=function(){t.Oi();var e=/(?:Version|Mobile)\/1[456]/;!_i()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t._i.enterRestrictedMode(!0),t._i.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.li))}},{key:"Bi",value:function(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}},{key:"xi",value:function(e){var t;try{var n=null!==(null===(t=this.Ai)||void 0===t?void 0:t.getItem(this.Mi(e)));return ax("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ox("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Oi",value:function(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){ox("Failed to set zombie client id.",e)}}},{key:"Li",value:function(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch(e){}}},{key:"Mi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Yx.C()}}]),n}();function uC(e){return MA(e,"owner")}function cC(e){return MA(e,"clientMetadata")}function lC(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var fC=function(){function e(t,n,r,i){d(this,e),this.targetId=t,this.fromCache=n,this.Qi=r,this.Ki=i}return g(e,null,[{key:"$i",value:function(t,n){var r,i=MS(),a=MS(),o=E(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),hC=function(){function e(){d(this,e),this._documentReadCount=0}return g(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),dC=function(){function e(){d(this,e),this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}return g(e,[{key:"initialize",value:function(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.Hi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new hC;return i.Yi(e,t,n).next((function(r){if(a.result=r,i.Wi)return i.Zi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Zi",value:function(e,t,n,r){return n.documentReadCount<this.Gi?(ix()<=ea.DEBUG&&ax("QueryEngine","SDK will not create cache indexes for query:",wS(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),Wx.resolve()):(ix()<=ea.DEBUG&&ax("QueryEngine","Query:",wS(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.zi*r?(ix()<=ea.DEBUG&&ax("QueryEngine","The SDK decides to create cache indexes for query:",wS(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vS(t))):Wx.resolve())}},{key:"Hi",value:function(e,t){var n=this;if(lS(t))return Wx.resolve(null);var r=vS(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=yS(t,null,"F"),r=vS(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=MS.apply(void 0,h(i));return n.ji.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Xi(t,i);return n.es(t,o,a,r.readTime)?n.Hi(e,yS(t,null,"F")):n.ts(e,o,t,r)}))}))})))}))}},{key:"Ji",value:function(e,t,n,r){var i=this;return lS(t)||r.isEqual(Cx.min())?Wx.resolve(null):this.ji.getDocuments(e,n).next((function(a){var o=i.Xi(t,a);return i.es(t,o,n,r)?Wx.resolve(null):(ix()<=ea.DEBUG&&ax("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wS(t)),i.ts(e,o,t,Vx(r,-1)).next((function(e){return e})))}))}},{key:"Xi",value:function(e,t){var n=new KA(_S(e));return t.forEach((function(t,r){xS(e,r)&&(n=n.add(r))})),n}},{key:"es",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Yi",value:function(e,t,n){return ix()<=ea.DEBUG&&ax("QueryEngine","Using full collection scan to execute query:",wS(t)),this.ji.getDocumentsMatchingQuery(e,t,zx.min(),n)}},{key:"ts",value:function(e,t,n,r){return this.ji.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),pC=function(){function e(t,n,r,i){d(this,e),this.persistence=t,this.ns=n,this.serializer=i,this.rs=new BA(Sx),this.ss=new IS((function(e){return tS(e)}),nS),this.os=new Map,this._s=t.getRemoteDocumentCache(),this.Kr=t.getTargetCache(),this.Ur=t.getBundleCache(),this.us(r)}return g(e,[{key:"us",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HT(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.rs)}))}}]),e}();function vC(e,t,n,r){return new pC(e,t,n,r)}function mC(e,t){return(nw=nw||et($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.us(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=MS(),u=E(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=E(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=E(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=E(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{cs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gC(e,t){var n=fx(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n._s.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Wx.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);lx(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=MS(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function yC(e){var t=fx(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Kr.getLastRemoteSnapshotVersion(e)}))}function kC(e,t){var n=fx(e),r=t.snapshotVersion,i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Kr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Kr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(YA.EMPTY_BYTE_STRING,Cx.min()).withLastLimboFreeSnapshotVersion(Cx.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Kr.updateTargetData(e,c))}}));var s=TS(),u=MS();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(bC(e,a,t.documentUpdates).next((function(e){s=e.ls,u=e.hs}))),!r.isEqual(Cx.min())){var c=n.Kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Wx.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.rs=i,e}))}function bC(e,t,n){var r=MS(),i=MS();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=TS();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Cx.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ax("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ls:r,hs:i}}))}function wC(e,t){var n=fx(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function xC(e,t){var n=fx(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Kr.getTargetData(e,t).next((function(i){return i?(r=i,Wx.resolve(r)):n.Kr.allocateTargetId(e).next((function(i){return r=new xE(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.rs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.rs=n.rs.insert(e.targetId,e),n.ss.set(t,e.targetId)),e}))}function AC(e,t,n){return(rw=rw||et($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fx(t),a=i.rs.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),$x(e.t1)){e.next=12;break}throw e.t1;case 12:ax("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.rs=i.rs.remove(n),i.ss.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function _C(e,t,n){var r=fx(e),i=Cx.min(),a=MS();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=fx(e),i=r.ss.get(n);return void 0!==i?Wx.resolve(r.rs.get(i)):r.Kr.getTargetData(t,n)}(r,e,vS(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ns.getDocumentsMatchingQuery(e,t,n?i:Cx.min(),n?a:MS())})).next((function(e){return EC(r,AS(t),e),{documents:e,Ps:a}}))}))}function SC(e,t){var n=fx(e),r=fx(n.Kr),i=n.rs.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function IC(e,t){var n=fx(e),r=n.os.get(t)||Cx.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n._s.getAllFromCollectionGroup(e,t,Vx(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return EC(n,t,e),e}))}function EC(e,t,n){var r=e.os.get(t)||Cx.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.os.set(t,r)}function TC(e,t,n,r){return(iw=iw||et($e().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=fx(t),o=MS(),s=TS(),u=E(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Is(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ds(l)).setReadTime(n.Ts(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a._s.newChangeBuffer({trackRemovals:!0}),e.next=7,xC(a,function(e){return vS(cS(Px.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return bC(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Kr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Kr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ls,t.hs)})).next((function(){return t.ls}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CC(e,t){return(aw=aw||et($e().mark((function e(t,n){var r,i,a,o=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:MS(),e.next=3,xC(t,vS(PE(n.bundledQuery)));case 3:return i=e.sent,a=fx(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=XI(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ur.saveNamedQuery(e,n);var o=i.withResumeToken(YA.EMPTY_BYTE_STRING,t);return a.rs=a.rs.insert(o.targetId,o),a.Kr.updateTargetData(e,o).next((function(){return a.Kr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Kr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ur.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NC(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function PC(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function RC(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var OC=function(){function e(t,n,r,i){d(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"As",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new dx(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ox("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),DC=function(){function e(t,n,r){d(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"As",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new dx(i.error.code,i.error.message))),a?new e(t,i.state,r):(ox("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),LC=function(){function e(t,n){d(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"Es",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=US(),o=0;i&&o<r.activeTargetIds.length;++o)i=uA(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ox("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),FC=function(){function e(t,n){d(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"Es",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ox("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),MC=function(){function e(){d(this,e),this.activeTargetIds=US()}return g(e,[{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Vs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"As",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),jC=function(e,t){function n(e,t,r,i,a){d(this,n),this.window=e,this._i=t,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new BA(Sx),this.started=!1,this.ws=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Ss=NC(this.persistenceKey,this.fs),this.bs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ys=this.ys.insert(this.fs,new MC),this.Ds=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Cs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.vs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Fs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ms=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}return g(n,[{key:"start",value:function(){return(e=e||et($e().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ki();case 2:t=e.sent,n=E(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.fs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(NC(this.persistenceKey,i)))&&(o=LC.Es(i,a))&&(this.ys=this.ys.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.xs(),(s=this.storage.getItem(this.Fs))&&(u=this.Os(s))&&this.Ns(u),c=E(this.ws);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ps(f)}catch(d){c.e(d)}finally{c.f()}this.ws=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})))).apply(this,arguments)}},{key:"writeSequenceNumber",value:function(e){this.setItem(this.bs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Bs(this.ys)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ys.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ls(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ls(e,t,n),this.ks(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(RC(this.persistenceKey,e));if(n){var r=DC.Es(e,n);r&&(t=r.state)}}return this.qs.Rs(e),this.xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.qs.Vs(e),this.xs()}},{key:"isLocalQueryTarget",value:function(e){return this.qs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(RC(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Qs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.ks(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ks(e)}},{key:"notifyBundleLoaded",value:function(e){this.$s(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ax("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ax("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ax("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ps",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ax("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ss)return void ox("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable(et($e().mark((function e(){var r,i,a,o,s,u,c;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ds.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Us(n.key),e.abrupt("return",t.Ws(r,null));case 6:if(!(i=t.Gs(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Ws(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Cs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.zs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.js(a));case 16:e.next=41;break;case 18:if(!t.vs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Hs(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Js(o));case 23:e.next=41;break;case 25:if(n.key!==t.Fs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Os(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ns(s));case 30:e.next=41;break;case 32:if(n.key!==t.bs){e.next=37;break}u=function(e){var t=aA.ae;if(null!=e)try{var n=JSON.parse(e);lx("number"==typeof n),t=n}catch(e){ox("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==aA.ae&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Ms){e.next=41;break}return c=t.Ys(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Zs(e)})));case 41:e.next=44;break;case 43:t.ws.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"qs",get:function(){return this.ys.get(this.fs)}},{key:"xs",value:function(){this.setItem(this.Ss,this.qs.As())}},{key:"Ls",value:function(e,t,n){var r=new OC(this.currentUser,e,t,n),i=PC(this.persistenceKey,this.currentUser,e);this.setItem(i,r.As())}},{key:"ks",value:function(e){var t=PC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ks",value:function(e){var t={clientId:this.fs,onlineState:e};this.storage.setItem(this.Fs,JSON.stringify(t))}},{key:"Qs",value:function(e,t,n){var r=RC(this.persistenceKey,e),i=new DC(e,t,n);this.setItem(r,i.As())}},{key:"$s",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Ms,t)}},{key:"Us",value:function(e){var t=this.Ds.exec(e);return t?t[1]:null}},{key:"Gs",value:function(e,t){var n=this.Us(e);return LC.Es(n,t)}},{key:"zs",value:function(e,t){var n=this.Cs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return OC.Es(new tx(i),r,t)}},{key:"Hs",value:function(e,t){var n=this.vs.exec(e),r=Number(n[1]);return DC.Es(r,t)}},{key:"Os",value:function(e){return FC.Es(e)}},{key:"Ys",value:function(e){return JSON.parse(e)}},{key:"js",value:function(e){return(t=t||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Xs(t.batchId,t.state,t.error));case 2:ax("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Js",value:function(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}},{key:"Ws",value:function(e,t){var n=this,r=t?this.ys.insert(e,t):this.ys.remove(e),i=this.Bs(this.ys),a=this.Bs(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.no(o,s).then((function(){n.ys=r}))}},{key:"Ns",value:function(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Bs",value:function(e){var t=US();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),n}(),UC=function(){function e(){d(this,e),this.ro=new MC,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.ro.Rs(e),this.io[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.io[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.ro.Vs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.io[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.ro.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"start",value:function(){return this.ro=new MC,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),VC=function(){function e(){d(this,e)}return g(e,[{key:"so",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),BC=function(){function e(){var t=this;d(this,e),this.oo=function(){return t._o()},this.ao=function(){return t.uo()},this.co=[],this.lo()}return g(e,[{key:"so",value:function(e){this.co.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}},{key:"lo",value:function(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}},{key:"_o",value:function(){ax("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=E(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"uo",value:function(){ax("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=E(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),zC=null;function qC(){return null===zC?zC=268435456+Math.round(2147483648*Math.random()):zC++,"0x"+zC.toString(16)}var KC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},GC=function(){function e(t){d(this,e),this.ho=t.ho,this.Po=t.Po}return g(e,[{key:"Io",value:function(e){this.To=e}},{key:"Eo",value:function(e){this.Ao=e}},{key:"onMessage",value:function(e){this.Ro=e}},{key:"close",value:function(){this.Po()}},{key:"send",value:function(e){this.ho(e)}},{key:"Vo",value:function(){this.To()}},{key:"mo",value:function(e){this.Ao(e)}},{key:"fo",value:function(e){this.Ro(e)}}]),e}(),HC="WebChannelConnection",WC=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return g(n,[{key:"vo",value:function(e,t,n,r){var i=qC();return new Promise((function(a,o){var s=new Jw;s.setWithCredentials(!0),s.listenOnce(Ww.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Hw.NO_ERROR:var t=s.getResponseJson();ax(HC,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Hw.TIMEOUT:ax(HC,"RPC '".concat(e,"' ").concat(i," timed out")),o(new dx(hx.DEADLINE_EXCEEDED,"Request time out"));break;case Hw.HTTP_ERROR:var n=s.getStatus();if(ax(HC,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(hx).indexOf(t)>=0?t:hx.UNKNOWN}(u.status);o(new dx(c,u.message))}else o(new dx(hx.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new dx(hx.UNAVAILABLE,"Connection failed."));break;default:cx()}}finally{ax(HC,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);ax(HC,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Mo",value:function(e,t,n){var r=qC(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Kw(),o=Gw(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Co(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");ax(HC,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new GC({ho:function(t){h?ax(HC,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(ax(HC,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),ax(HC,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},Po:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,Xw.EventType.OPEN,(function(){h||ax(HC,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,Xw.EventType.CLOSE,(function(){h||(h=!0,ax(HC,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.mo())})),p(l,Xw.EventType.ERROR,(function(t){h||(h=!0,sx(HC,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.mo(new dx(hx.UNAVAILABLE,"The operation could not be completed")))})),p(l,Xw.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];lx(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){ax(HC,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=mI[e];if(void 0!==t)return SI(t)}(s),c=o.message;void 0===u&&(u=hx.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.mo(new dx(u,c)),l.close()}else ax(HC,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.fo(i)}})),p(o,Qw.STAT_EVENT,(function(t){t.stat===Yw.PROXY?ax(HC,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Yw.NOPROXY&&ax(HC,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Vo()}),0),d}}]),n}(function(){function e(t){d(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo="projects/".concat(r,"/databases/").concat(i),this.wo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return g(e,[{key:"So",get:function(){return!1}},{key:"bo",value:function(e,t,n,r,i){var a=qC(),o=this.Do(e,t);ax("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(s,r,i),this.vo(e,o,s,n).then((function(t){return ax("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw sx("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Fo",value:function(e,t,n,r,i,a){return this.bo(e,t,n,r,i)}},{key:"Co",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+nx,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Do",value:function(e,t){var n=KC[e];return"".concat(this.po,"/v1/").concat(t,":").concat(n)}}]),e}());function QC(){return"undefined"!=typeof window?window:null}function YC(){return"undefined"!=typeof document?document:null}function XC(e){return new GI(e,!0)}var JC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;d(this,e),this._i=t,this.timerId=n,this.xo=r,this.Oo=i,this.No=a,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.Bo=0}},{key:"qo",value:function(){this.Bo=this.No}},{key:"Qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&ax("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,(function(){return t.ko=Date.now(),e()})),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}},{key:"$o",value:function(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}},{key:"cancel",value:function(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"Ko",value:function(){return(Math.random()-.5)*this.Bo}}]),e}(),$C=function(e,t,n){function r(e,t,n,i,a,o,s,u){d(this,r),this._i=e,this.Uo=n,this.Wo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new JC(e,t)}return g(r,[{key:"Jo",value:function(){return 1===this.state||5===this.state||this.Yo()}},{key:"Yo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Zo()}},{key:"stop",value:function(){return(e=e||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Xo",value:function(){this.state=0,this.Ho.reset()}},{key:"e_",value:function(){var e=this;this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,(function(){return e.t_()})))}},{key:"n_",value:function(e){this.r_(),this.stream.send(e)}},{key:"t_",value:function(){return(t=t||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Yo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"i_",value:function(){this.jo&&(this.jo.cancel(),this.jo=null)}},{key:"close",value:function(e,t){return(n=n||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.r_(),this.i_(),this.Ho.cancel(),this.Go++,4!==t?this.Ho.reset():n&&n.code===hx.RESOURCE_EXHAUSTED?(ox(n.toString()),ox("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===hx.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.s_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Eo(n);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"s_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Go===n&&e.__(i,a)}),(function(n){t((function(){var t=new dx(hx.UNKNOWN,"Fetching auth token failed: "+n.message);return e.a_(t)}))}))}},{key:"__",value:function(e,t){var n=this,r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io((function(){r((function(){return n.state=2,n.jo=n._i.enqueueAfterDelay(n.Wo,1e4,(function(){return n.Yo()&&(n.state=3),Promise.resolve()})),n.listener.Io()}))})),this.stream.Eo((function(e){r((function(){return n.a_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Zo",value:function(){var e=this;this.state=5,this.Ho.Qo(et($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"a_",value:function(e){return ax("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"o_",value:function(e){var t=this;return function(n){t._i.enqueueAndForget((function(){return t.Go===e?n():(ax("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),r}(),ZC=function(e){k(n,e);var t=A(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return g(n,[{key:"u_",value:function(e,t){return this.connection.Mo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Ho.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:cx()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(lx(void 0===t||"string"==typeof t),YA.fromBase64String(t||"")):(lx(void 0===t||t instanceof Uint8Array),YA.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?hx.UNKNOWN:SI(e.code);return new dx(t,e.message||"")}(o);n=new MI(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=eE(e,u.document.name),l=XI(u.document.updateTime),f=u.document.createTime?XI(u.document.createTime):Cx.min(),h=new I_({mapValue:{fields:u.document.fields}}),d=T_.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new LI(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=eE(e,m.document),y=m.readTime?XI(m.readTime):Cx.min(),k=T_.newNoDocument(g,y),b=m.removedTargetIds||[];n=new LI([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=eE(e,w.document),A=w.removedTargetIds||[];n=new LI([],A,x,null)}else{if(!("filter"in t))return cx();t.filter;var _=t.filter;_.targetId;var S=_.count,I=void 0===S?0:S,E=_.unchangedNames,T=new AI(I,E),C=_.targetId;n=new FI(C,T)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Cx.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Cx.min():t.readTime?XI(t.readTime):Cx.min()}(e);return this.listener.c_(t,n)}},{key:"l_",value:function(e){var t={};t.database=rE(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=rS(r)?{documents:lE(e,r)}:{query:fE(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=QI(e,t.resumeToken);var i=HI(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Cx.min())>0){n.readTime=WI(e,t.snapshotVersion.toTimestamp());var a=HI(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cx()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.n_(t)}},{key:"h_",value:function(e){var t={};t.database=rE(this.serializer),t.removeTarget=e,this.n_(t)}}]),n}($C),eN=function(e){k(n,e);var t=A(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.P_=!1,u}return g(n,[{key:"I_",get:function(){return this.P_}},{key:"start",value:function(){this.P_=!1,this.lastStreamToken=void 0,jl(b(n.prototype),"start",this).call(this)}},{key:"s_",value:function(){this.P_&&this.d_([])}},{key:"u_",value:function(e,t){return this.connection.Mo("Write",e,t)}},{key:"onMessage",value:function(e){if(lx(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();var t=function(e,t){return e&&e.length>0?(lx(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?XI(e.updateTime):XI(t);return n.isEqual(Cx.min())&&(n=XI(t)),new nI(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=XI(e.commitTime);return this.listener.T_(n,t)}return lx(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}},{key:"A_",value:function(){var e={};e.database=rE(this.serializer),this.n_(e)}},{key:"d_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return uE(t.serializer,e)}))};this.n_(n)}}]),n}($C),tN=function(e){k(n,e);var t=A(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.R_=!1,o}return g(n,[{key:"V_",value:function(){if(this.R_)throw new dx(hx.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"bo",value:function(e,t,n){var r=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.connection.bo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hx.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new dx(hx.UNKNOWN,e.toString())}))}},{key:"Fo",value:function(e,t,n,r){var i=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),s=o[0],u=o[1];return i.connection.Fo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hx.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new dx(hx.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.R_=!0}}]),n}(g((function e(){d(this,e)})));var nN=function(){function e(t,n){d(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}return g(e,[{key:"y_",value:function(){var e=this;0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.g_=null,e.S_("Backend didn't respond within 10 seconds."),e.w_("Offline"),Promise.resolve()})))}},{key:"b_",value:function(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.w_("Offline")))}},{key:"set",value:function(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}},{key:"w_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"S_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.p_?(ox(t),this.p_=!1):ax("OnlineStateTracker",t)}},{key:"D_",value:function(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}]),e}(),rN=g((function e(t,n,r,i,a){var o=this;d(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=a,this.x_.so((function(e){r.enqueueAndForget(et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=hN(o),!e.t0){e.next=5;break}return ax("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(e){return(t=t||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fx(t)).F_.add(4),e.next=4,aN(n);case 4:return n.O_.set("Unknown"),n.F_.delete(4),e.next=8,iN(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(o);case 5:case"end":return e.stop()}}),e)}))))})),this.O_=new nN(r,i)}));function iN(e){return(ow=ow||et($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hN(t)){e.next=18;break}n=E(t.M_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function aN(e){return(sw=sw||et($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=E(t.M_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function oN(e,t){var n=fx(e);n.v_.has(t.targetId)||(n.v_.set(t.targetId,t),fN(n)?lN(n):NN(n).Yo()&&uN(n,t))}function sN(e,t){var n=fx(e),r=NN(n);n.v_.delete(t),r.Yo()&&cN(n,t),0===n.v_.size&&(r.Yo()?r.e_():hN(n)&&n.O_.set("Unknown"))}function uN(e,t){if(e.N_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Cx.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}NN(e).l_(t)}function cN(e,t){e.N_.Le(t),NN(e).h_(t)}function lN(e){e.N_=new UI({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.v_.get(t)||null},st:function(){return e.datastore.serializer.databaseId}}),NN(e).start(),e.O_.y_()}function fN(e){return hN(e)&&!NN(e).Jo()&&e.v_.size>0}function hN(e){return 0===fx(e).F_.size}function dN(e){e.N_=void 0}function pN(e){return(uw=uw||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.v_.forEach((function(e,n){uN(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vN(e,t){return(cw=cw||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dN(t),fN(t)?(t.O_.b_(n),lN(t)):t.O_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mN(e,t,n){return(lw=lw||et($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.O_.set("Online"),!(n instanceof MI&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(e,t){return(i=i||et($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=E(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.v_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.v_.delete(o),t.N_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})))).apply(this,arguments)}(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ax("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,gN(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof LI?t.N_.Ge(n):n instanceof FI?t.N_.Xe(n):t.N_.He(n),r.isEqual(Cx.min())){e.next=29;break}return e.prev=14,e.next=17,yC(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.N_._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.v_.get(r);i&&e.v_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.v_.get(t);if(r){e.v_.set(t,r.withResumeToken(YA.EMPTY_BYTE_STRING,r.snapshotVersion)),cN(e,t);var i=new xE(r.target,t,n,r.sequenceNumber);uN(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ax("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,gN(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])})))).apply(this,arguments)}function gN(e,t,n){return(fw=fw||et($e().mark((function e(t,n,r){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($x(n)){e.next=2;break}throw n;case 2:return t.F_.add(1),e.next=5,aN(t);case 5:t.O_.set("Offline"),r||(r=function(){return yC(t.localStore)}),t.asyncQueue.enqueueRetryable(et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ax("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.F_.delete(1),e.next=6,iN(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yN(e,t){return t().catch((function(n){return gN(e,n,t)}))}function kN(e){return(hw=hw||et($e().mark((function e(t){var n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fx(t),r=PN(n),i=n.C_.length>0?n.C_[n.C_.length-1].batchId:-1;case 2:if(!bN(n)){e.next=19;break}return e.prev=3,e.next=6,wC(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.C_.length&&r.e_(),e.abrupt("break",19);case 10:i=a.batchId,wN(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,gN(n,e.t0);case 17:e.next=2;break;case 19:xN(n)&&AN(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function bN(e){return hN(e)&&e.C_.length<10}function wN(e,t){e.C_.push(t);var n=PN(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function xN(e){return hN(e)&&!PN(e).Jo()&&e.C_.length>0}function AN(e){PN(e).start()}function _N(e){return(dw=dw||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:PN(t).A_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SN(e){return(pw=pw||et($e().mark((function e(t){var n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=PN(t),r=E(t.C_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.d_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IN(e,t,n){return(vw=vw||et($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.C_.shift(),a=wI.from(i,n,r),e.next=3,yN(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,kN(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EN(e,t){return(mw=mw||et($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&PN(t).I_,!e.t0){e.next=4;break}return e.next=4,function(e,t){return(r=r||et($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return _I(e)&&e!==hx.ABORTED}(n.code)){e.next=7;break}return r=t.C_.shift(),PN(t).Xo(),e.next=5,yN(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,kN(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,n);case 4:xN(t)&&AN(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TN(e,t){return(gw=gw||et($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=fx(t)).asyncQueue.verifyOperationInProgress(),ax("RemoteStore","RemoteStore received new credentials"),i=hN(r),r.F_.add(3),e.next=6,aN(r);case 6:return i&&r.O_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.F_.delete(3),e.next=12,iN(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CN(e,t){return(yw=yw||et($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fx(t),!n){e.next=7;break}return r.F_.delete(2),e.next=5,iN(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.F_.add(2),e.next=12,aN(r);case 12:r.O_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NN(e){var t;return e.B_||(e.B_=function(e,t,n){var r=fx(e);return r.V_(),new ZC(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:pN.bind(null,e),Eo:vN.bind(null,e),c_:mN.bind(null,e)}),e.M_.push((function(n){return(t=t||et($e().mark((function t(n){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.B_.Xo(),fN(e)?lN(e):e.O_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.B_.stop();case 6:dN(e);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))),e.B_}function PN(e){var t;return e.L_||(e.L_=function(e,t,n){var r=fx(e);return r.V_(),new eN(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:_N.bind(null,e),Eo:EN.bind(null,e),E_:SN.bind(null,e),T_:IN.bind(null,e)}),e.M_.push((function(n){return(t=t||et($e().mark((function t(n){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.L_.Xo(),t.next=4,kN(e);case 4:t.next=9;break;case 6:return t.next=8,e.L_.stop();case 8:e.C_.length>0&&(ax("RemoteStore","Stopping write stream with ".concat(e.C_.length," pending writes")),e.C_=[]);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}))),e.L_}var RN=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new px,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dx(hx.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ON(e,t){if(ox("AsyncQueue","".concat(t,": ").concat(e)),$x(e))return new dx(hx.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var DN=function(){function e(t){d(this,e),this.comparator=t?function(e,n){return t(e,n)||Dx.comparator(e.key,n.key)}:function(e,t){return Dx.comparator(e.key,t.key)},this.keyedMap=NS(),this.sortedSet=new BA(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),LN=function(){function e(){d(this,e),this.k_=new BA(Dx.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.k_.get(t);n?0!==e.type&&3===n.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==n.type?this.k_=this.k_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.k_=this.k_.remove(t):1===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):cx():this.k_=this.k_.insert(t,e)}},{key:"q_",value:function(){var e=[];return this.k_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),FN=function(){function e(t,n,r,i,a,o,s,u,c){d(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,DN.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),MN=g((function e(){d(this,e),this.Q_=void 0,this.listeners=[]})),jN=g((function e(){d(this,e),this.queries=new IS((function(e){return bS(e)}),kS),this.onlineState="Unknown",this.K_=new Set}));function UN(e,t){return(kw=kw||et($e().mark((function e(t,n){var r,i,a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fx(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new MN),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=ON(e.t0,"Initialization of query '".concat(wS(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.U_(r.onlineState),o.Q_&&n.W_(o.Q_)&&qN(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function VN(e,t){return(bw=bw||et($e().mark((function e(t,n){var r,i,a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fx(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BN(e,t){var n,r=fx(e),i=!1,a=E(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=E(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.W_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&qN(r)}function zN(e,t,n){var r=fx(e),i=r.queries.get(t);if(i){var a,o=E(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function qN(e){e.K_.forEach((function(e){e.next()}))}var KN=function(){function e(t,n,r){d(this,e),this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"W_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=E(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new FN(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.z_?this.H_(e)&&(this.G_.next(e),a=!0):this.J_(e,this.onlineState)&&(this.Y_(e),a=!0),this.j_=e,a}},{key:"onError",value:function(e){this.G_.error(e)}},{key:"U_",value:function(e){this.onlineState=e;var t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}},{key:"J_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"H_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Y_",value:function(e){e=FN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}]),e}(),GN=function(){function e(t,n){d(this,e),this.X_=t,this.byteLength=n}return g(e,[{key:"ea",value:function(){return"metadata"in this.X_}}]),e}(),HN=function(){function e(t){d(this,e),this.serializer=t}return g(e,[{key:"Is",value:function(e){return eE(this.serializer,e)}},{key:"ds",value:function(e){return e.metadata.exists?oE(this.serializer,e.document,!1):T_.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}},{key:"Ts",value:function(e){return XI(e)}}]),e}(),WN=function(e){function t(e,n,r){d(this,t),this.ta=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=QN(e)}return g(t,[{key:"na",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;var n=Px.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ra",value:function(e){var t,n=new Map,r=new HN(this.serializer),i=E(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Is(a.metadata.name),u=E(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||MS()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){return(e=e||et($e().mark((function e(){var t,n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TC(this.localStore,new HN(this.serializer),this.documents,this.ta.id);case 2:t=e.sent,n=this.ra(this.documents),r=E(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,CC(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})))).apply(this,arguments)}}]),t}();function QN(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var YN=g((function e(t){d(this,e),this.key=t})),XN=g((function e(t){d(this,e),this.key=t})),JN=function(){function e(t,n){d(this,e),this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=MS(),this.mutatedKeys=MS(),this.ua=_S(t),this.ca=new DN(this.ua)}return g(e,[{key:"la",get:function(){return this.oa}},{key:"ha",value:function(e,t){var n=this,r=t?t.Pa:new LN,i=t?t.ca:this.ca,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=xS(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Ia(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.ua(f,u)>0||c&&n.ua(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,es:s,mutatedKeys:a}}},{key:"Ia",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;var a=e.Pa.q_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cx()}};return n(e)-n(t)}(e.type,t.type)||r.ua(e.doc,t.doc)})),this.da(n);var o=t?this.Ta():[],s=0===this.aa.size&&this.current?1:0,u=s!==this._a;return this._a=s,0!==a.length||u?{snapshot:new FN(this.query,e.ca,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}},{key:"U_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new LN,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}},{key:"Aa",value:function(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}},{key:"da",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.oa=t.oa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.oa=t.oa.delete(e)})),this.current=e.current)}},{key:"Ta",value:function(){var e=this;if(!this.current)return[];var t=this.aa;this.aa=MS(),this.ca.forEach((function(t){e.Aa(t.key)&&(e.aa=e.aa.add(t.key))}));var n=[];return t.forEach((function(t){e.aa.has(t)||n.push(new XN(t))})),this.aa.forEach((function(e){t.has(e)||n.push(new YN(e))})),n}},{key:"Ra",value:function(e){this.oa=e.Ps,this.aa=MS();var t=this.ha(e.documents);return this.applyChanges(t,!0)}},{key:"Va",value:function(){return FN.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}]),e}(),$N=g((function e(t,n,r){d(this,e),this.query=t,this.targetId=n,this.view=r})),ZN=g((function e(t){d(this,e),this.key=t,this.ma=!1})),eP=function(){function e(t,n,r,i,a,o){d(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new IS((function(e){return bS(e)}),kS),this.pa=new Map,this.ya=new Set,this.wa=new BA(Dx.comparator),this.Sa=new Map,this.ba=new YT,this.Da={},this.Ca=new Map,this.va=_T.Ln(),this.onlineState="Unknown",this.Fa=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.Fa}}]),e}();function tP(e,t){return(ww=ww||et($e().mark((function e(t,n){var r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=NP(t),!(o=r.ga.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Va(),e.next=15;break;case 6:return e.next=8,xC(r.localStore,vS(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,nP(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&oN(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nP(e,t,n,r,i){return(xw=xw||et($e().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ma=function(e,n,r){var i;return function(e,t,n,r){return(i=i||et($e().mark((function e(t,n,r,i){var a,o,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ha(r),e.t0=a.es,!e.t0){e.next=6;break}return e.next=5,_C(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ha(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(vP(t,n.targetId,s.Ea),s.snapshot));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,e,n,r)},e.next=3,_C(t.localStore,n,!0);case 3:return o=e.sent,s=new JN(n,o.Ps),u=s.ha(o.documents),c=DI.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),vP(t,r,l.Ea),f=new $N(n,r,s),e.abrupt("return",(t.ga.set(n,f),t.pa.has(r)?t.pa.get(r).push(n):t.pa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rP(e,t){return(Aw=Aw||et($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fx(t),i=r.ga.get(n),!((a=r.pa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.pa.set(i.targetId,a.filter((function(e){return!kS(e,n)}))),void r.ga.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,AC(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),sN(r.remoteStore,i.targetId),dP(r,i.targetId)})).catch(Hx);case 9:e.next=14;break;case 11:return dP(r,i.targetId),e.next=14,AC(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iP(e,t,n){return(_w=_w||et($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=PP(t),e.prev=1,e.next=4,function(e,t){var n,r,i=fx(e),a=Tx.now(),o=t.reduce((function(e,t){return e.add(t.key)}),MS());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=TS(),u=MS();return i._s.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=E(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=cI(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new hI(c.key,l,E_(l.value.mapValue),rI.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:PS(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Da[e.currentUser.toKey()];r||(r=new BA(Sx)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,yP(i,a.changes);case 9:return e.next=11,kN(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ON(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function aP(e,t){return(Sw=Sw||et($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),e.prev=1,e.next=4,kC(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Sa.get(t);n&&(lx(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ma=!0:e.modifiedDocuments.size>0?lx(n.ma):e.removedDocuments.size>0&&(lx(n.ma),n.ma=!1))})),e.next=8,yP(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Hx(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function oP(e,t,n){var r=fx(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ga.forEach((function(e,n){var r=n.view.U_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=fx(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=E(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.U_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&qN(n)}(r.eventManager,t),i.length&&r.fa.c_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function sP(e,t,n){return(Iw=Iw||et($e().mark((function e(t,n,r){var i,a,o,s,u,c;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=fx(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Sa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new BA(Dx.comparator)).insert(o,T_.newNoDocument(o,Cx.min())),u=MS().add(o),c=new OI(Cx.min(),new Map,new BA(Sx),s,u),e.next=9,aP(i,c);case 9:i.wa=i.wa.remove(o),i.Sa.delete(n),gP(i),e.next=16;break;case 14:return e.next=16,AC(i.localStore,n,!1).then((function(){return dP(i,n,r)})).catch(Hx);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uP(e,t){return(Ew=Ew||et($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),i=n.batch.batchId,e.prev=1,e.next=4,gC(r.localStore,n);case 4:return a=e.sent,hP(r,i,null),fP(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,yP(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Hx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function cP(e,t,n){return(Tw=Tw||et($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fx(t),e.prev=1,e.next=4,function(e,t){var n=fx(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return lx(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,hP(i,n,r),fP(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,yP(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Hx(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function lP(e,t){return(Cw=Cw||et($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hN((r=fx(t)).remoteStore)||ax("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=fx(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ca.get(i)||[]).push(n),r.Ca.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ON(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function fP(e,t){(e.Ca.get(t)||[]).forEach((function(e){e.resolve()})),e.Ca.delete(t)}function hP(e,t,n){var r=fx(e),i=r.Da[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function dP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=E(e.pa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ga.delete(a),n&&e.fa.xa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.pa.delete(t),e.isPrimaryClient&&e.ba.mr(t).forEach((function(t){e.ba.containsKey(t)||pP(e,t)}))}function pP(e,t){e.ya.delete(t.path.canonicalString());var n=e.wa.get(t);null!==n&&(sN(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),gP(e))}function vP(e,t,n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof YN?(e.ba.addReference(a.key,t),mP(e,a)):a instanceof XN?(ax("SyncEngine","Document no longer in limbo: "+a.key),e.ba.removeReference(a.key,t),e.ba.containsKey(a.key)||pP(e,a.key)):cx()}}catch(o){i.e(o)}finally{i.f()}}function mP(e,t){var n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(ax("SyncEngine","New document in limbo: "+n),e.ya.add(r),gP(e))}function gP(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){var t=e.ya.values().next().value;e.ya.delete(t);var n=new Dx(Px.fromString(t)),r=e.va.next();e.Sa.set(r,new ZN(n)),e.wa=e.wa.insert(n,r),oN(e.remoteStore,new xE(vS(cS(n.path)),r,"TargetPurposeLimboResolution",aA.ae))}}function yP(e,t,n){return(Nw=Nw||et($e().mark((function e(t,n,r){var i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=fx(t),o=[],s=[],u=[],e.t0=a.ga.isEmpty(),e.t0){e.next=9;break}return a.ga.forEach((function(e,t){u.push(a.Ma(t,n,r).then((function(e){if((e||r)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){o.push(e);var n=fC.$i(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(u);case 6:return a.fa.c_(o),e.next=9,function(e,t){return(i=i||et($e().mark((function e(t,n){var r,i,a,o,s,u,c,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Wx.forEach(n,(function(t){return Wx.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Wx.forEach(t.Ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),$x(e.t0)){e.next=10;break}throw e.t0;case 10:ax("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=E(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.rs.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.rs=r.rs.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}(a.localStore,s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kP(e,t){return(Pw=Pw||et($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=fx(t)).currentUser.isEqual(n)){e.next=11;break}return ax("SyncEngine","User change. New user:",n.toKey()),e.next=5,mC(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ca.forEach((function(e){e.forEach((function(e){e.reject(new dx(hx.CANCELLED,t))}))})),e.Ca.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,yP(r,i.cs);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bP(e,t){var n=fx(e),r=n.Sa.get(t);if(r&&r.ma)return MS().add(r.key);var i=MS(),a=n.pa.get(t);if(!a)return i;var o,s=E(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ga.get(u);i=i.unionWith(c.view.la)}}catch(l){s.e(l)}finally{s.f()}return i}function wP(e,t){return(Rw=Rw||et($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),e.next=3,_C(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ra(i),e.abrupt("return",(r.isPrimaryClient&&vP(r,n.targetId,a.Ea),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xP(e,t){return(Ow=Ow||et($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),e.abrupt("return",IC(r.localStore,n).then((function(e){return yP(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AP(e,t,n,r){return(Dw=Dw||et($e().mark((function e(t,n,r,i){var a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fx(t),e.next=3,function(e,t){var n=fx(e),r=fx(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Fn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Wx.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,kN(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(hP(a,n,i||null),fP(a,n),function(e,t){fx(fx(e).mutationQueue).xn(t)}(a.localStore,n)):cx();case 11:return e.next=13,yP(a,o);case 13:e.next=16;break;case 15:ax("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _P(e,t){return(Lw=Lw||et($e().mark((function e(t,n){var r,i,a,o,s,u,c,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(NP(r=fx(t)),PP(r),!0!==n||!0===r.Fa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,SP(r,i.toArray());case 5:return a=e.sent,r.Fa=!0,e.next=9,CN(r.remoteStore,!0);case 9:o=E(a);try{for(o.s();!(s=o.n()).done;)u=s.value,oN(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Fa){e.next=25;break}return c=[],l=Promise.resolve(),r.pa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return dP(r,t),AC(r.localStore,t,!0)})),sN(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,SP(r,c);case 21:return function(e){var t=fx(e);t.Sa.forEach((function(e,n){sN(t.remoteStore,n)})),t.ba.gr(),t.Sa=new Map,t.wa=new BA(Dx.comparator)}(r),r.Fa=!1,e.next=25,CN(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SP(e,t,n){return(Fw=Fw||et($e().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,g;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=fx(t),a=[],o=[],s=E(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.pa.get(c))||0===f.length){e.next=34;break}return e.next=11,xC(i.localStore,vS(f[0]));case 11:l=e.sent,h=E(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ga.get(p),e.next=20,wP(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,SC(i.localStore,c);case 36:return g=e.sent,e.next=39,xC(i.localStore,g);case 39:return l=e.sent,e.next=42,nP(i,IP(g),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.fa.c_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function IP(e){return uS(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function EP(e){return function(e){return fx(fx(e).persistence).ki()}(fx(e).localStore)}function TP(e,t,n,r){return(Mw=Mw||et($e().mark((function e(t,n,r,i){var a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=fx(t)).Fa){e.next=3;break}return e.abrupt("return",void ax("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.pa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,IC(a.localStore,AS(o[0]));case 10:return s=e.sent,u=OI.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,YA.EMPTY_BYTE_STRING),e.next=14,yP(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,AC(a.localStore,n,!0);case 17:return dP(a,n,i),e.abrupt("break",20);case 19:cx();case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CP(e,t,n){return(jw=jw||et($e().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=NP(t)).Fa){e.next=45;break}a=E(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.pa.has(s)){e.next=10;break}return ax("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,SC(i.localStore,s);case 12:return u=e.sent,e.next=15,xC(i.localStore,u);case 15:return c=e.sent,e.next=18,nP(i,IP(u),c.targetId,!1,c.resumeToken);case 18:oN(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=E(r),e.prev=30,h=$e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.pa.has(t),!e.t0){e.next=5;break}return e.next=5,AC(i.localStore,t,!1).then((function(){sN(i.remoteStore,t),dP(i,t)})).catch(Hx);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function NP(e){var t=fx(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sP.bind(null,t),t.fa.c_=BN.bind(null,t.eventManager),t.fa.xa=zN.bind(null,t.eventManager),t}function PP(e){var t=fx(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cP.bind(null,t),t}function RP(e,t,n){var r,i=fx(e);(function(e,t,n){return(r=r||et($e().mark((function e(t,n,r){var i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=fx(e),r=XI(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ur.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(QN(i)),a=new WN(i,t.localStore,n.serializer),e.next=15,n.Oa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.na(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.Oa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,yP(t,u.sa,void 0);case 31:return e.next=33,function(e,t){var n=fx(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ur.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.ia));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(sx("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})))).apply(this,arguments)})(i,t,n).then((function(e){i.sharedClientState.notifyBundleLoaded(e)}))}var OP=function(e,t){function n(){d(this,n),this.synchronizeTabs=!1}return g(n,[{key:"initialize",value:function(t){return(e=e||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=XC(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return vC(this.persistence,new dC,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new tC(rC.Jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new UC}},{key:"terminate",value:function(){return(t=t||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),n}(),DP=function(e,t){k(r,e);var n=A(r);function r(e,t,i){var a;return d(this,r),(a=n.call(this)).Na=e,a.cacheSizeBytes=t,a.forceOwnership=i,a.synchronizeTabs=!1,a}return g(r,[{key:"initialize",value:function(e){return(t=t||et($e().mark((function e(t){var n=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl(b(r.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Na.initialize(this,t);case 4:return e.next=6,PP(this.Na.syncEngine);case 6:return e.next=8,kN(this.Na.remoteStore);case 8:return e.next=10,this.persistence.gi((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createLocalStore",value:function(e){return vC(this.persistence,new dC,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new PT(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new iA(t,this.persistence);return new rA(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=lC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?mT.withCacheSize(this.cacheSizeBytes):mT.DEFAULT;return new sC(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,QC(),YC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new UC}}]),r}(OP),LP=function(e,t){k(r,e);var n=A(r);function r(e,t){var i;return d(this,r),(i=n.call(this,e,t,!1)).Na=e,i.cacheSizeBytes=t,i.synchronizeTabs=!0,i}return g(r,[{key:"initialize",value:function(e){return(t=t||et($e().mark((function e(t){var n,i,a=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl(b(r.prototype),"initialize",this).call(this,t);case 2:if(i=this.Na.syncEngine,e.t0=this.sharedClientState instanceof jC,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Xs:AP.bind(null,i),eo:TP.bind(null,i),no:CP.bind(null,i),ki:EP.bind(null,i),Zs:xP.bind(null,i)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.gi((function(e){return(n=n||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_P(a.Na.syncEngine,t);case 2:a.gcScheduler&&(t&&!a.gcScheduler.started?a.gcScheduler.start():t||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(t&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():t||a.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createSharedClientState",value:function(e){var t=QC();if(!jC.C(t))throw new dx(hx.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),r}(DP),FP=function(e){function t(){d(this,t)}return g(t,[{key:"initialize",value:function(t,n){return(e=e||et($e().mark((function e(t,n){var r=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return oP(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kP.bind(null,this.syncEngine),e.next=12,CN(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"createEventManager",value:function(e){return new jN}},{key:"createDatastore",value:function(e){var t=XC(e.databaseInfo.databaseId),n=function(e){return new WC(e)}(e.databaseInfo);return function(e,t,n,r){return new tN(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new rN(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return oP(t.syncEngine,e,0)}),BC.C()?new BC:new VC)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new eP(e,t,n,r,i,a);return o&&(s.Fa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){var e;return function(t){return(e=e||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fx(t),ax("RemoteStore","RemoteStore shutting down."),n.F_.add(5),e.next=5,aN(n);case 5:n.x_.shutdown(),n.O_.set("Unknown");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this.remoteStore)}}]),t}();function MP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return et($e().mark((function r(){var i;return $e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var jP=function(){function e(t){d(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Ba(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ba(this.observer.error,e):ox("Uncaught Error in snapshot listener:",e.toString())}},{key:"La",value:function(){this.muted=!0}},{key:"Ba",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),UP=function(e,t,n,r,i,a){function o(e,t){var n=this;d(this,o),this.ka=e,this.serializer=t,this.metadata=new px,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((function(e){e&&e.ea()?n.metadata.resolve(e.X_.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(function(e){return n.metadata.reject(e)}))}return g(o,[{key:"close",value:function(){return this.ka.cancel()}},{key:"getMetadata",value:function(){return(e=e||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Oa",value:function(){return(t=t||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Qa());case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Qa",value:function(){return(n=n||et($e().mark((function e(){var t,n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ka();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.qa.decode(t),r=Number(n),isNaN(r)&&this.$a("length string (".concat(n,") is not valid number")),e.next=9,this.Ua(r);case 9:return i=e.sent,e.abrupt("return",new GN(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Wa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ka",value:function(){return(r=r||et($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Wa()<0)){e.next=7;break}return e.next=3,this.Ga();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Wa())<0&&this.$a("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"Ua",value:function(e){return(i=i||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ga();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.$a("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.qa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"$a",value:function(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ga",value:function(){return(a=a||et($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ka.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}}]),o}(),VP=function(e,t){function n(e){d(this,n),this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(n,[{key:"lookup",value:function(t){return(e=e||et($e().mark((function e(t){var n,r,i=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new dx(hx.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(e,t){return(n=n||et($e().mark((function e(t,n){var r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),i=rE(r.serializer)+"/documents",a={documents:n.map((function(e){return ZI(r.serializer,e)}))},e.next=5,r.Fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=sE(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());lx(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this.datastore,t);case 4:return r=e.sent,e.abrupt("return",(r.forEach((function(e){return i.recordVersion(e)})),r));case 6:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new yI(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){return(t=t||et($e().mark((function e(){var t,n,r=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return n=this.readVersions,this.mutations.forEach((function(e){n.delete(e.key.toString())})),n.forEach((function(e,t){var n=Dx.fromPath(t);r.mutations.push(new kI(n,r.precondition(n)))})),e.next=7,function(e,n){return(t=t||et($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fx(t),i=rE(r.serializer)+"/documents",a={writes:n.map((function(e){return uE(r.serializer,e)}))},e.next=3,r.bo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw cx();t=Cx.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new dx(hx.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Cx.min())?rI.exists(!1):rI.updateTime(t):rI.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Cx.min()))throw new dx(hx.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rI.updateTime(t)}return rI.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),n}(),BP=function(){function e(t,n,r,i,a){d(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.za=r.maxAttempts,this.Ho=new JC(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.za-=1,this.ja()}},{key:"ja",value:function(){var e=this;this.Ho.Qo(et($e().mark((function t(){var n,r;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new VP(e.datastore),(r=e.Ha(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ja(t)}))}))})).catch((function(t){e.Ja(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ha",value:function(e){try{var t=this.updateFunction(e);return!oA(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ja",value:function(e){var t=this;this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((function(){return t.ja(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ya",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!_I(t)}return!1}}]),e}(),zP=function(e){function t(e,n,r,i){var a,o=this;d(this,t),this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tx.UNAUTHENTICATED,this.clientId=_x.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,(function(e){return(a=a||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ax("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),this.appCheckCredentials.start(r,(function(e){return ax("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return g(t,[{key:"getConfiguration",value:function(){return(e=e||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new dx(hx.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new px;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(et($e().mark((function n(){var r;return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ON(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),t}();function qP(e,t){return(Uw=Uw||et($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ax("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return i=e.sent,e.next=6,n.initialize(i);case 6:a=i.initialUser,t.setCredentialChangeListener((function(e){return(r=r||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,mC(n.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)})),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KP(e,t){return(Vw=Vw||et($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,HP(t);case 3:return r=e.sent,ax("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return TN(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return TN(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GP(e){return"FirebaseError"===e.name?e.code===hx.FAILED_PRECONDITION||e.code===hx.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function HP(e){return(Bw=Bw||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return ax("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,qP(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),GP(n=e.t0)){e.next=13;break}throw n;case 13:return sx("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,qP(t,new OP);case 16:e.next=21;break;case 18:return ax("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,qP(t,new OP);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function WP(e){return(zw=zw||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return ax("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,KP(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return ax("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,KP(t,new FP);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QP(e){return HP(e).then((function(e){return e.persistence}))}function YP(e){return HP(e).then((function(e){return e.localStore}))}function XP(e){return WP(e).then((function(e){return e.remoteStore}))}function JP(e){return WP(e).then((function(e){return e.syncEngine}))}function $P(e){return WP(e).then((function(e){return e.datastore}))}function ZP(e){return(qw=qw||et($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WP(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=tP.bind(null,n.syncEngine),r.onUnlisten=rP.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new px;return e.asyncQueue.enqueueAndForget(et($e().mark((function i(){return $e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new jP({next:function(a){t.enqueueAndForget((function(){return VN(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new dx(hx.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new dx(hx.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new KN(cS(n.path),a,{includeMetadataChanges:!0,Z_:!0});return UN(e,o)},i.next=3,ZP(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function tR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new px;return e.asyncQueue.enqueueAndForget(et($e().mark((function i(){return $e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new jP({next:function(n){t.enqueueAndForget((function(){return VN(e,o)})),n.fromCache&&"server"===r.source?i.reject(new dx(hx.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new KN(n,a,{includeMetadataChanges:!0,Z_:!0});return UN(e,o)},i.next=3,ZP(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function nR(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var rR=new Map;function iR(e,t,n){if(!n)throw new dx(hx.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function aR(e,t,n,r){if(!0===t&&!0===r)throw new dx(hx.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function oR(e){if(!Dx.isDocumentKey(e))throw new dx(hx.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sR(e){if(Dx.isDocumentKey(e))throw new dx(hx.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function uR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":cx()}function cR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dx(hx.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=uR(e);throw new dx(hx.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function lR(e,t){if(t<=0)throw new dx(hx.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var fR=function(){function e(t){var n,r;if(d(this,e),void 0===t.host){if(void 0!==t.ssl)throw new dx(hx.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new dx(hx.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nR(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new dx(hx.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new dx(hx.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new dx(hx.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),hR=function(){function e(t,n,r,i){d(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fR({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new dx(hx.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new dx(hx.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fR(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new mx;switch(e.type){case"firstParty":return new bx(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new dx(hx.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=rR.get(e);t&&(ax("ComponentProvider","Removing Datastore"),rR.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function dR(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=cR(e,hR))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&sx("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=tx.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[pi(JSON.stringify({alg:"none",type:"JWT"})),pi(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new dx(hx.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new tx(c)}e._authCredentials=new gx(new vx(s,u))}}var pR=function(){function e(t,n,r){d(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),vR=function(){function e(t,n,r){d(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new mR(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),mR=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this,e,r,cS(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new vR(this.firestore,null,new Dx(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(pR);function gR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qi(e),iR("collection","path",t),e instanceof hR){var a=Px.fromString.apply(Px,[t].concat(r));return sR(a),new mR(e,null,a)}if(!(e instanceof vR||e instanceof mR))throw new dx(hx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Px.fromString.apply(Px,[t].concat(r)));return sR(o),new mR(e.firestore,null,o)}function yR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qi(e),1===arguments.length&&(t=_x.V()),iR("doc","path",t),e instanceof hR){var a=Px.fromString.apply(Px,[t].concat(r));return oR(a),new vR(e,null,new Dx(a))}if(!(e instanceof vR||e instanceof mR))throw new dx(hx.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Px.fromString.apply(Px,[t].concat(r)));return oR(o),new vR(e.firestore,e instanceof mR?e.converter:null,new Dx(o))}function kR(e,t){return e=Qi(e),t=Qi(t),(e instanceof vR||e instanceof mR)&&(t instanceof vR||t instanceof mR)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function bR(e,t){return e=Qi(e),t=Qi(t),e instanceof pR&&t instanceof pR&&e.firestore===t.firestore&&kS(e._query,t._query)&&e.converter===t.converter}var wR=function(e,t){function n(){var e=this;d(this,n),this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new JC(this,"async_queue_retry"),this.ou=function(){var t=YC();t&&ax("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Ho.$o()};var t=YC();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ou)}return g(n,[{key:"isShuttingDown",get:function(){return this.eu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this._u(),this.au(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.eu){this.eu=!0,this.iu=e||!1;var t=YC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}},{key:"enqueue",value:function(e){var t=this;if(this._u(),this.eu)return new Promise((function(){}));var n=new px;return this.au((function(){return t.eu&&t.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Xa.push(e),t.uu()}))}},{key:"uu",value:function(){return(e=e||et($e().mark((function e(){var t=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Xa.length){e.next=14;break}return e.prev=1,e.next=4,this.Xa[0]();case 4:this.Xa.shift(),this.Ho.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),$x(e.t0)){e.next=12;break}throw e.t0;case 12:ax("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Xa.length>0&&this.Ho.Qo((function(){return t.uu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})))).apply(this,arguments)}},{key:"au",value:function(e){var t=this,n=this.Za.then((function(){return t.ru=!0,e().catch((function(e){t.nu=e,t.ru=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ox("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.ru=!1,e}))}));return this.Za=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this._u(),this.su.indexOf(e)>-1&&(t=0);var i=RN.createAndSchedule(this,e,t,n,(function(e){return r.cu(e)}));return this.tu.push(i),i}},{key:"_u",value:function(){this.nu&&cx()}},{key:"verifyOperationInProgress",value:function(){}},{key:"lu",value:function(){return(t=t||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Za,e.next=3,t;case 3:if(t!==this.Za){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"hu",value:function(e){var t,n=E(this.tu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.lu().then((function(){t.tu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=E(t.tu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.lu()}))}},{key:"Iu",value:function(e){this.su.push(e)}},{key:"cu",value:function(e){var t=this.tu.indexOf(e);this.tu.splice(t,1)}}]),n}();function xR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=E(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var AR=function(){function e(){d(this,e),this._progressObserver={},this._taskCompletionResolver=new px,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),_R=function(e){k(n,e);var t=A(n);function n(e,r,i,a){var o;return d(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new wR,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||IR(this),this._firestoreClient.terminate()}}]),n}(hR);function SR(e){return e._firestoreClient||IR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function IR(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new r_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,nR(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new zP(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function ER(e,t,n){var r=new px;return e.asyncQueue.enqueue(et($e().mark((function i(){var a;return $e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,qP(e,n);case 3:return i.next=5,KP(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),GP(a=i.t0)){i.next=13;break}throw a;case 13:sx("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function TR(e){return function(e){var t=new px;return e.asyncQueue.enqueueAndForget(et($e().mark((function n(){return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=lP,n.next=3,JP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(SR(e=cR(e,_R)))}function CR(e){return function(e){return e.asyncQueue.enqueue(et($e().mark((function t(){var n,r;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,QP(e);case 2:return n=t.sent,t.next=5,XP(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=fx(e);return t.F_.delete(0),iN(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(SR(e=cR(e,_R)))}function NR(e){return function(e){return e.asyncQueue.enqueue(et($e().mark((function t(){var n,r,i;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,QP(e);case 2:return r=t.sent,t.next=5,XP(e);case 5:return i=t.sent,t.abrupt("return",(r.setNetworkEnabled(!1),function(e){return(n=n||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fx(t)).F_.add(0),e.next=4,aN(n);case 4:n.O_.set("Offline");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(i)));case 7:case"end":return t.stop()}}),t)}))))}(SR(e=cR(e,_R)))}function PR(e,t){var n=SR(e=cR(e,_R)),r=new AR;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new UP(e,t)}(function(e,t){if(e instanceof Uint8Array)return MP(e,t);if(e instanceof ArrayBuffer)return MP(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?EI().encode(e):e),t)}(n,XC(t));e.asyncQueue.enqueueAndForget(et($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=RP,t.next=3,JP(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function RR(e,t){return function(e,t){return e.asyncQueue.enqueue(et($e().mark((function n(){return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=fx(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ur.getNamedQuery(e,t)}))},n.next=3,YP(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(SR(e=cR(e,_R)),t).then((function(t){return t?new pR(e,null,t.query):null}))}function OR(e){if(e._initialized||e._terminated)throw new dx(hx.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var DR=function(){function e(t){d(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(YA.fromBase64String(t))}catch(t){throw new dx(hx.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(YA.fromUint8Array(t))}}]),e}(),LR=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new dx(hx.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ox(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var FR=g((function e(t){d(this,e),this._methodName=t})),MR=function(){function e(t,n){if(d(this,e),!isFinite(t)||t<-90||t>90)throw new dx(hx.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dx(hx.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Sx(this._lat,e._lat)||Sx(this._long,e._long)}}]),e}(),jR=/^__.*__$/,UR=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new hI(e,this.data,this.fieldMask,t,this.fieldTransforms):new fI(e,this.data,t,this.fieldTransforms)}}]),e}(),VR=function(){function e(t,n,r){d(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new hI(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function BR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cx()}}var zR=function(){function e(t,n,r,i,a,o){d(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.du(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"Tu",get:function(){return this.settings.Tu}},{key:"Eu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Au",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.Vu(e),r}},{key:"mu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.du(),r}},{key:"fu",value:function(e){return this.Eu({path:void 0,Ru:!0})}},{key:"gu",value:function(e){return uO(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"du",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}},{key:"Vu",value:function(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(BR(this.Tu)&&jR.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}]),e}(),qR=function(){function e(t,n,r){d(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||XC(t)}return g(e,[{key:"wu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zR({Tu:e,methodName:t,yu:n,path:Ox.emptyPath(),Ru:!1,pu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function KR(e){var t=e._freezeSettings(),n=XC(e._databaseId);return new qR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function GR(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wu(a.merge||a.mergeFields?2:0,t,n,i);iO("Data must be an object, but it was:",o,r);var s,u,c=nO(r,o);if(a.merge)s=new WA(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=E(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=aO(t,l.value,n);if(!o.contains(d))throw new dx(hx.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));cO(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new WA(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new UR(new I_(c),s,u)}var HR=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Tu)throw 1===e.Tu?e.gu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(FR);function WR(e,t,n){return new zR({Tu:3,yu:t.settings.yu,methodName:e._methodName,Ru:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var QR=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new tI(e.path,new WS)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(FR),YR=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).Su=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=WR(this,e,!0),n=this.Su.map((function(e){return tO(e,t)})),r=new QS(n);return new tI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FR),XR=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).Su=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=WR(this,e,!0),n=this.Su.map((function(e){return tO(e,t)})),r=new XS(n);return new tI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FR),JR=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e)).bu=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new $S(e.serializer,zS(e.serializer,this.bu));return new tI(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(FR);function $R(e,t,n,r){var i=e.wu(1,t,n);iO("Data must be an object, but it was:",i,r);var a=[],o=I_.empty();UA(r,(function(e,r){var s=sO(t,e,n);r=Qi(r);var u=i.mu(s);if(r instanceof HR)a.push(s);else{var c=tO(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new WA(a);return new VR(o,s,i.fieldTransforms)}function ZR(e,t,n,r,i,a){var o=e.wu(1,t,n),s=[aO(t,r,n)],u=[i];if(a.length%2!=0)throw new dx(hx.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(aO(t,a[c])),u.push(a[c+1]);for(var l=[],f=I_.empty(),h=s.length-1;h>=0;--h)if(!cO(l,s[h])){var d=s[h],p=u[h];p=Qi(p);var v=o.mu(d);if(p instanceof HR)l.push(d);else{var m=tO(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new WA(l);return new VR(f,g,o.fieldTransforms)}function eO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tO(n,e.wu(r?4:3,t))}function tO(e,t){if(rO(e=Qi(e)))return iO("Unsupported field value:",t,e),nO(e,t);if(e instanceof FR)return function(e,t){if(!BR(t.Tu))throw t.gu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&4!==t.Tu)throw t.gu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=E(e);try{for(a.s();!(n=a.n()).done;){var o=tO(n.value,t.fu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Qi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zS(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Tx.fromDate(e);return{timestampValue:WI(t.serializer,n)}}if(e instanceof Tx){var r=new Tx(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:WI(t.serializer,r)}}if(e instanceof MR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof DR)return{bytesValue:QI(t.serializer,e._byteString)};if(e instanceof vR){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.gu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:JI(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.gu("Unsupported field value: ".concat(uR(e)))}(e,t)}function nO(e,t){var n={};return VA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):UA(e,(function(e,r){var i=tO(r,t.Au(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function rO(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Tx||e instanceof MR||e instanceof DR||e instanceof vR||e instanceof FR)}function iO(e,t,n){if(!rO(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=uR(n);throw"an object"===r?t.gu(e+" a custom object"):t.gu(e+" "+r)}}function aO(e,t,n){if((t=Qi(t))instanceof LR)return t._internalPath;if("string"==typeof t)return sO(e,t);throw uO("Field path arguments must be of type string or ",e,!1,void 0,n)}var oO=new RegExp("[~\\*/\\[\\]]");function sO(e,t,n){if(t.search(oO)>=0)throw uO("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return _(LR,h(t.split(".")))._internalPath}catch(rg){throw uO("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function uO(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new dx(hx.INVALID_ARGUMENT,s+e+u)}function cO(e,t){return e.some((function(e){return e.isEqual(t)}))}var lO=function(){function e(t,n,r,i,a){d(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new vR(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new fO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(hO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),fO=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return jl(b(n.prototype),"data",this).call(this)}}]),n}(lO);function hO(e,t){return"string"==typeof t?sO(e,t):t instanceof LR?t._internalPath:t._delegate._internalPath}function dO(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new dx(hx.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var pO=g((function e(){d(this,e)})),vO=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n)}(pO);function mO(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof pO&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof kO})).length,n=e.filter((function(e){return e instanceof gO})).length;if(t>1||t>0&&n>0)throw new dx(hx.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=E(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var gO=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return PO(e._query,t),new pR(e.firestore,e.converter,gS(e._query,t))}},{key:"_parse",value:function(e){var t=KR(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new dx(hx.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){NO(o,a);var u,c=[],l=E(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(CO(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=CO(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||NO(o,a),s=eO(n,t,o,"in"===a||"not-in"===a);return L_.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vO);function yO(e,t,n){var r=t,i=hO("where",e);return gO._create(i,r,n)}var kO=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:F_.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=E(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;PO(r,a),r=gS(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new pR(e.firestore,e.converter,gS(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(pO);var bO=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new dx(hx.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new dx(hx.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new R_(t,n);return function(e,t){if(null===fS(e)){var n=hS(e);null!==n&&RO(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new pR(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new sS(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(vO);var wO=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return g(n,[{key:"_apply",value:function(e){return new pR(e.firestore,e.converter,yS(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vO);var xO=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=TO(e,this.type,this._docOrFields,this._inclusive);return new pR(e.firestore,e.converter,function(e,t){return new sS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vO);function AO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xO._create("startAt",t,!0)}function _O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xO._create("startAfter",t,!1)}var SO=function(e){k(n,e);var t=A(n);function n(e,r,i){var a;return d(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=TO(e,this.type,this._docOrFields,this._inclusive);return new pR(e.firestore,e.converter,function(e,t){return new sS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(vO);function IO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return SO._create("endBefore",t,!1)}function EO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return SO._create("endAt",t,!0)}function TO(e,t,n,r){if(n[0]=Qi(n[0]),n[0]instanceof lO)return function(e,t,n,r,i){if(!r)throw new dx(hx.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=E(pS(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(p_(t,r.key));else{var c=r.data.field(u.field);if(e_(c))throw new dx(hx.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new dx(hx.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new C_(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=KR(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new dx(hx.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new dx(hx.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!dS(e)&&-1!==c.indexOf("/"))throw new dx(hx.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Px.fromString(c));if(!Dx.isDocumentKey(l))throw new dx(hx.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Dx(l);s.push(p_(t,f))}else{var h=eO(n,r,c);s.push(h)}}return new C_(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function CO(e,t,n){if("string"==typeof(n=Qi(n))){if(""===n)throw new dx(hx.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dS(t)&&-1!==n.indexOf("/"))throw new dx(hx.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Px.fromString(n));if(!Dx.isDocumentKey(r))throw new dx(hx.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return p_(e,new Dx(r))}if(n instanceof vR)return p_(e,n._key);throw new dx(hx.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(uR(n),"."))}function NO(e,t){if(!Array.isArray(e)||0===e.length)throw new dx(hx.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function PO(e,t){if(t.isInequality()){var n=hS(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new dx(hx.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=fS(e);null!==i&&RO(e,r,i)}var a=function(e,t){var n,r=E(e);try{for(r.s();!(n=r.n()).done;){var i,a=E(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new dx(hx.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new dx(hx.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function RO(e,t,n){if(!n.isEqual(t))throw new dx(hx.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var OO=function(){function e(){d(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(s_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $A(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ZA(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cx()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return UA(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new MR($A(e.latitude),$A(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=t_(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(n_(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=JA(e);return new Tx(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Px.fromString(e);lx(wE(n));var r=new i_(n.get(1),n.get(3)),i=new Dx(n.popFirst(5));return r.isEqual(t)||ox("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function DO(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var LO=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new DR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vR(this.firestore,null,t)}}]),n}(OO);var FO=function(){function e(t,n){d(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),MO=function(e){k(n,e);var t=A(n);function n(e,r,i,a,o,s){var u;return d(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return g(n,[{key:"exists",value:function(){return jl(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new jO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(hO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(lO),jO=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jl(b(n.prototype),"data",this).call(this,e)}}]),n}(MO),UO=function(){function e(t,n,r,i){d(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new FO(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new jO(n._firestore,n._userDataWriter,r.key,r,new FO(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dx(hx.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new jO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new jO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:VO(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function VO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cx()}}function BO(e,t){return e instanceof MO&&t instanceof MO?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof UO&&t instanceof UO&&e._firestore===t._firestore&&bR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function zO(e){e=cR(e,vR);var t=cR(e.firestore,_R);return eR(SR(t),e._key).then((function(n){return ZO(t,e,n)}))}var qO=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new DR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vR(this.firestore,null,t)}}]),n}(OO);function KO(e){e=cR(e,vR);var t=cR(e.firestore,_R),n=SR(t),r=new qO(t);return function(e,t){var n=new px;return e.asyncQueue.enqueueAndForget(et($e().mark((function r(){var i;return $e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(e,t,n){return(i=i||et($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=fx(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new dx(hx.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ON(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)},r.next=3,YP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new MO(t,r,e._key,n,new FO(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function GO(e){e=cR(e,pR);var t=cR(e.firestore,_R),n=SR(t),r=new qO(t);return dO(e._query),tR(n,e._query).then((function(n){return new UO(t,r,e,n)}))}function HO(e){e=cR(e,pR);var t=cR(e.firestore,_R),n=SR(t),r=new qO(t);return function(e,t){var n=new px;return e.asyncQueue.enqueueAndForget(et($e().mark((function r(){var i;return $e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(e,t,n){return(i=i||et($e().mark((function e(t,n,r){var i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_C(t,n,!0);case 3:i=e.sent,a=new JN(n,i.Ps),o=a.ha(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=ON(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)},r.next=3,YP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new UO(t,r,e,n)}))}function WO(e){e=cR(e,pR);var t=cR(e.firestore,_R),n=SR(t),r=new qO(t);return tR(n,e._query,{source:"server"}).then((function(n){return new UO(t,r,e,n)}))}function QO(e,t,n){e=cR(e,vR);var r=cR(e.firestore,_R),i=DO(e.converter,t,n);return $O(r,[GR(KR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rI.none())])}function YO(e,t,n){e=cR(e,vR);for(var r=cR(e.firestore,_R),i=KR(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return $O(r,[("string"==typeof(t=Qi(t))||t instanceof LR?ZR(i,"updateDoc",e._key,t,n,o):$R(i,"updateDoc",e._key,t)).toMutation(e._key,rI.exists(!0))])}function XO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Qi(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||xR(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(xR(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof vR)l=cR(e.firestore,_R),f=cS(e._key.path),c={next:function(t){n[u]&&n[u](ZO(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=cR(e,pR);l=cR(p.firestore,_R),f=p._query;var v=new qO(l);c={next:function(e){n[u]&&n[u](new UO(l,v,p,e))},error:n[u+1],complete:n[u+2]},dO(e._query)}return function(e,t,n,r){var i=new jP(r),a=new KN(t,i,n);return e.asyncQueue.enqueueAndForget(et($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=UN,t.next=3,ZP(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.La(),e.asyncQueue.enqueueAndForget(et($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=VN,t.next=3,ZP(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(SR(l),f,h,c)}function JO(e,t){return function(e,t){var n=new jP(t);return e.asyncQueue.enqueueAndForget(et($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fx(e).K_.add(t),t.next()},t.next=3,ZP(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.La(),e.asyncQueue.enqueueAndForget(et($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fx(e).K_.delete(t)},t.next=3,ZP(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(SR(e=cR(e,_R)),xR(t)?t:{next:t})}function $O(e,t){return function(e,t){var n=new px;return e.asyncQueue.enqueueAndForget(et($e().mark((function r(){return $e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=iP,r.next=3,JP(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(SR(e),t)}function ZO(e,t,n){var r=n.docs.get(t._key),i=new qO(e);return new MO(e,i,t._key,r,new FO(n.hasPendingWrites,n.fromCache),t.converter)}var eD={maxAttempts:5},tD=function(){function e(t,n){d(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=KR(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=nD(e,this._firestore),i=DO(r.converter,t,n),a=GR(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,rI.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=nD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Qi(t))||t instanceof LR?ZR(this._dataReader,"WriteBatch.update",i._key,t,n,o):$R(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,rI.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=nD(e,this._firestore);return this._mutations=this._mutations.concat(new yI(t._key,rI.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new dx(hx.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function nD(e,t){if((e=Qi(e)).firestore!==t)throw new dx(hx.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var rD=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=nD(e,this._firestore),i=new qO(this._firestore);return jl(b(n.prototype),"get",this).call(this,e).then((function(e){return new MO(t._firestore,i,r._key,e._document,new FO(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){d(this,e),this._firestore=t,this._transaction=n,this._dataReader=KR(t)}return g(e,[{key:"get",value:function(e){var t=this,n=nD(e,this._firestore),r=new LO(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return cx();var i=e[0];if(i.isFoundDocument())return new lO(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lO(t._firestore,r,n._key,null,n.converter);throw cx()}))}},{key:"set",value:function(e,t,n){var r=nD(e,this._firestore),i=DO(r.converter,t,n),a=GR(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=nD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Qi(t))||t instanceof LR?ZR(this._dataReader,"Transaction.update",i._key,t,n,o):$R(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=nD(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function iD(e,t,n){e=cR(e,_R);var r=Object.assign(Object.assign({},eD),n);return function(e){if(e.maxAttempts<1)throw new dx(hx.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new px;return e.asyncQueue.enqueueAndForget(et($e().mark((function i(){var a;return $e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,$P(e);case 2:a=i.sent,new BP(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(SR(e),(function(n){return t(new rD(e,n))}),r)}function aD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new YR("arrayUnion",t)}function oD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new XR("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){nx=e}(Ya),za(new Yi("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new _R(new yx(e.getProvider("auth-internal")),new xx(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new dx(hx.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new i_(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),eo(ex,"4.2.0",e),eo(ex,"4.2.0","esm2017")}();function sD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new dx("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function uD(){if("undefined"===typeof Uint8Array)throw new dx("unimplemented","Uint8Arrays are not available in this environment.")}function cD(){if("undefined"==typeof atob)throw new dx("unimplemented","Blobs are unavailable in Firestore in this environment.")}var lD=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return cD(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return uD(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return cD(),new e(DR.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return uD(),new e(DR.fromUint8Array(t))}}]),e}();function fD(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=E(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var hD=function(){function e(){d(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){OR(e=cR(e,_R));var n=SR(e);if(n._uninitializedComponentsProvider)throw new dx(hx.FAILED_PRECONDITION,"SDK cache is already specified.");sx("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new FP;return ER(n,i,new DP(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){OR(e=cR(e,_R));var t=SR(e);if(t._uninitializedComponentsProvider)throw new dx(hx.FAILED_PRECONDITION,"SDK cache is already specified.");sx("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new FP;return ER(t,r,new LP(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new dx(hx.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new px;return e._queue.enqueueAndForgetEvenWhileRestricted(et($e().mark((function n(){var r;return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(e){return(r=r||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yx.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Yx.delete(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(lC(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),dD=function(){function e(t,n,r){var i=this;d(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof i_||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||sx("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dR(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return CR(this._delegate)}},{key:"disableNetwork",value:function(){return NR(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&aR("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return TR(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return JO(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new dx("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new ED(this,gR(this._delegate,e))}catch(t){throw kD(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new yD(this,yR(this._delegate,e))}catch(t){throw kD(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new _D(this,function(e,t){if(e=cR(e,hR),iR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new dx(hx.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new pR(e,null,function(e){return new sS(Px.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw kD(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return iD(this._delegate,(function(n){return e(new vD(t,n))}))}},{key:"batch",value:function(){var e=this;return SR(this._delegate),new mD(new tD(this._delegate,(function(t){return $O(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return PR(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return RR(this._delegate,e).then((function(e){return e?new _D(t,e):null}))}}]),e}(),pD=function(e){k(n,e);var t=A(n);function n(e){var r;return d(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new lD(new DR(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return yD.forKey(t,this.firestore,null)}}]),n}(OO);var vD=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new pD(t)}return g(e,[{key:"get",value:function(e){var t=this,n=TD(e);return this._delegate.get(n).then((function(e){return new xD(t._firestore,new MO(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=TD(e);return n?(sD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=TD(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=TD(e);return this._delegate.delete(t),this}}]),e}(),mD=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=TD(e);return n?(sD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=TD(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=TD(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),gD=function(){function e(t,n,r){d(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new jO(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new AD(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new pD(t),n),i.set(n,a)),a}}]),e}();gD.INSTANCES=new WeakMap;var yD=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new pD(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new ED(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new ED(this.firestore,gR(this._delegate,e))}catch(t){throw kD(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Qi(e))instanceof vR&&kR(this._delegate,e)}},{key:"set",value:function(e,t){t=sD("DocumentReference.set",t);try{return t?QO(this._delegate,e,t):QO(this._delegate,e)}catch(n){throw kD(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?YO(this._delegate,e):YO.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw kD(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return $O(cR(e.firestore,_R),[new yI(e._key,rI.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bD(n),a=wD(n,(function(t){return new xD(e.firestore,new MO(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return XO(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?KO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=cR(e,vR);var t=cR(e.firestore,_R);return eR(SR(t),e._key,{source:"server"}).then((function(n){return ZO(t,e,n)}))}(this._delegate):zO(this._delegate)).then((function(e){return new xD(t.firestore,new MO(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(gD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new dx("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new vR(n._delegate,r,new Dx(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new vR(n._delegate,r,t))}}]),e}();function kD(e,t,n){return e.message=e.message.replace(t,n),e}function bD(e){var t,n=E(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!fD(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function wD(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=fD(e[0])?e[0]:fD(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var xD=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new yD(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return BO(this._delegate,e._delegate)}}]),e}(),AD=function(e){k(n,e);var t=A(n);function n(){return d(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||cx()}(void 0!==t),t}}]),n}(xD),_D=function(){function e(t,n){d(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new pD(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,mO(this._delegate,yO(t,n,r)))}catch(i){throw kD(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,mO(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=hO("orderBy",e);return bO._create(n,t)}(t,n)))}catch(r){throw kD(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,mO(this._delegate,function(e){return lR("limit",e),wO._create("limit",e,"F")}(t)))}catch(n){throw kD(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,mO(this._delegate,function(e){return lR("limitToLast",e),wO._create("limitToLast",e,"L")}(t)))}catch(n){throw kD(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,mO(this._delegate,AO.apply(void 0,arguments)))}catch(t){throw kD(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,mO(this._delegate,_O.apply(void 0,arguments)))}catch(t){throw kD(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,mO(this._delegate,IO.apply(void 0,arguments)))}catch(t){throw kD(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,mO(this._delegate,EO.apply(void 0,arguments)))}catch(t){throw kD(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return bR(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?HO(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?WO(this._delegate):GO(this._delegate)).then((function(e){return new ID(t.firestore,new UO(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bD(n),a=wD(n,(function(t){return new ID(e.firestore,new UO(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return XO(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(gD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),SD=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new AD(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),ID=function(){function e(t,n){d(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new _D(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new AD(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new SD(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new AD(n._firestore,r))}))}},{key:"isEqual",value:function(e){return BO(this._delegate,e._delegate)}}]),e}(),ED=function(e){k(n,e);var t=A(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new yD(this.firestore,e):null}},{key:"doc",value:function(e){try{return new yD(this.firestore,void 0===e?yR(this._delegate):yR(this._delegate,e))}catch(t){throw kD(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=cR(e.firestore,_R),r=yR(e),i=DO(e.converter,t);return $O(n,[GR(KR(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rI.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new yD(t.firestore,e)}))}},{key:"isEqual",value:function(e){return kR(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(gD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(_D);function TD(e){return cR(e,vR)}var CD,ND,PD,RD,OD,DD,LD,FD,MD,jD,UD=function(){function e(){d(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=_(LR,n)}return g(e,[{key:"isEqual",value:function(e){return(e=Qi(e))instanceof LR&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ox.keyField().canonicalString())}}]),e}(),VD=function(){function e(t){d(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new QR("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new HR("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=aD.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=oD.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new JR("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),BD={Firestore:dD,GeoPoint:MR,Timestamp:Tx,Blob:lD,Transaction:vD,WriteBatch:mD,DocumentReference:yD,DocumentSnapshot:xD,Query:_D,QueryDocumentSnapshot:AD,QuerySnapshot:ID,CollectionReference:ED,FieldPath:UD,FieldValue:VD,setLogLevel:function(e){!function(e){rx.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Yi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},BD)))}(e,(function(e,t){return new dD(e,t,new hD)})),e.registerVersion("@firebase/firestore-compat","0.3.18")}(sc);var zD=sc.initializeApp({apiKey:"AIzaSyC-QEERI4J13NqG8OXN7tY_1OE-ecwdx-Y",authDomain:"petecode-e9110.firebaseapp.com",projectId:"petecode-e9110",storageBucket:"petecode-e9110.appspot.com",messagingSenderId:"205737284080",appId:"1:205737284080:web:86865db3bdb5cd2c940d35",measurementId:"G-VDCGTK8H39"}),qD=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja(),t=qa(e=Qi(e),cu);t.isInitialized()?t.getImmediate():function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=qa(e,cu);if(n.isInitialized()){var r=n.getImmediate();if(Li(t,n.getOptions()))return r;throw gu.create("already-initialized")}var i=n.initialize({options:t})}(e)}(zD),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja(),t=qa(e,"auth");if(t.isInitialized())return t.getImmediate();var n=function(e,t){var n=qa(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Li(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;nf(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Sv,persistence:[cp,Vd,zd]}),r=wi("authTokenSyncURL");if(r){var i=function(e){var t;return function(n){return(t=t||et($e().mark((function t(n){var r,i,a;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>zv)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,qv!==a){t.next=12;break}return t.abrupt("return");case 12:return qv=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}(r);!function(e,t,n){Qi(e).beforeAuthStateChanged(t,n)}(n,i,(function(){return i(n.currentUser)})),function(e,t,n,r){Qi(e).onIdTokenChanged(t,n,r)}(n,(function(e){return i(e)}))}var a=ki("auth");return a&&gh(n,"http://".concat(a)),n}(zD)),KD=function(e,t){var n="string"==typeof e?e:t||"(default)",r=qa("object"==typeof e?e:Ja(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=function(e){var t=ki(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("firestore");i&&dR.apply(void 0,[r].concat(h(i)))}return r}(zD),GD=!1,HD=function(e){return(PD=PD||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,YO(yR(KD,"users",localStorage.getItem("uid")),{time:t});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)},WD=function(){return(RD=RD||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,YO(yR(KD,"users",localStorage.getItem("uid")),{complete:!0});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)},QD=function(){return(OD=OD||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,YO(yR(KD,"users",localStorage.getItem("uid")),{complete:!1});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)},YD=function(){!function(e){Qi(e).signOut()}(qD),window.location.reload()},XD=function(){return(LD=LD||et($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sc.auth().onAuthStateChanged((function(e){e?(console.log("state = definitely signed in"),GD=!0,localStorage.setItem("uid",e.uid)):(console.log("state = definitely signed out"),GD=!1)})),t=yR(KD,"users",localStorage.getItem("uid")),e.next=4,zO(t);case 4:return n=e.sent,e.abrupt("return",n.data().name);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},JD=function(){return(FD=FD||et($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=yR(KD,"users",localStorage.getItem("uid")),e.next=3,zO(t);case 3:return n=e.sent,e.abrupt("return",n.data().complete);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},$D=function(){return(MD=MD||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,GO(gR(KD,"users"));case 3:return e.sent.forEach((function(e){t.push(e.data().name)})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},ZD=function(){return(jD=jD||et($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,GO(gR(KD,"users"));case 3:return e.sent.forEach((function(e){e={key:e.data().name,val:e.data().time};t.push(e),console.log(t)})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},eL=(sc.firestore(),n(184)),tL=function(){var e=l((0,t.useState)("Sign In"),2),n=e[0],r=e[1],i=l((0,t.useState)(!1),2),a=i[0],o=i[1];return(0,t.useEffect)((function(){var e,t;!function(){(e=e||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XD();case 2:console.log(GD),r(GD?"Account":"Sign In");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}();!function(){(t=t||et($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=o,e.next=4,JD();case 4:e.t1=e.sent,(0,e.t0)(e.t1),console.log(a),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(0),console.error("Error fetching data:",e.t2);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}()}),[]),(0,eL.jsx)(eL.Fragment,{children:(0,eL.jsxs)(ri,{children:[(0,eL.jsx)(oi,{}),(0,eL.jsxs)(si,{children:[(0,eL.jsx)(ai,{to:"/",children:(0,eL.jsx)(ii,{src:tt})}),(0,eL.jsx)(ai,{to:"/board",activeStyle:!0,className:"HoverLink",children:"Leaderboard"}),(0,eL.jsx)(ai,{to:a?"POTDboard":"competitions",activeStyle:!0,className:"HoverLink",children:a?"POTDboard":"Competitions"}),(0,eL.jsx)(ai,{to:"/recommendations",activeStyle:!0,className:"HoverLink",children:"Recommendations"})]}),(0,eL.jsx)(ui,{children:(0,eL.jsx)(ci,{to:"/login",children:n})})]})})};var nL=function(){return(0,eL.jsxs)("div",{children:[(0,eL.jsxs)("div",{class:"container gradient",children:[(0,eL.jsx)("h1",{class:"title",children:"P"}),(0,eL.jsx)("p",{class:"title",children:"ete"}),(0,eL.jsx)("h1",{class:"title",children:"C"}),(0,eL.jsx)("p",{class:"title",children:"ode"})]}),(0,eL.jsx)("div",{class:"container",children:(0,eL.jsx)("p",{class:"subtitle",children:"Purdue Leetcode Network"})}),(0,eL.jsxs)("div",{class:"bottom",children:[(0,eL.jsx)("a",{href:"https://www.freepik.com/free-vector/design-modern-white-background-luxury-gold_31788488.htm#page=8&query=website%20background&position=9&from_view=search&track=ais",class:"bottomLink",children:"Image by logturnal"})," on Freepik"]})]})},rL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAG+dJREFUeJzt3X+MZtV5H/DnvLv8xk7BxqFJ06pxYyB1IjukNv6BAsxgdpdso6oyaitoJdfGdZXEOJWqporUVRO7TaqmqhrFDYYmMVVcQfuHu7Cz4F3Axq7xD1w3ad2Y4B+Kk9Y/sA3BsBh25vSP2Zey491lZt577znn3s/nP+Tlvkcj1s93nufc94kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGLpU+ANC/fOfyJTGL5Zit/Vjk9FcjxwWR4vvW/8d4PFL+eqT4XET8fuT8obT7vs+XPTHQNwEARirf/aaXxdrRd0TMro/If2WL//rDEem2yKf9Vtqz8o1eDggUJQDAyOQ733hezM7855HyWyPizAUf93RE3BxPr/6z9Dfuf6yD4wGVEABgRPLK0vUR+dcj0gUdP/rrkdK70q5Dv9fxc4FCBAAYgXxg9xmRnvm1iPj5nj/q5nji/J9L193xTM+fA/RMAIDG5f17z46dT90ZEVcO9ImH44kje9N1Hz8yzOcBfZiVPgCwffn2150VO5/8rzFY8Y+ISEtx7tkfzLe/7qzhPhPomgAALXvR2e+NSEuDf26Kq+Pcs24Z/HOBzggA0Ki8snxjRPy9YgdI6e/kA8tvK/b5wELcAYAG5ZUrL4qY/feIKN2GPxKx9mpfHATt0QGAxuR9+2YRs1uifPGPiDgrYvY7+fY37yh9EGBrBABozWs+8gsR8cbSx3iey+LF37qp9CGArTECgIZU1Prf6LuR4yfSnsOfK30QYHN0AKARlbX+NzojUtxqFADtEACgFfW1/jcyCoCGGAFAAypu/W9kFACN0AGAylXe+t/IKAAaIQBA7epv/W9kFAANMAKAijXU+t/IKAAqpwMAlWqs9b+RUQBUTgCAWrXX+t/IKAAqZgQAFWq49b+RUQBUSgcAKtN4638jowColAAAtWm/9b+RUQBUyAgAKjKi1v9GRgFQGR0AqMTIWv8bGQVAZQQAqMX4Wv8bGQVARYwAoAIjbv1vZBQAldABgMJG3vrfyCgAKiEAQGmXPfCuGHfrf6PL4kXfemfpQ8DUGQFAQRNq/W9kFACF6QBAIRNr/W9kFACFCQBQyvRa/xsZBUBBRgBQwIRb/xsZBUAhOgAwsIm3/jcyCoBCBAAYmtb/RkYBUIARAAxI6/+kjAJgYDoAMBCt/1MyCoCBCQAwFK3/F2IUAAMyAoABaP1vmlEADEQHAHqm9b8lRgEwEAEA+qb1v1VGATAAIwDokdb/thkFQM90AKAnWv8LMQqAngkA0Bet/0UZBUCPjACgB1r/nTEKgJ7oAEDHtP47ZRQAPREAoGta/10zCoAeGAFAh7T+e2MUAB3TAYCOaP33yigAOiYAQFe0/vtmFAAdMgKADmj9D8YoADqiAwAL0voflFEAdEQAgEVp/Q/NKAA6YAQAC9D6L8YoABakAwDbpPVflFEALGjn0B+Y77vi3Hh656si578UKZ0TkXdGpK9GWvuT+LOXfDZdd8czQ58JtuW1D9wUWv8lzUcBv176ILAZ+fY3nx7nPPrqmO34wYh8YUQ6Gjk/GbH25dhx2mfTNfc8OeR5BhkB5IPX/PnIR/92RPytiLg0Tt55eDJSfCRyvi0uePw/p5986Nkhzgdble9aekXM4rPht//SjsRavCpde/jh0geBE8mfvvS0ePS8N0fON0TE5RFxzkn+6GpEPBSR/lOsHf1Auvb+r/Z9tl4DQN5/xUtj5+yfRqR/EFv/P8o/jYhfjl2Hb04pcg/Hg23J+/bN4rUPPBARry99FiIi4r/FJy6/PO3bt1b6IDCX9+2bxWs++vZI+Zci4ge2+K8fiRy/Gaur/zLtvf/RPs4X0WMAyAeXfyZyvjkiXrbgoz4asfbWtPu+z3dxLlhUXln6hYj416XPwXH+Udp92CiAKqxfDk63RqQ3LPag+FpEflvac+/+jo52nM4DQM6R4uBV74lI/6TDxz4ZKb8j7br3tg6fCVum9V8towCqkA9edUPk9N44eat/61J6d9p16Jc6e978sV0+bL34L/37iLixy+c+J8V/iGfP/rm0d/9TvTwfTkHrv3pGARST9+89O0576t9Fjrf08gEpvzftuvcfdvnIbl8DvHvpF6Ov4h8RkeMtsfPJh/Ldb3plb58BJ7P+hT+Kf71ef+zNDBhUXrnyotj51Md7K/4RETm9Ix9c+sddPrKzDkBeuXopYu2eGOa7BYwEGJTWfzOMAhhULy3/k1uNSMtp96H7u3hYJwEg3/7m0+NF3/wfEeniLp63eem2mM3eMfS7k0zLsdb/h8M7/614MJ44/43pujtWSx+E8cr3XXFmPL3jVyPi5wf+6M/FBY+9qovX5Lv5bf3F37xx+OIfEZFviNWjD+Y7ly8Z/rOZDF/40xq7AuhVvnP5kjgy+1QMX/wjIn40vvHn3tbFgxYOADlHipx+tovDbEtKr4wd+aF8YLmTHwg8X75r6RUR8Sulz8GWvScfWPrR0odgfPLK0vWxI38yUip3Fy3Fz+a8eAd/8Q7A3UtvjIiLFn7OYs6KlG/OB5duzfv3nl34LIxE3rdvFrP47TD3b9EZkeJ96/saYHF5/96z88GlWyPitog4t+xh4pI4uHTZoo9Z/C9HTksLP6Mr3hKgS279t85bAXRikFv+W7Z47e0gHefFvumoc+niWFt9MB+86obSJ6Fd+a6lV0SOXy59Dhb2K8fGOLAt67Vk9lBE/Hjps2xw+aIP6KI99vIOntG1cyKn9+eV5ffnu980xKsZjMix1r81v+NwVszid6wNZqvyfVecmVeW/m3k9P4Y5hW/rfrhRR/QRQB4aQfP6Em+IdaOftpIgC1Zb/0vnK6pxuu8FcBW5JUrL4qnd3wiytzy35yUF669XQSAMzt4Ro+MBNg8rf/RMgpgUypu+R8vL96h7CIAfLODZ/TNSIAXpPU/akYBnFIDLf+NvrXoAzp4CyD3tqu4e744iFNYvzGu9T9eRgGcUOEv9tmuCgJApC8v/owB+eIgTsAX/kyGLwjiOFV8sc925PjSoo/oYgTw+Q6eMbT1Lw4yEiC0/ifmjEhxi1EAz7X8a/hin+1ZuPZ20QFoMQAc4y0Bwq3/6TEKmLgmbvm/oMVr7+IBYJb/cOFnFJUujrXVTxoJTJNb/5NlFDBReWXp+ojZp6P2W/4vpIPau3gASDsa7gA8x0hggrT+J80oYGJG0PI/Xge1d+EAkK655+vRwW3EOhgJTIrW/9QZBUzEOFr+z5PisWO1dyFdbcp6uKPnVMBIYAq0/jnGKGDkRtPyf74cnYzeuwoAjd8D+B5GAiOm9c/zGAWM1Oha/serKQC0/CbAqRgJjJLWP8czChiZ0bX8v0c3NbejALA20gAQYSQwLlr/nIRRwEiMsuX/Pbqpud0EgDzWDsBzjARGQOufUzAKaNzIW/7H66jmdhMAvnP+IxFxtJNnVc1IoGla/5yaUUCjxt/yP85qxOlf6OJBqYuHRETkA0sPR4of6ep5lTsSOb0z7Tn0vtIHYXPyXUuviFl8Nvz2z6l9N3L8RNpz+HOlD8LmrLf8470x9t/653L8UdpzuJPV1l29BRDR5k6A7TISaIjWP1tgFNCISbX8j9dZrRUAFmIk0AStf7bGKKByE2v5b1RjABj9RcCT8JZAzdz6Z5u8FVCpadzyP5Xuam13AaD5pUALMRKokNY/CzAKqMyEW/7H67DWdhcAxrEUaEFGAlXR+mcxRgGVmHjL/3gd1trO3gKIiMgrS9+MiPO7fGajvCVQmFv/dMRbAYVN7pb/qaR4LO06fF5Xj+vyEmDEqJYCLcRIoCCtfzpkFFCIlv8JdLQEaK7rADDlewAnYCRQhNY/3TIKGJiW/0nVHACm+ibAqXhLYEhu/dMTbwUMxC3/U+m2xnYcAMa8FGghRgID0PqnR0YBPdPy34xua2y3AWD8S4EWZCTQK61/+mUU0BMt/03quMZ2GwAmsxRoEUYCfdD6ZyBGAR3T8t+0zpYAzXX6GmDE5JYCLSjdFrPZO9I19zxZ+iQty/v2zeK1D9wffvtnGB+PJ86/PF13x2rpg7Qs33fFmfH0jl8Nv/VvTodLgOa6fgsgYpI7AbbLSKATWv8MyyhgQVr+29J5bRUAijMSWITWP4UYBWyTlv+2tRAAXATcBm8JbINb/xTkrYAtcst/Ud3X1u4DwLSXAi3ISGBLtP4pyyhgk7T8O9BDbe0+AFgKtCAjgc3Q+qcS7zYKODUt/470UFs7fwsgwlKg7nhL4ETc+qcy3go4Abf8O9TxEqC5Pi4BRlgK1BEjgRPS+qcuRgEbaPl3rOMlQHN9BQD3ADpjJPB8Wv9UyijgGC3/XrQUALwJ0DFvCYRb/1TtzKm/FeCWf5/6qak9BQBLgfox8ZGA1j91m+woQMu/b/3U1H4CgKVAPZrmSEDrn0ZMbhSg5T+AnmpqPwHAUqC+TWokoPVPQyYzCtDyH0znS4DmegkA6bo7nokcX+rj2TzfREYCWv+0ZfSjAC3/AeX4Ytqz8t0+Ht3XWwARdgIMZNwjAa1/GjXaUYCW/+B6q6UCwDiMciSg9U/DRjcK0PIvpsUA4CLg8EY2EtD6p22jGQVo+ZfUXy3tLwBYClTIOEYCWv+MRPOjAC3/wnqspf0FAEuBSmp6JKD1z4g0OwrQ8q9Ej7W0twCQrrnn6xHxrb6ez2Y0OhLQ+mdcmhsFaPlXIsVjx2ppL/q8BBhhKVAF2hoJaP0zUs2MArT8K9LTEqC5vgOAewB1aGIkoPXPiFU/CtDyr1LLAcCbAHXJN8Tq0QfzncuXlD7JCWn9M26vixd/66bShziRfOfyJXFk9qnQ8q9Nr130ngOApUDVSemVsSM/VNtIIN919U9GjneXPgf0Kse/yAeWLyt9jOfLK0vXx478yUiprbtCk9Dv23T9BoDVmRFAndZHAgeXbs37955d+jD5wO4LYrZ2e0ScUfos0LPTIuX/mPdf8dLSB8n7956dDy7dGlr+9ep5sV6/AeCp874QlgLVK8dbYueTD5V8SyB/8A0vivTsSkT85VJngIG9PHbuOJA/+IYXlTpAXrnyotj51Mcjx1tKnYEX1NsSoLleA4ClQC1IF8fa6oP54FU3DP3J+dDSS+L0Mw9G5EuH/mwo7K/F6WceyAevOX/oD17/uz57KNzyr1z6Ul9LgOb6fgsgwk6AFpwTOb1/yJFAvmvpFfFsfCwiXj/E50GF3hj52Y/le67+kSE+7LmWf07vj4hq3wbimNz/t+n2HwBScg+gFTneEjuf+kzfl5TyytLfj1l8JiIu6vNzoH7p4lhd+0w+sNxrKz6vLL0udj71GS3/pvT+y/MAAcCbAI25KFL+aF5Z+o18aOn7u3xwvvvKS/PBpQ9HxC3hNxCYOzdSvjWvLN2XDyy/ussH57uuuDAfvOo3I+KBELgb0/9r9KnvD8gHly6PHB/p+3PoxZMR+eaI/Ftp933b+o8x50hx8OqrItbeFRF7YoD/5qBhaxFxV6T4N3HN4ftTirydh+S733Rx5LW3R85vC2G7TWv5p9K19/ZaO/sPAHe/6WWxtvq1vj+HXuWI+EREuivWVj8Ua+f+Qdq7/6mT/uEDuy+I+O5lEWkpUvzNiPgLwx0VRuMrkdJ/iZQPxzOrD6a99z96sj+Y9+89O3Yc+fFIsRwpfjpyfu2QB6UHp8WFaflwr7VzkN/G8srSNyNi8Nuu9GYtIr4Ukb8akR6NSM9E5PMi4vsi4oci4sKyx4NR+mpE/HHkeDxSeiwizohYe0lEujDWX6Md4lI3g0jfTrsP9V4zd/b9Acc8HBFVffsVC5lFxMsj0svX/3FbXUpgay6MiAvXf22b/50zURunPMjduaESozcBAGBzBqmZAwUAS4EAYHOGqZkDBQCvAgLA5gxTM4cJAD0vNACA0RioZg4TAL5z/iNhKRAAvJDelwDNDRIALAUCgE3I8cW+lwDNDfneqDEAAJzaYLVSAACAeowxALgICACnNlytHC4AzPrfbQwATRuwVg4XANIOHQAAOJUBa+WgXyRtKRAAnESKx9Kuw+cN9XFDb496eODPA4A25GH35gwdANwDAIATG3MA8CYAAJzYsDVy4ABgKRAAnNiwNXLYAGApEACc2MA1ctgAYCkQAJzIYEuA5gYNAJYCAcAJDLgEaG7otwAi7AQAgI0Gr40CAACUN4UA4CIgABxv+No4fACwFAgAjlegNg4fACwFAoDjFaiNgy4DmrMUCACOGXgJ0FyJS4ARlgIBwLqBlwDNlQoA7gEAwLopBQBvAgDAujI1sVAAsBQIANaVqYllAoClQACwrlBNLBMALAUCgIgCS4DmigQAS4EAIIosAZor9RZAhJ0AAFCsFgoAAFDOFAOAi4AATF25WlguAFgKBMDUFayF5QKApUAATF3BWlhkGdCcpUAATFahJUBzJS8BRlgKBMBUFVoCNFc6ALgHAMBUTTkAeBMAgKkqWwMLBwBLgQCYqrI1sGwAsBQIgKkqXAPLBgBLgQCYpmJLgOaKBgBLgQCYpIJLgOZKvwUQYScAANNTvPYJAAAwvOK1r4IA4CIgAFNTvvaVDwCWAgEwNRXUvvIBwFIgAKamgtpXdBnQnKVAAExG4SVAc+U7AOssBQJgGgovAZqrJQBU8cMAgAFUUfMqCQDlb0MCwDDqqHmVBABLgQCYijpqXh0BwFIgAKaikppXRwCwFAiAaSi+BGiuigBgKRAAk1DBEqC5KgLAMVW0RACgR9XUOgEAAIZTTa2rKADUcSkCAPpTT62rJwBUsBgBAHpVUa2rJwBUsBgBAHpVUa2rYhnQnKVAAIxWJUuA5urpAKyzFAiAcapkCdBcbQGgqh8OAHSoqhpXWQCo53YkAHSrrhpXWQCoY0ECAHSvrhpXVwBYnVXVHgGAzlRW4+oKAE+d94WwFAiA8VmN2WlfLH2I56sqAFgKBMAoVbQEaK6qAHBMVTMSAOhAdbVNAACA/lVX2yoMAHW9JgEAi6uvttUXACpalAAAnaiwttUXACpalAAAnaiwtlW1DGjOUiAARqOyJUBz9XUA1lkKBMA4VLYEaK7WAFDlDwsAtqHKmlZpAKjvtiQAbE+dNa3SAFDXwgQA2L46a1qdAaCyhQkAsG2V1rQ6A4ClQACMQ3VLgOaqDACWAgEwChUuAZqrMgAcU+XMBAC2oNpaJgAAQH+qrWUVB4A6X5sAgM2rt5bVGwAqXJwAAFtScS2rNwBUuDgBALak4lpW5TKgOUuBAGhWpUuA5urtAKyzFAiANlW6BGiu9gBQ9Q8PAE6h6hpWeQCo9/YkAJxa3TWs8gBQ5wIFAHhhddewugNApQsUAOAFVV7D6g4AlgIB0KZqlwDNVR0ALAUCoEkVLwGaqzoAHFP1DAUATqD62iUAAED3qq9dDQSAul+jAIDvVX/tqj8AVLxIAQBOqIHaVX8AqHiRAgCcUAO1q+plQHOWAgHQjMqXAM3V3wFYZykQAG2ofAnQXCsBoIkfJgBEIzWrkQBQ/21KAFjXRs1qJADUvVABAP6/NmpWGwGg8oUKAPCcRmpWGwHAUiAA2lD9EqC5JgKApUAANKGBJUBzTQSAY5qYqQAwac3UKgEAALrTTK1qKAC08VoFAFPWTq1qJwA0sFgBgIlrqFa1EwAaWKwAwMQ1VKuaWAY0ZykQANVqZAnQXDsdgHWWAgFQp0aWAM21FgCa+uECMClN1ajGAkA7tysBmJq2alRjAaCNBQsATFFbNaqtANDIggUAJqixGtVWALAUCIA6NbMEaK6pAGApEABVamgJ0FxTAeCYpmYsAExCc7VJAACAxTVXmxoMAG29ZgHAFLRXm9oLAA0tWgBgIhqsTe0FgIYWLQAwEQ3WpqaWAc1ZCgRANRpbAjTXXgdgnaVAANShsSVAcztLH2CbPhCRvlL6EAAQKX+s9BEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYPtS6QNsR75z+ZLYGT9Y+hwAEEfjT9NPH/rfpY+xVTtLH2BbduSbIseNpY8BALEzvy+ivZo0K30AAGB4AgAATJAAAAATJAAAwAQJAAAwQQIAAEyQAAAAEyQAAMAECQAAMEECAABMkAAAABMkAADABAkAADBBAgAATJAAAAATJAAAwAQJAAAwQQIAAEyQAAAAEyQAAMAECQAAMEECAABMkAAAABMkAADABAkAADBBAgAATJAAAAATJAAAwAQJAAAwQQIAAEyQAAAAEyQAAMAECQAAMEECAABMkAAAABMkAADABAkAADBBAgAATJAAAAATJAAAwAQJAAAwQQIAAEyQAAAAEyQAAMAECQAAMEECAABMkAAAABPUZgDI6ZnSRwCAiIjI8XTpI2xHmwEgrX2n9BEAICIicnqi9BG2o80AEOkbpU8AAOtykzWpzQAwi4dLHwEAjvl86QNsR5sBYG31f5Y+AgBERMRps/9V+gjb0WQASLvv/3JEfLnwMQDgC+nqQ39c+hDb0WQAOOZQ6QMAMHE5faj0Ebar3QCQ4vdKHwGAiZvlZmtRuwHgwcs/HBFfLH0MAKYqPRLXHP5o6VNsV7MBIO3btxYp/6vS5wBgonL8WkqRSx9ju5oNABERsXbGb4fLgAAM70vxnfN+t/QhFtF0AEh7Vr4bKd1U+hwATEzO70zX3dH019I3HQAiItKuQx+MyLeXPgcAU5E+kPbcu7/0KRbVfACIiIidsxsj0iOljwHAyOX4o3jmyNtLH6MLowgA6epDj0c6ujsivl76LACM1qOxY8dfTz/zsSaX/2w0igAQEZF23f9IpLw3In279FkAGJv07YjYk6655w9Ln6QrowkAERFp172fjLX4qYj4P6XPAsBo/Emk1cvT7sOfKn2QLo0qAEREpGsP/UHk018VEXeXPgsAzbsv0s7XpF33Nbnw51RGFwAiItKelW/EE+dfGzm/KyL+rPR5AGjO4xHxzvjE5ctp193/t/Rh+pBKH6Bv+Z6rfyCO5l+MlN8aEWeWPg8AVTsSkW+JtbX3pGvv/2rpw/Rp9AFgLh9a+v54Nv3diHxDRPxY6fMAUJXfj5xvi9PTbWn58NdKH2YIkwkAz5c/tPwX4+jaVZFnl0bkiyLlH4pI50akc0qfDYA+5Scj8ncip69EpM9Hyp+O2Y570zX3fKX0yQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADr2/wAwI2vVfwEsXgAAAABJRU5ErkJggg==";function iL(e){var t=e.Ordered;return(0,eL.jsx)("div",{id:"profile",children:t.map((function(e,t){return(0,eL.jsxs)(eL.Fragment,{children:[(0,eL.jsxs)("div",{className:"flex",children:[0===t&&(0,eL.jsxs)("div",{className:"item",children:[(0,eL.jsx)("h3",{className:"text-dark",children:e.name}),(0,eL.jsx)("img",{src:rL,class:"crown"})]}),0!=t&&(0,eL.jsx)("div",{className:"item",children:(0,eL.jsx)("h3",{className:"text-dark",children:e.name})}),(0,eL.jsx)("div",{className:"item",children:(0,eL.jsx)("span",{className:"item1",children:e.solved})})]},t),(0,eL.jsx)("hr",{class:"line"})]})}))})}var aL,oL=function(e){return(0,eL.jsxs)("div",{children:[0===e.time.h?"":(0,eL.jsx)("span",{children:e.time.h>=10?e.time.h:"0"+e.time.h}),"\xa0\xa0",(0,eL.jsx)("span",{children:e.time.m>=10?e.time.m:"0"+e.time.m}),"\xa0:\xa0",(0,eL.jsx)("span",{children:e.time.s>=10?e.time.s:"0"+e.time.s}),"\xa0:\xa0",(0,eL.jsx)("span",{children:e.time.ms>=10?e.time.ms:"0"+e.time.ms})]})},sL="Shortest Path Visiting All Nodes";function uL(e,t){return(aL=aL||et($e().mark((function e(t,n){var r,i,a,o,s,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),"https://leetcode.com/graphql",r={"Content-Type":"application/json","User-Agent":"Mozilla/5.0"},t,i={query:"\n        query userProblemsSolved($username: String!) {\n          allQuestionsCount {\n            difficulty\n            count\n          }\n          matchedUser(username: $username) {\n            problemsSolvedBeatsStats {\n              difficulty\n              percentage\n            }\n            submitStatsGlobal {\n              acSubmissionNum {\n                difficulty\n                count\n              }\n            }\n          }\n          recentSubmissionList(username: $username) {\n            title\n          }\n        }\n      ",variables:{username:t}},e.prev=5,e.next=8,fetch("https://leetcode.com/graphql",{method:"POST",headers:r,body:JSON.stringify(i)});case 8:if(!(a=e.sent).ok){e.next=22;break}return e.next=12,a.json();case 12:return o=e.sent,o.data.matchedUser.submitStatsGlobal.acSubmissionNum.find((function(e){return"All"===e.difficulty})).count,o.data.matchedUser.submitStatsGlobal.acSubmissionNum.find((function(e){return"Easy"===e.difficulty})).count,o.data.matchedUser.submitStatsGlobal.acSubmissionNum.find((function(e){return"Medium"===e.difficulty})).count,o.data.matchedUser.submitStatsGlobal.acSubmissionNum.find((function(e){return"Hard"===e.difficulty})).count,s=o.data.recentSubmissionList,u=s.map((function(e){return e.title})),e.abrupt("return",u);case 22:throw new Error("Error ".concat(a.status,": ").concat(a.statusText));case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(5),console.error(e.t0);case 28:case"end":return e.stop()}}),e,null,[[5,25]])})))).apply(this,arguments)}var cL=function(e){return(0,eL.jsxs)("div",{children:[(0,eL.jsx)("a",{id:"random-link",href:"https://leetcode.com/problems/shortest-path-visiting-all-nodes/?envType=daily-question&envId=2023-09-17",target:"_blank",rel:"noreferrer",children:(0,eL.jsx)("button",{className:"stopwatch-btn stopwatch-btn-gre",onClick:e.start,children:"Start"})}),1===e.status?(0,eL.jsx)("div",{children:(0,eL.jsx)("button",{className:"stopwatch-btn stopwatch-btn-red",onClick:et($e().mark((function t(){var n,r;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.stop(),t.next=3,XD();case 3:return n=t.sent,t.next=6,uL(n,sL);case 6:(r=t.sent).includes(sL)?(console.log(r),WD()):e.start();case 8:case"end":return t.stop()}}),t)}))),children:"Stop"})}):""]})};n(307);var lL,fL=function(){var e=l((0,t.useState)({ms:0,s:0,m:0,h:0}),2),n=e[0],r=e[1],i=l((0,t.useState)(),2),a=i[0],o=i[1],s=l((0,t.useState)(0),2),u=s[0],c=s[1],f=function(){m(),c(1),o(setInterval(m,10))},h=n.ms,d=n.s,p=n.m,v=n.h,m=function(){return 60===p&&(v++,p=0),60===d&&(p++,d=0),100===h&&(d++,h=0),h++,r({ms:h,s:d,m:p,h:v})};return(0,eL.jsx)("body",{class:"competition",children:(0,eL.jsx)("div",{className:"main-section",children:(0,eL.jsx)("div",{className:"clock-holder",children:(0,eL.jsxs)("div",{className:"stopwatch",children:[(0,eL.jsx)("h1",{children:"Daily Competition!"}),(0,eL.jsx)("h4",{children:"Click start to begin the timer and stop once it's solved"}),(0,eL.jsx)(oL,{time:n}),(0,eL.jsx)(cL,{status:u,stop:function(){HD(0==v&&0==p?d+" seconds ":0==v?p+" minutes "+d+" seconds ":v+" hours "+p+" minutes "+d+" seconds "),clearInterval(a),c(2)},start:f})]})})})})};function hL(){var e,n=l((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){var e;!function(){(e=e||et($e().mark((function e(){var t,n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$D();case 2:return n=e.sent,e.next=5,Promise.all(n.map((function(e){return(t=t||et($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dL(t);case 2:return n=e.sent,e.abrupt("return",{name:t,solved:n});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)})));case 5:r=e.sent,i(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}),[]),(0,eL.jsxs)("div",{className:"board",children:[(0,eL.jsx)("h1",{className:"leaderboard",children:"Leaderboard"}),(0,eL.jsx)("div",{className:"duration",children:"All-Time"}),(0,eL.jsxs)("div",{class:"label",children:[(0,eL.jsx)("div",{children:"Username"}),(0,eL.jsx)("div",{children:"Problems solved"})]}),(0,eL.jsx)(iL,{Ordered:(e=r,e.sort((function(e,t){return e.solved,t.solved,t.solved-e.solved})))})]})}function dL(e){return(lL=lL||et($e().mark((function e(t){var n,r,i,a,o,s,u,c,l,f;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://leetcode.com/graphql",r={"Content-Type":"application/json","User-Agent":"Mozilla/5.0"},i={query:"\n        query userProblemsSolved($username: String!) {\n          allQuestionsCount {\n            difficulty\n            count\n          }\n          matchedUser(username: $username) {\n            problemsSolvedBeatsStats {\n              difficulty\n              percentage\n            }\n            submitStatsGlobal {\n              acSubmissionNum {\n                difficulty\n                count\n              }\n            }\n          }\n          recentSubmissionList(username: $username) {\n            title\n          }\n        }\n      ",variables:{username:t}},e.prev=4,e.next=7,fetch(n,{method:"POST",headers:r,body:JSON.stringify(i)});case 7:if(!(a=e.sent).ok){e.next=22;break}return e.next=11,a.json();case 11:return o=e.sent,s=o.data.matchedUser.submitStatsGlobal.acSubmissionNum.find((function(e){return"All"===e.difficulty})).count,o.data.matchedUser.submitStatsGlobal.acSubmissionNum.find((function(e){return"Easy"===e.difficulty})).count,o.data.matchedUser.submitStatsGlobal.acSubmissionNum.find((function(e){return"Medium"===e.difficulty})).count,o.data.matchedUser.submitStatsGlobal.acSubmissionNum.find((function(e){return"Hard"===e.difficulty})).count,u=o.data.recentSubmissionList,c=u.map((function(e){return e.title})),console.log(c),e.abrupt("return",s);case 22:throw new Error("Error ".concat(a.status,": ").concat(a.statusText));case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(4),console.error(e.t0);case 28:return e.prev=28,e.next=31,fetch(n,{method:"POST",headers:r,body:JSON.stringify(i)});case 31:if(!(l=e.sent).ok){e.next=39;break}return e.next=35,l.json();case 35:return f=e.sent,e.abrupt("return",f);case 39:throw new Error("Error ".concat(l.status,": ").concat(l.statusText));case 40:e.next=45;break;case 42:e.prev=42,e.t1=e.catch(28),console.error(e.t1);case 45:case"end":return e.stop()}}),e,null,[[4,25],[28,42]])})))).apply(this,arguments)}function pL(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function vL(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var mL=function(){return mL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mL.apply(this,arguments)},gL=function(e){return{loading:void 0===e||null===e,value:e}},yL=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return mL(mL({},e),{error:t.error,loading:!1,value:void 0});case"reset":return gL(t.defaultValue);case"value":return mL(mL({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),gL(n)),i=r[0],a=r[1],o=(0,t.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),s=(0,t.useCallback)((function(e){a({type:"error",error:e})}),[]),u=(0,t.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:s,setValue:u,value:i.value}}),[i.error,i.loading,o,s,u,i.value])},kL=function(e,n){var r=yL((function(){return e.currentUser})),i=r.error,a=r.loading,o=r.setError,s=r.setValue,u=r.value;return(0,t.useEffect)((function(){var t=function(e,t,n,r){return Qi(e).onAuthStateChanged(t,n,r)}(e,(function(e){return pL(void 0,void 0,void 0,(function(){var t;return vL(this,(function(r){switch(r.label){case 0:if(!(null===n||void 0===n?void 0:n.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),o(t),[3,4];case 4:return s(e),[2]}}))}))}),o);return function(){t()}}),[e]),[u,a,i]},bL=n.p+"static/media/pete.1c2154cff4991d7c2877.jpeg",wL=n.p+"static/media/stats.3376f4611c56d080977c.png";var xL=function(){var e=l((0,t.useState)(""),2),n=e[0],r=e[1],i=l((0,t.useState)(""),2),a=i[0],o=i[1],s=l(kL(qD),3),u=s[0],c=s[1],f=(s[2],we());return(0,t.useEffect)((function(){c||u&&f("/dashboard")}),[u,c]),(0,eL.jsxs)("div",{className:"login",children:[(0,eL.jsxs)("div",{className:"login__container",children:[(0,eL.jsxs)("div",{className:"pete",children:[(0,eL.jsx)("img",{src:bL}),(0,eL.jsx)("p",{class:"dash",children:"PeteCode"})]}),(0,eL.jsxs)("div",{className:"signInContainer",children:[(0,eL.jsx)("p",{id:"signIn",class:"dash",children:"Sign In"}),(0,eL.jsx)("p",{id:"signInMessage",class:"dash",children:"Please sign in to your account"})]}),(0,eL.jsx)("input",{type:"text",className:"login__textBox",value:n,onChange:function(e){return r(e.target.value)},placeholder:"E-mail Address"}),(0,eL.jsx)("input",{type:"password",className:"login__textBox",value:a,onChange:function(e){return o(e.target.value)},placeholder:"Password"}),(0,eL.jsx)("button",{className:"login__btn",onClick:function(){return function(e,t){return(CD=CD||et($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("purdue.edu"!=t.slice(t.length-10)){e.next=13;break}return e.prev=1,e.next=4,yd(qD,t,n);case 4:window.location.reload(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),alert(e.t0.message);case 11:e.next=14;break;case 13:alert("use @purdue.edu email");case 14:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}(n,a)},children:"Login"}),(0,eL.jsxs)("div",{className:"bottomLinks",children:[(0,eL.jsx)("div",{id:"forgot",children:(0,eL.jsx)(Qe,{to:"/reset",children:"Forgot Password"})}),(0,eL.jsxs)("div",{children:["Don't have an account? ",(0,eL.jsx)(Qe,{to:"/register",children:"Register"})," now."]})]})]}),(0,eL.jsxs)("div",{className:"welcomeSignIn",children:[(0,eL.jsxs)("p",{id:"getStarted",class:"dash",children:["Get started with ",(0,eL.jsx)("br",{}),"PeteCode"]}),(0,eL.jsx)("img",{src:wL}),(0,eL.jsx)("p",{id:"components",class:"dash",children:"Components"}),(0,eL.jsxs)("ul",{children:[(0,eL.jsx)("li",{children:"Leaderboard"}),(0,eL.jsx)("li",{children:"Competitions"}),(0,eL.jsx)("li",{children:"Personalization"})]})]})]})};var AL=function(){var e=l((0,t.useState)(""),2),n=e[0],r=e[1],i=l((0,t.useState)(""),2),a=i[0],o=i[1],s=l((0,t.useState)(""),2),u=s[0],c=s[1],f=l(kL(qD),3),h=f[0],d=f[1],p=(f[2],we());return(0,t.useEffect)((function(){d||h&&p("/dashboard")}),[h,d]),(0,eL.jsxs)("div",{className:"login",children:[(0,eL.jsxs)("div",{className:"login__container",children:[(0,eL.jsxs)("div",{className:"pete",children:[(0,eL.jsx)("img",{src:bL}),(0,eL.jsx)("p",{children:"PeteCode"})]}),(0,eL.jsx)("input",{type:"text",className:"register__textBox",value:u,onChange:function(e){return c(e.target.value)},placeholder:"LeetCode Username"}),(0,eL.jsx)("input",{type:"text",className:"register__textBox",value:n,onChange:function(e){return r(e.target.value)},placeholder:"E-mail Address"}),(0,eL.jsx)("input",{type:"password",className:"register__textBox",value:a,onChange:function(e){return o(e.target.value)},placeholder:"Password"}),(0,eL.jsx)("button",{className:"register__btn",onClick:function(){u||alert("Please enter name"),function(e,t,n){(ND=ND||et($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("purdue.edu"!=n.slice(n.length-10)){e.next=19;break}return e.prev=1,e.next=4,gd(qD,n,r);case 4:return i=e.sent,a=i.user,e.next=8,QO(yR(KD,"users",a.uid),{uid:a.uid,name:t,authProvider:"local",email:n,complete:!1});case 8:o=e.sent,console.log(o.name),window.location.reload(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),alert(e.t0.message);case 17:e.next=20;break;case 19:alert("use @purdue.edu email");case 20:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}(u,n,a)},children:"Register"}),(0,eL.jsxs)("div",{children:["Already have an account? ",(0,eL.jsx)(Qe,{to:"/login",children:"Login"})," now."]})]}),(0,eL.jsxs)("div",{className:"welcomeSignIn",children:[(0,eL.jsxs)("p",{id:"getStarted",children:["Get started with ",(0,eL.jsx)("br",{}),"PeteCode"]}),(0,eL.jsx)("img",{src:wL}),(0,eL.jsx)("p",{id:"components",children:"Components"}),(0,eL.jsxs)("ul",{children:[(0,eL.jsx)("li",{children:"Lederboard"}),(0,eL.jsx)("li",{children:"Competitions"}),(0,eL.jsx)("li",{children:"Personalization"})]})]})]})};var _L=function(){var e=l((0,t.useState)(""),2),n=e[0],r=e[1],i=l(kL(qD),3),a=i[0],o=i[1],s=(i[2],we());return(0,t.useEffect)((function(){o||a&&s("/dashboard")}),[a,o]),(0,eL.jsx)("div",{className:"reset",children:(0,eL.jsxs)("div",{className:"reset__container",children:[(0,eL.jsx)("input",{type:"text",className:"reset__textBox",value:n,onChange:function(e){return r(e.target.value)},placeholder:"E-mail Address"}),(0,eL.jsx)("button",{className:"reset__btn",onClick:function(){return function(e){return(DD=DD||et($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vd(qD,t);case 3:alert("Password reset link sent!"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}(n)},children:"Send password reset email"}),(0,eL.jsxs)("div",{children:["Don't have an account? ",(0,eL.jsx)(Qe,{to:"/register",children:"Register"})," now."]})]})})};var SL=function(){var e,n=l(kL(qD),3),r=n[0],i=n[1],a=(n[2],l((0,t.useState)(""),2)),o=a[0],s=a[1],u=we();return(0,t.useEffect)((function(){if(!i)return r?void function(){(e=e||et($e().mark((function e(){var t,n,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=mO(gR(KD,"users"),yO("uid","==",null===r||void 0===r?void 0:r.uid)),e.next=4,GO(t);case 4:n=e.sent,i=n.docs[0].data(),s(i.name),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),alert("An error occured while fetching user data");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}():u("/login")}),[r,i]),(0,eL.jsx)("div",{className:"dashboard",children:(0,eL.jsxs)("p",{className:"dashboard__container",style:{backgroundColor:"white",padding:"30px",height:"55%",width:"fit-content"},children:["Logged in as",(0,eL.jsx)("p",{class:"dash",children:o}),"Email",(0,eL.jsx)("p",{class:"dash",children:null===r||void 0===r?void 0:r.email}),(0,eL.jsx)("button",{className:"dashboard__btn",onClick:YD,children:"Logout"})]})})};function IL(e,t){return function(){return e.apply(t,arguments)}}var EL,TL=Object.prototype.toString,CL=Object.getPrototypeOf,NL=(EL=Object.create(null),function(e){var t=TL.call(e);return EL[t]||(EL[t]=t.slice(8,-1).toLowerCase())}),PL=function(e){return e=e.toLowerCase(),function(t){return NL(t)===e}},RL=function(e){return function(t){return typeof t===e}},OL=Array.isArray,DL=RL("undefined");var LL=PL("ArrayBuffer");var FL=RL("string"),ML=RL("function"),jL=RL("number"),UL=function(e){return null!==e&&"object"===typeof e},VL=function(e){if("object"!==NL(e))return!1;var t=CL(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},BL=PL("Date"),zL=PL("File"),qL=PL("Blob"),KL=PL("FileList"),GL=PL("URLSearchParams");function HL(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),OL(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)o=s[n],t.call(null,e[o],o,e)}}function WL(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var QL="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,YL=function(e){return!DL(e)&&e!==QL};var XL,JL=(XL="undefined"!==typeof Uint8Array&&CL(Uint8Array),function(e){return XL&&e instanceof XL}),$L=PL("HTMLFormElement"),ZL=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),eF=PL("RegExp"),tF=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};HL(n,(function(n,i){var a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},nF="abcdefghijklmnopqrstuvwxyz",rF="0123456789",iF={DIGIT:rF,ALPHA:nF,ALPHA_DIGIT:nF+nF.toUpperCase()+rF};var aF=PL("AsyncFunction"),oF={isArray:OL,isArrayBuffer:LL,isBuffer:function(e){return null!==e&&!DL(e)&&null!==e.constructor&&!DL(e.constructor)&&ML(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||ML(e.append)&&("formdata"===(t=NL(e))||"object"===t&&ML(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&LL(e.buffer)},isString:FL,isNumber:jL,isBoolean:function(e){return!0===e||!1===e},isObject:UL,isPlainObject:VL,isUndefined:DL,isDate:BL,isFile:zL,isBlob:qL,isRegExp:eF,isFunction:ML,isStream:function(e){return UL(e)&&ML(e.pipe)},isURLSearchParams:GL,isTypedArray:JL,isFileList:KL,forEach:HL,merge:function e(){for(var t=(YL(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&WL(n,i)||i;VL(n[a])&&VL(r)?n[a]=e(n[a],r):VL(r)?n[a]=e({},r):OL(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&HL(arguments[i],r);return n},extend:function(e,t,n){return HL(t,(function(t,r){n&&ML(t)?e[r]=IL(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&CL(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:NL,kindOfTest:PL,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(OL(e))return e;var t=e.length;if(!jL(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:$L,hasOwnProperty:ZL,hasOwnProp:ZL,reduceDescriptors:tF,freezeMethods:function(e){tF(e,(function(t,n){if(ML(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];ML(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return OL(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:WL,global:QL,isContextDefined:YL,ALPHABET:iF,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iF.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&ML(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(UL(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=OL(n)?[]:{};return HL(n,(function(t,n){var a=e(t,r+1);!DL(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:aF,isThenable:function(e){return e&&(UL(e)||ML(e))&&ML(e.then)&&ML(e.catch)}};function sF(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}oF.inherits(sF,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oF.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var uF=sF.prototype,cF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){cF[e]={value:e}})),Object.defineProperties(sF,cF),Object.defineProperty(uF,"isAxiosError",{value:!0}),sF.from=function(e,t,n,r,i,a){var o=Object.create(uF);return oF.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),sF.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var lF=sF;function fF(e){return oF.isPlainObject(e)||oF.isArray(e)}function hF(e){return oF.endsWith(e,"[]")?e.slice(0,-2):e}function dF(e,t,n){return e?e.concat(t).map((function(e,t){return e=hF(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var pF=oF.toFlatObject(oF,{},null,(function(e){return/^is[A-Z]/.test(e)}));var vF=function(e,t,n){if(!oF.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=oF.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!oF.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&oF.isSpecCompliantForm(t);if(!oF.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(oF.isDate(e))return e.toISOString();if(!s&&oF.isBlob(e))throw new lF("Blob is not supported. Use a Buffer instead.");return oF.isArrayBuffer(e)||oF.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(oF.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(oF.isArray(e)&&function(e){return oF.isArray(e)&&!e.some(fF)}(e)||(oF.isFileList(e)||oF.endsWith(n,"[]"))&&(s=oF.toArray(e)))return n=hF(n),s.forEach((function(e,r){!oF.isUndefined(e)&&null!==e&&t.append(!0===o?dF([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!fF(e)||(t.append(dF(i,n,a),u(e)),!1)}var l=[],f=Object.assign(pF,{defaultVisitor:c,convertValue:u,isVisitable:fF});if(!oF.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!oF.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),oF.forEach(n,(function(n,a){!0===(!(oF.isUndefined(n)||null===n)&&i.call(t,n,oF.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function mF(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function gF(e,t){this._pairs=[],e&&vF(e,this,t)}var yF=gF.prototype;yF.append=function(e,t){this._pairs.push([e,t])},yF.toString=function(e){var t=e?function(t){return e.call(this,t,mF)}:mF;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var kF=gF;function bF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wF(e,t,n){if(!t)return e;var r,i=n&&n.encode||bF,a=n&&n.serialize;if(r=a?a(t,n):oF.isURLSearchParams(t)?t.toString():new kF(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var xF=function(){function e(){d(this,e),this.handlers=[]}return g(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){oF.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),AF=xF,_F={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SF={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:kF,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var IF=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),s=i>=e.length;return a=!a&&oF.isArray(r)?r.length:a,s?(oF.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&oF.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&oF.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(oF.isFormData(e)&&oF.isFunction(e.entries)){var n={};return oF.forEachEntry(e,(function(e,r){t(function(e){return oF.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var EF={transitional:_F,adapter:SF.isNode?"http":"xhr",transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=oF.isObject(e);if(a&&oF.isHTMLForm(e)&&(e=new FormData(e)),oF.isFormData(e))return i&&i?JSON.stringify(IF(e)):e;if(oF.isArrayBuffer(e)||oF.isBuffer(e)||oF.isStream(e)||oF.isFile(e)||oF.isBlob(e))return e;if(oF.isArrayBufferView(e))return e.buffer;if(oF.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return vF(e,new SF.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return SF.isNode&&oF.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=oF.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return vF(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(oF.isString(e))try{return(t||JSON.parse)(e),oF.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||EF.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&oF.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw lF.from(a,lF.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:SF.classes.FormData,Blob:SF.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oF.forEach(["delete","get","head","post","put","patch"],(function(e){EF.headers[e]={}}));var TF=EF,CF=oF.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NF=Symbol("internals");function PF(e){return e&&String(e).trim().toLowerCase()}function RF(e){return!1===e||null==e?e:oF.isArray(e)?e.map(RF):String(e)}function OF(e,t,n,r,i){return oF.isFunction(r)?r.call(this,t,n):(i&&(t=n),oF.isString(t)?oF.isString(r)?-1!==t.indexOf(r):oF.isRegExp(r)?r.test(t):void 0:void 0)}var DF=function(e,t){function n(e){d(this,n),e&&this.set(e)}return g(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=PF(t);if(!i)throw new Error("header name must be a non-empty string");var a=oF.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=RF(e))}var a=function(e,t){return oF.forEach(e,(function(e,n){return i(e,n,t)}))};return oF.isPlainObject(e)||e instanceof this.constructor?a(e,t):oF.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&CF[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=PF(e)){var n=oF.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(oF.isFunction(t))return t.call(this,r,n);if(oF.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=PF(e)){var n=oF.findKey(this,e);return!(!n||void 0===this[n]||t&&!OF(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=PF(e)){var i=oF.findKey(n,e);!i||t&&!OF(0,n[i],i,t)||(delete n[i],r=!0)}}return oF.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!OF(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return oF.forEach(this,(function(r,i){var a=oF.findKey(n,i);if(a)return t[a]=RF(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=RF(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return oF.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&oF.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=l(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[NF]=this[NF]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=PF(e);t[r]||(!function(e,t){var n=oF.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return oF.isArray(e)?e.forEach(r):r(e),this}}]),n}();DF.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),oF.reduceDescriptors(DF.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),oF.freezeMethods(DF);var LF=DF;function FF(e,t){var n=this||TF,r=t||n,i=LF.from(r.headers),a=r.data;return oF.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function MF(e){return!(!e||!e.__CANCEL__)}function jF(e,t,n){lF.call(this,null==e?"canceled":e,lF.ERR_CANCELED,t,n),this.name="CanceledError"}oF.inherits(jF,lF,{__CANCEL__:!0});var UF=jF;var VF=SF.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),oF.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),oF.isString(r)&&o.push("path="+r),oF.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function BF(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var zF=SF.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=oF.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var qF=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var h=c&&u-c;return h?Math.round(1e3*f/h):void 0}}};function KF(e,t){var n=0,r=qF(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-n,u=r(s);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var GF="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=LF.from(e.headers).normalize(),o=e.responseType;function s(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}oF.isFormData(i)&&(SF.isStandardBrowserEnv||SF.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var u=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=BF(e.baseURL,e.url);function h(){if(u){var r=LF.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new lF("Request failed with status code "+n.status,[lF.ERR_BAD_REQUEST,lF.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),s()}),(function(e){n(e),s()}),{data:o&&"text"!==o&&"json"!==o?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}}if(u.open(e.method.toUpperCase(),wF(f,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new lF("Request aborted",lF.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new lF("Network Error",lF.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||_F;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new lF(t,r.clarifyTimeoutError?lF.ETIMEDOUT:lF.ECONNABORTED,e,u)),u=null},SF.isStandardBrowserEnv){var d=(e.withCredentials||zF(f))&&e.xsrfCookieName&&VF.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in u&&oF.forEach(a.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),oF.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),o&&"json"!==o&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",KF(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",KF(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){u&&(n(!t||t.type?new UF(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===SF.protocols.indexOf(p)?n(new lF("Unsupported protocol "+p+":",lF.ERR_BAD_REQUEST,e)):u.send(i||null)}))},HF={http:null,xhr:GF};oF.forEach(HF,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var WF=function(e){for(var t,n,r=(e=oF.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=oF.isString(t)?HF[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new lF("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(oF.hasOwnProp(HF,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!oF.isFunction(n))throw new TypeError("adapter is not a function");return n};function QF(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new UF(null,e)}function YF(e){return QF(e),e.headers=LF.from(e.headers),e.data=FF.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),WF(e.adapter||TF.adapter)(e).then((function(t){return QF(e),t.data=FF.call(e,e.transformResponse,t),t.headers=LF.from(t.headers),t}),(function(t){return MF(t)||(QF(e),t&&t.response&&(t.response.data=FF.call(e,e.transformResponse,t.response),t.response.headers=LF.from(t.response.headers))),Promise.reject(t)}))}var XF=function(e){return e instanceof LF?e.toJSON():e};function JF(e,t){t=t||{};var n={};function r(e,t,n){return oF.isPlainObject(e)&&oF.isPlainObject(t)?oF.merge.call({caseless:n},e,t):oF.isPlainObject(t)?oF.merge({},t):oF.isArray(t)?t.slice():t}function i(e,t,n){return oF.isUndefined(t)?oF.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!oF.isUndefined(t))return r(void 0,t)}function o(e,t){return oF.isUndefined(t)?oF.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t){return i(XF(e),XF(t),!0)}};return oF.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);oF.isUndefined(o)&&a!==s||(n[r]=o)})),n}var $F="1.5.0",ZF={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){ZF[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var eM={};ZF.transitional=function(e,t,n){function r(e,t){return"[Axios v1.5.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new lF(r(i," has been removed"+(t?" in "+t:"")),lF.ERR_DEPRECATED);return t&&!eM[i]&&(eM[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var tM={assertOptions:function(e,t,n){if("object"!==typeof e)throw new lF("options must be an object",lF.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new lF("option "+a+" must be "+u,lF.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new lF("Unknown option "+a,lF.ERR_BAD_OPTION)}},validators:ZF},nM=tM.validators,rM=function(){function e(t){d(this,e),this.defaults=t,this.interceptors={request:new AF,response:new AF}}return g(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=JF(this.defaults,t),r=n.transitional,i=n.paramsSerializer,a=n.headers;void 0!==r&&tM.assertOptions(r,{silentJSONParsing:nM.transitional(nM.boolean),forcedJSONParsing:nM.transitional(nM.boolean),clarifyTimeoutError:nM.transitional(nM.boolean)},!1),null!=i&&(oF.isFunction(i)?t.paramsSerializer={serialize:i}:tM.assertOptions(i,{encode:nM.function,serialize:nM.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=a&&oF.merge(a.common,a[t.method]);a&&oF.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=LF.concat(o,a);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!u){var d=[YF.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=s.length;var p=t;for(h=0;h<f;){var v=s[h++],m=s[h++];try{p=v(p)}catch(g){m.call(this,g);break}}try{c=YF.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return wF(BF((e=JF(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();oF.forEach(["delete","get","head","options"],(function(e){rM.prototype[e]=function(t,n){return this.request(JF(n||{},{method:e,url:t,data:(n||{}).data}))}})),oF.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(JF(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}rM.prototype[e]=t(),rM.prototype[e+"Form"]=t(!0)}));var iM=rM,aM=function(){function e(t){if(d(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new UF(e,t,i),n(r.reason))}))}return g(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),oM=aM;var sM={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sM).forEach((function(e){var t=l(e,2),n=t[0],r=t[1];sM[r]=n}));var uM=sM;var cM=function e(t){var n=new iM(t),r=IL(iM.prototype.request,n);return oF.extend(r,iM.prototype,n,{allOwnKeys:!0}),oF.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(JF(t,n))},r}(TF);cM.Axios=iM,cM.CanceledError=UF,cM.CancelToken=oM,cM.isCancel=MF,cM.VERSION=$F,cM.toFormData=vF,cM.AxiosError=lF,cM.Cancel=cM.CanceledError,cM.all=function(e){return Promise.all(e)},cM.spread=function(e){return function(t){return e.apply(null,t)}},cM.isAxiosError=function(e){return oF.isObject(e)&&!0===e.isAxiosError},cM.mergeConfig=JF,cM.AxiosHeaders=LF,cM.formToJSON=function(e){return IF(oF.isHTMLForm(e)?new FormData(e):e)},cM.getAdapter=WF,cM.HttpStatusCode=uM,cM.default=cM;var lM,fM=cM;var hM,dM=function(e,t,n){return(lM=lM||et($e().mark((function e(t,n,r){var i,a,o,s,u,c,l,f;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://leetcode.com/problems/",i=function(e,t){return e.filter((function(e){return e.stat.question__title.includes(t)}))},a=function(e,t){return-1===t?e:e.filter((function(e){return e.difficulty.level===t}))},o=function(e,t){return h(e).sort((function(){return Math.random()-.5})).slice(0,t)},e.prev=4,e.next=7,fM.get("https://leetcode.com/api/problems/algorithms/");case 7:return s=e.sent,u=s.data.stat_status_pairs,c=i(u,n),l=a(c,t),f=o(l,r),e.abrupt("return",f[0].stat.question__title_slug);case 15:throw e.prev=15,e.t0=e.catch(4),console.error("Error fetching problems:",e.t0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)};function pM(){var e,n=l((0,t.useState)(""),2),r=n[0],i=n[1],a=l((0,t.useState)(""),2),o=a[0],s=a[1],u=l((0,t.useState)([]),2),c=u[0],f=u[1],d=l((0,t.useState)([]),2),p=(d[0],d[1],l((0,t.useState)(""),2)),v=(p[0],p[1],l((0,t.useState)(),2)),m=(v[0],v[1],l((0,t.useState)(""),2)),g=m[0],y=m[1],k=l((0,t.useState)([]),2),b=k[0],w=k[1];return(0,t.useEffect)((function(){var e;!function(){(e=e||et($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XD();case 2:return t=e.sent,e.next=5,vM(t);case 5:n=e.sent,w(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}),[]),(0,eL.jsxs)("div",{className:"recommendations-container",children:[(0,eL.jsxs)("div",{className:"problem-stats",children:[(0,eL.jsxs)("div",{className:"problem-count",children:["Problems Solved ",(0,eL.jsx)("br",{}),(0,eL.jsx)("span",{id:"solved",children:b[3]})]}),(0,eL.jsxs)("div",{className:"difficulty-count",children:[(0,eL.jsxs)("p",{id:"easy",children:["Easy",(0,eL.jsx)("br",{}),(0,eL.jsx)("span",{className:"solved",children:b[0]}),"  ",(0,eL.jsxs)("span",{className:"outOf",children:[" / ",b[3]]})]}),(0,eL.jsxs)("p",{id:"medium",children:["Medium",(0,eL.jsx)("br",{}),(0,eL.jsx)("span",{className:"solved",children:b[1]})," ",(0,eL.jsxs)("span",{className:"outOf",children:[" / ",b[3]]})]}),(0,eL.jsxs)("p",{id:"hard",children:["Hard",(0,eL.jsx)("br",{}),(0,eL.jsx)("span",{className:"solved",children:b[2]})," ",(0,eL.jsxs)("span",{className:"outOf",children:[" / ",b[3]]})]})]})]}),(0,eL.jsxs)("div",{className:"select-difficulty",children:[(0,eL.jsx)("div",{className:"section-header",children:"1. Select the Difficulty"}),(0,eL.jsxs)("div",{className:"radio-buttons",children:[(0,eL.jsxs)("li",{children:[(0,eL.jsx)("input",{type:"radio",value:"easy",checked:"easy"===r,onChange:function(e){return i(e.target.value)}}),(0,eL.jsx)("label",{children:"Easy"})]}),(0,eL.jsxs)("li",{children:[(0,eL.jsx)("input",{type:"radio",value:"medium",checked:"medium"===r,onChange:function(e){return i(e.target.value)}}),(0,eL.jsx)("label",{children:"Medium"})]}),(0,eL.jsxs)("li",{children:[(0,eL.jsx)("input",{type:"radio",value:"hard",checked:"hard"===r,onChange:function(e){return i(e.target.value)}}),(0,eL.jsx)("label",{children:"Hard"})]})]})]}),(0,eL.jsxs)("div",{className:"select-topic",children:[(0,eL.jsx)("div",{className:"section-header",children:"2. Select the Topic"}),(0,eL.jsxs)("div",{className:"topic-dropdown",children:[(0,eL.jsxs)("select",{value:o,onChange:function(e){return s(e.target.value)},children:[(0,eL.jsx)("option",{value:"",children:"Select a topic..."}),(0,eL.jsx)("option",{value:"Array",children:"Array"}),(0,eL.jsx)("option",{value:"String",children:"String"}),(0,eL.jsx)("option",{value:"Hash",children:"Hash Table"}),(0,eL.jsx)("option",{value:"Recursion",children:"Recursion"}),(0,eL.jsx)("option",{value:"Linked",children:"Linked Lists"}),(0,eL.jsx)("option",{value:"Tree",children:"Binary Trees"})]}),(0,eL.jsx)("button",{id:"button",onClick:function(){if(r&&o){var t={difficulty:r,topic:o,randomLink:g};f([].concat(h(c),[t])),function(){(e=e||et($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next="easy"===e.t0?3:"medium"===e.t0?5:"hard"===e.t0?7:9;break;case 3:return t=1,e.abrupt("break",10);case 5:return t=2,e.abrupt("break",10);case 7:return t=3,e.abrupt("break",10);case 9:t=1;case 10:return e.next=12,dM(t,o,1);case 12:(n=e.sent)&&y(n);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}},children:"Submit"})]})]}),(0,eL.jsx)("div",{className:"recommendation-list",children:c.map((function(e,t){return(0,eL.jsxs)("div",{className:"recommendation",children:[(0,eL.jsxs)("p",{children:["Difficulty: ",e.difficulty]}),(0,eL.jsxs)("a",{href:"https://leetcode.com/problems/"+e.randomLink,children:[e.randomLink,": "]}),(0,eL.jsxs)("p",{children:["Topic: ",e.topic]})]},t)}))})]})}function vM(e){return(hM=hM||et($e().mark((function e(t){var n,r,i,a,o,s,u,c,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://leetcode.com/graphql",n={"Content-Type":"application/json","User-Agent":"Mozilla/5.0"},i={query:"\n        query userProblemsSolved($username: String!) {\n          allQuestionsCount {\n            difficulty\n            count\n          }\n          matchedUser(username: $username) {\n            problemsSolvedBeatsStats {\n              difficulty\n              percentage\n            }\n            submitStatsGlobal {\n              acSubmissionNum {\n                difficulty\n                count\n              }\n            }\n          }\n        }\n      ",variables:{username:r=t}},e.prev=4,e.next=7,fetch("https://leetcode.com/graphql",{method:"POST",headers:n,body:JSON.stringify(i)});case 7:if(!(a=e.sent).ok){e.next=20;break}return e.next=11,a.json();case 11:return o=e.sent,s=o.data.matchedUser.submitStatsGlobal.acSubmissionNum.find((function(e){return"All"===e.difficulty})).count,u=o.data.matchedUser.submitStatsGlobal.acSubmissionNum.find((function(e){return"Easy"===e.difficulty})).count,c=o.data.matchedUser.submitStatsGlobal.acSubmissionNum.find((function(e){return"Medium"===e.difficulty})).count,l=o.data.matchedUser.submitStatsGlobal.acSubmissionNum.find((function(e){return"Hard"===e.difficulty})).count,"\n          The User: ".concat(r,"\n          solved ").concat(s," problems. The category count is:\n          Easy: ").concat(u,"\n          Medium: ").concat(c,"\n          Hard: ").concat(l,"\n        "),e.abrupt("return",[u,c,l,s]);case 20:throw new Error("Error ".concat(a.status,": ").concat(a.statusText));case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(4),console.error(e.t0);case 26:case"end":return e.stop()}}),e,null,[[4,23]])})))).apply(this,arguments)}function mM(){var e,n,r,i=l((0,t.useState)([]),2),a=(i[0],i[1]),o=l((0,t.useState)([]),2),s=o[0],u=o[1];function c(e){return new Promise((function(t){return setTimeout(t,e)}))}function f(){return(e=e||et($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZD();case 2:t=e.sent,n=0;case 4:if(!(n<2)){e.next=10;break}return e.next=7,c(1e3*n);case 7:n++,e.next=4;break;case 10:return a(t),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.useEffect)((function(){!function(){(n=n||et($e().mark((function e(){var t,n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return t=e.sent,n=t.map((function(e){return{name:e.key,solved:e.val}})),console.log(n),u(n),console.log(s),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}()}),[]),(0,eL.jsxs)("div",{className:"board",children:[(0,eL.jsx)("h1",{className:"leaderboard",children:"Leaderboard"}),(0,eL.jsx)("div",{className:"duration",children:"All-Time"}),(0,eL.jsxs)("div",{class:"label",children:[(0,eL.jsx)("div",{children:"Username"}),(0,eL.jsx)("div",{children:"Time"})]}),(0,eL.jsx)(iL,{Ordered:(r=s,r.sort((function(e,t){return e.time,t.time,t.time-e.time})))}),(0,eL.jsx)("button",{id:"tryAgain",onClick:function(){return QD()},children:"Try Again"})]})}vM();var gM=function(){return(0,eL.jsx)("div",{className:"app",children:(0,eL.jsxs)(Ge,{children:[(0,eL.jsx)(tL,{}),(0,eL.jsxs)(Fe,{children:[(0,eL.jsx)(De,{exact:!0,path:"/login",element:(0,eL.jsx)(xL,{})}),(0,eL.jsx)(De,{exact:!0,path:"/register",element:(0,eL.jsx)(AL,{})}),(0,eL.jsx)(De,{exact:!0,path:"/reset",element:(0,eL.jsx)(_L,{})}),(0,eL.jsx)(De,{exact:!0,path:"/dashboard",element:(0,eL.jsx)(SL,{})}),(0,eL.jsx)(De,{path:"/",element:(0,eL.jsx)(nL,{})}),(0,eL.jsx)(De,{path:"/board",element:(0,eL.jsx)(hL,{})}),(0,eL.jsx)(De,{path:"/competitions",element:(0,eL.jsx)(fL,{})}),(0,eL.jsx)(De,{path:"/recommendations",element:(0,eL.jsx)(pM,{})}),(0,eL.jsx)(De,{path:"/POTDboard",element:(0,eL.jsx)(mM,{})})]})]})})},yM=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,eL.jsx)(t.StrictMode,{children:(0,eL.jsx)(gM,{})})),yM()}()}();
//# sourceMappingURL=main.4922fe76.js.map